archetype test

record voter {
  weight   : nat;
  voted    : bool = false;
  delegate : option<address> = none;
  vote     : nat;
}

asset partitioned identified by k {
  k : nat;
  v : nat
}

asset partitioning identified by a {
  a      : address;
  assets : aggregate<partitioned>
}

entry exec () {
    var vo = { weight = 1; vote = 234523 };
    partitioned.add({ k = 0; v = 0 })
}