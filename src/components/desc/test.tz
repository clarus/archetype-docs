# (Pair 0 { })
{
  storage (pair (int %toto) (map %a string (pair (int %val) (int %val2))));
  parameter (unit %exec);
  code { UNPAIR;
         DIP { UNPAIR 2 };
         DROP;
         DUP 2;
         DUP 3;
         PUSH string "toto";
         GET;
         IF_NONE
           { PUSH string "a";
             PUSH string "AssetNotFound";
             PAIR;
             FAILWITH }
           {  };
         UNPAIR;
         DROP;
         PUSH int 3;
         PAIR;
         SOME;
         PUSH string "toto";
         UPDATE;
         DIP { DIG 1; DROP };
         DUG 1;
         PAIR 2;
         NIL operation;
         PAIR };
}

