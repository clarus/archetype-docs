"use strict";(self.webpackChunkarchetype_docs=self.webpackChunkarchetype_docs||[]).push([[3639],{4048:function(e,t,a){var n=a(5318);t.Z=void 0;var r=n(a(4938)),l=a(5893),o=(0,r.default)((0,l.jsx)("path",{d:"M19 19H5V5h7V3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2v-7h-2v7zM14 3v2h3.59l-9.83 9.83 1.41 1.41L19 6.41V10h2V3h-7z"}),"OpenInNew");t.Z=o},1519:function(e,t,a){a.d(t,{Z:function(){return y}});var n=a(3366),r=a(7462),l=a(7294),o=a(6010),i=a(7192),s=a(1796),p=a(2110),c=a(1539),d=a(8979);function m(e){return(0,d.Z)("MuiDivider",e)}(0,a(6087).Z)("MuiDivider",["root","absolute","fullWidth","inset","middle","flexItem","light","vertical","withChildren","withChildrenVertical","textAlignRight","textAlignLeft","wrapper","wrapperVertical"]);var u=a(5893);const f=["absolute","children","className","component","flexItem","light","orientation","role","textAlign","variant"],k=(0,p.ZP)("div",{name:"MuiDivider",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:a}=e;return[t.root,a.absolute&&t.absolute,t[a.variant],a.light&&t.light,"vertical"===a.orientation&&t.vertical,a.flexItem&&t.flexItem,a.children&&t.withChildren,a.children&&"vertical"===a.orientation&&t.withChildrenVertical,"right"===a.textAlign&&"vertical"!==a.orientation&&t.textAlignRight,"left"===a.textAlign&&"vertical"!==a.orientation&&t.textAlignLeft]}})((({theme:e,ownerState:t})=>(0,r.Z)({margin:0,flexShrink:0,borderWidth:0,borderStyle:"solid",borderColor:e.palette.divider,borderBottomWidth:"thin"},t.absolute&&{position:"absolute",bottom:0,left:0,width:"100%"},t.light&&{borderColor:(0,s.Fq)(e.palette.divider,.08)},"inset"===t.variant&&{marginLeft:72},"middle"===t.variant&&"horizontal"===t.orientation&&{marginLeft:e.spacing(2),marginRight:e.spacing(2)},"middle"===t.variant&&"vertical"===t.orientation&&{marginTop:e.spacing(1),marginBottom:e.spacing(1)},"vertical"===t.orientation&&{height:"100%",borderBottomWidth:0,borderRightWidth:"thin"},t.flexItem&&{alignSelf:"stretch",height:"auto"})),(({theme:e,ownerState:t})=>(0,r.Z)({},t.children&&{display:"flex",whiteSpace:"nowrap",textAlign:"center",border:0,"&::before, &::after":{position:"relative",width:"100%",borderTop:`thin solid ${e.palette.divider}`,top:"50%",content:'""',transform:"translateY(50%)"}})),(({theme:e,ownerState:t})=>(0,r.Z)({},t.children&&"vertical"===t.orientation&&{flexDirection:"column","&::before, &::after":{height:"100%",top:"0%",left:"50%",borderTop:0,borderLeft:`thin solid ${e.palette.divider}`,transform:"translateX(0%)"}})),(({ownerState:e})=>(0,r.Z)({},"right"===e.textAlign&&"vertical"!==e.orientation&&{"&::before":{width:"90%"},"&::after":{width:"10%"}},"left"===e.textAlign&&"vertical"!==e.orientation&&{"&::before":{width:"10%"},"&::after":{width:"90%"}}))),h=(0,p.ZP)("span",{name:"MuiDivider",slot:"Wrapper",overridesResolver:(e,t)=>{const{ownerState:a}=e;return[t.wrapper,"vertical"===a.orientation&&t.wrapperVertical]}})((({theme:e,ownerState:t})=>(0,r.Z)({display:"inline-block",paddingLeft:`calc(${e.spacing(1)} * 1.2)`,paddingRight:`calc(${e.spacing(1)} * 1.2)`},"vertical"===t.orientation&&{paddingTop:`calc(${e.spacing(1)} * 1.2)`,paddingBottom:`calc(${e.spacing(1)} * 1.2)`})));var y=l.forwardRef((function(e,t){const a=(0,c.Z)({props:e,name:"MuiDivider"}),{absolute:l=!1,children:s,className:p,component:d=(s?"div":"hr"),flexItem:y=!1,light:N=!1,orientation:v="horizontal",role:g=("hr"!==d?"separator":void 0),textAlign:E="center",variant:w="fullWidth"}=a,Z=(0,n.Z)(a,f),b=(0,r.Z)({},a,{absolute:l,component:d,flexItem:y,light:N,orientation:v,role:g,textAlign:E,variant:w}),C=(e=>{const{absolute:t,children:a,classes:n,flexItem:r,light:l,orientation:o,textAlign:s,variant:p}=e,c={root:["root",t&&"absolute",p,l&&"light","vertical"===o&&"vertical",r&&"flexItem",a&&"withChildren",a&&"vertical"===o&&"withChildrenVertical","right"===s&&"vertical"!==o&&"textAlignRight","left"===s&&"vertical"!==o&&"textAlignLeft"],wrapper:["wrapper","vertical"===o&&"wrapperVertical"]};return(0,i.Z)(c,m,n)})(b);return(0,u.jsx)(k,(0,r.Z)({as:d,className:(0,o.Z)(C.root,p),role:g,ref:t,ownerState:b},Z,{children:s?(0,u.jsx)(h,{className:C.wrapper,ownerState:b,children:s}):null}))}))},7342:function(e,t,a){a.d(t,{z:function(){return he}});var n=a(7294),r=a(9960),l=a(7462),o=a(3366),i=a(3905),s=a(9373),p=["components"],c={toc:[]};function d(e){var t=e.components,a=(0,o.Z)(e,p);return(0,i.kt)("wrapper",(0,l.Z)({},c,a,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("p",null,"Transfers ",(0,i.kt)("inlineCode",{parentName:"p"},"value")," tokens from ",(0,i.kt)("inlineCode",{parentName:"p"},"from")," to ",(0,i.kt)("inlineCode",{parentName:"p"},"to"),"."),(0,i.kt)("p",null,"If the caller is not equal to ",(0,i.kt)("inlineCode",{parentName:"p"},"from"),", then ",(0,i.kt)("a",{parentName:"p",href:"/docs/reference/expressions/constants#caller"},(0,i.kt)("inlineCode",{parentName:"a"},"caller"))," must have been allowed by from to transfer this amount to ",(0,i.kt)("inlineCode",{parentName:"p"},"to")),(0,i.kt)("p",null,"Approved amount is decreased by ",(0,i.kt)("inlineCode",{parentName:"p"},"value")," if applicable."),(0,i.kt)(s.Z,{title:"Code",width:"1.5",mdxType:"NamedDivider"}),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-archetype"},'entry %transfer (%from : address, %to : address, value : nat) {\n  require {\n    r1 : ledger[%from].tokens >= value otherwise "NotEnoughBalance";\n  }\n  effect {\n    if caller <> %from then begin\n      const current = ledger[%from].allowance[caller] ? the : 0;\n      const new_value ?=\n        int_to_nat(current - value) : ("NotEnoughAllowance", ((value, current)));\n      ledger[%from].allowance.put(caller, new_value);\n    end;\n    ledger.update(%from,   { tokens -= value });\n    ledger.add_update(%to, { tokens += value });\n  }\n}\n')),(0,i.kt)("p",null,(0,i.kt)("a",{parentName:"p",href:"/docs/reference/declarations/entrypoint#entry"},(0,i.kt)("inlineCode",{parentName:"a"},"entry"))," ",(0,i.kt)("a",{parentName:"p",href:"/docs/reference/types#address"},(0,i.kt)("inlineCode",{parentName:"a"},"address"))," ",(0,i.kt)("a",{parentName:"p",href:"/docs/reference/types#nat"},(0,i.kt)("inlineCode",{parentName:"a"},"nat"))," ",(0,i.kt)("a",{parentName:"p",href:"/docs/reference/declarations/entrypoint#require"},(0,i.kt)("inlineCode",{parentName:"a"},"require"))," ",(0,i.kt)("a",{parentName:"p",href:"/docs/reference/expressions/asset#ak--asset_keyaf"},(0,i.kt)("inlineCode",{parentName:"a"},"[]."))," ",(0,i.kt)("a",{parentName:"p",href:"/docs/reference/expressions/operators/arithmetic#a--b-12"},(0,i.kt)("inlineCode",{parentName:"a"},">="))," ",(0,i.kt)("a",{parentName:"p",href:"/docs/reference/declarations/entrypoint#effect"},(0,i.kt)("inlineCode",{parentName:"a"},"effect"))," ",(0,i.kt)("a",{parentName:"p",href:"/docs/reference/instructions/control#if"},(0,i.kt)("inlineCode",{parentName:"a"},"if"))," ",(0,i.kt)("a",{parentName:"p",href:"/docs/reference/expressions/constants#caller"},(0,i.kt)("inlineCode",{parentName:"a"},"caller"))," ",(0,i.kt)("a",{parentName:"p",href:"/docs/reference/expressions/operators/arithmetic#a--b-8"},(0,i.kt)("inlineCode",{parentName:"a"},"<>"))," ",(0,i.kt)("a",{parentName:"p",href:"/docs/reference/instructions/sequence"},(0,i.kt)("inlineCode",{parentName:"a"},"begin"))," ",(0,i.kt)("a",{parentName:"p",href:"/docs/reference/instructions/localvariable#const"},(0,i.kt)("inlineCode",{parentName:"a"},"const"))," ",(0,i.kt)("a",{parentName:"p",href:"/docs/reference/expressions/controls#a--b--c"},(0,i.kt)("inlineCode",{parentName:"a"},"?:"))," ",(0,i.kt)("a",{parentName:"p",href:"/docs/reference/instructions/localvariable#"},(0,i.kt)("inlineCode",{parentName:"a"},"?="))," ",(0,i.kt)("a",{parentName:"p",href:"/docs/reference/expressions/builtins#int_to_nat(i%20:%20int)"},(0,i.kt)("inlineCode",{parentName:"a"},"into_to_nat"))," ",(0,i.kt)("a",{parentName:"p",href:"/docs/reference/instructions/containers#mputk-v"},(0,i.kt)("inlineCode",{parentName:"a"},"put"))," ",(0,i.kt)("a",{parentName:"p",href:"/docs/reference/instructions/asset#aupdatek--u-"},(0,i.kt)("inlineCode",{parentName:"a"},"update"))," ",(0,i.kt)("a",{parentName:"p",href:"/docs/reference/instructions/asset#aadd_updatek--u-"},(0,i.kt)("inlineCode",{parentName:"a"},"add_update"))))}d.isMDXComponent=!0;var m=["components"],u={toc:[]};function f(e){var t=e.components,a=(0,o.Z)(e,m);return(0,i.kt)("wrapper",(0,l.Z)({},u,a,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("p",null,"Approves ",(0,i.kt)("inlineCode",{parentName:"p"},"spender")," to transfer ",(0,i.kt)("inlineCode",{parentName:"p"},"value")," tokens owned by ",(0,i.kt)("a",{parentName:"p",href:"/docs/reference/expressions/constants#caller"},(0,i.kt)("inlineCode",{parentName:"a"},"caller")),"."),(0,i.kt)(s.Z,{title:"Code",width:"1.5",mdxType:"NamedDivider"}),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-archetype"},'entry approve(spender : address, value : nat) {\n  const previous = ledger[caller] ? (the.allowance[spender] ? the : 0) : 0;\n  do_fail_if(previous > 0 and value > 0, (("UnsafeAllowanceChange", previous)));\n  ledger[caller].allowance.put(spender, value);\n}\n')),(0,i.kt)("p",null,(0,i.kt)("a",{parentName:"p",href:"/docs/reference/declarations/entrypoint#entry"},(0,i.kt)("inlineCode",{parentName:"a"},"entry"))," ",(0,i.kt)("a",{parentName:"p",href:"/docs/reference/types#address"},(0,i.kt)("inlineCode",{parentName:"a"},"address"))," ",(0,i.kt)("a",{parentName:"p",href:"/docs/reference/types#nat"},(0,i.kt)("inlineCode",{parentName:"a"},"nat"))," ",(0,i.kt)("a",{parentName:"p",href:"/docs/reference/instructions/localvariable#const"},(0,i.kt)("inlineCode",{parentName:"a"},"const"))," ",(0,i.kt)("a",{parentName:"p",href:"/docs/reference/expressions/asset#ak--asset_keya"},(0,i.kt)("inlineCode",{parentName:"a"},"[]"))," ",(0,i.kt)("a",{parentName:"p",href:"/docs/reference/expressions/controls#a--b--c"},(0,i.kt)("inlineCode",{parentName:"a"},"?:"))," ",(0,i.kt)("a",{parentName:"p",href:"/docs/reference/instructions/divergent#do_fail_ift--bool-e--t"},(0,i.kt)("inlineCode",{parentName:"a"},"do_fail_if"))," ",(0,i.kt)("a",{parentName:"p",href:"/docs/reference/expressions/operators/arithmetic#a--b-11"},(0,i.kt)("inlineCode",{parentName:"a"},">"))," ",(0,i.kt)("a",{parentName:"p",href:"/docs/reference/instructions/containers#mputk-v"},(0,i.kt)("inlineCode",{parentName:"a"},"put"))))}f.isMDXComponent=!0;var k=["components"],h={toc:[]};function y(e){var t=e.components,a=(0,o.Z)(e,k);return(0,i.kt)("wrapper",(0,l.Z)({},h,a,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("p",null,"Getter of ",(0,i.kt)("a",{parentName:"p",href:"/docs/templates/fa12#total_supply"},(0,i.kt)("inlineCode",{parentName:"a"},"total_supply")),"."),(0,i.kt)(s.Z,{title:"Code",width:"1.5",mdxType:"NamedDivider"}),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-archetype"},"getter getTotalSupply () : nat {\n  return total_supply\n}\n")),(0,i.kt)("p",null,(0,i.kt)("a",{parentName:"p",href:"/docs/reference/declarations/entrypoint#getter"},(0,i.kt)("inlineCode",{parentName:"a"},"getter"))," ",(0,i.kt)("a",{parentName:"p",href:"/docs/reference/types#nat"},(0,i.kt)("inlineCode",{parentName:"a"},"nat"))))}y.isMDXComponent=!0;var N=["components"],v={toc:[]};function g(e){var t=e.components,a=(0,o.Z)(e,N);return(0,i.kt)("wrapper",(0,l.Z)({},v,a,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("p",null,"Getter of the number of tokens owned by ",(0,i.kt)("inlineCode",{parentName:"p"},"owner"),"."),(0,i.kt)(s.Z,{title:"Code",width:"1.5",mdxType:"NamedDivider"}),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-archetype"},"getter getBalance (owner : address) : nat {\n  return (ledger[owner] ? the.tokens : 0)\n}\n")),(0,i.kt)("p",null,(0,i.kt)("a",{parentName:"p",href:"/docs/reference/declarations/entrypoint#getter"},(0,i.kt)("inlineCode",{parentName:"a"},"getter"))," ",(0,i.kt)("a",{parentName:"p",href:"/docs/reference/types#address"},(0,i.kt)("inlineCode",{parentName:"a"},"address"))," ",(0,i.kt)("a",{parentName:"p",href:"/docs/reference/types#nat"},(0,i.kt)("inlineCode",{parentName:"a"},"nat"))," ",(0,i.kt)("a",{parentName:"p",href:"/docs/reference/expressions/asset#ak--asset_keya"},(0,i.kt)("inlineCode",{parentName:"a"},"[]"))," ",(0,i.kt)("a",{parentName:"p",href:"/docs/reference/expressions/controls#a--b--c"},(0,i.kt)("inlineCode",{parentName:"a"},"?:"))))}g.isMDXComponent=!0;var E=["components"],w={toc:[]};function Z(e){var t=e.components,a=(0,o.Z)(e,E);return(0,i.kt)("wrapper",(0,l.Z)({},w,a,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("p",null,"Getter of the allowed value ",(0,i.kt)("inlineCode",{parentName:"p"},"spender")," can transfer on behalf of ",(0,i.kt)("inlineCode",{parentName:"p"},"owner"),"."),(0,i.kt)(s.Z,{title:"Code",width:"1.5",mdxType:"NamedDivider"}),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-archetype"},"getter getAllowance (owner : address, spender : address) : nat {\n  return (ledger[owner] ? (the.allowance[spender] ? the : 0) : 0)\n}\n")),(0,i.kt)("p",null,(0,i.kt)("a",{parentName:"p",href:"/docs/reference/declarations/entrypoint#getter"},(0,i.kt)("inlineCode",{parentName:"a"},"getter"))," ",(0,i.kt)("a",{parentName:"p",href:"/docs/reference/types#address"},(0,i.kt)("inlineCode",{parentName:"a"},"address"))," ",(0,i.kt)("a",{parentName:"p",href:"/docs/reference/types#nat"},(0,i.kt)("inlineCode",{parentName:"a"},"nat"))," ",(0,i.kt)("a",{parentName:"p",href:"/docs/reference/expressions/asset#ak--asset_keya"},(0,i.kt)("inlineCode",{parentName:"a"},"[]"))," ",(0,i.kt)("a",{parentName:"p",href:"/docs/reference/expressions/controls#a--b--c"},(0,i.kt)("inlineCode",{parentName:"a"},"?:"))))}Z.isMDXComponent=!0;var b=["components"],C={toc:[]};function x(e){var t=e.components,a=(0,o.Z)(e,b);return(0,i.kt)("wrapper",(0,l.Z)({},C,a,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("p",null,"Associates an address to:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"tokens")," the number of tokens it owns"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"allowance")," that associates a ",(0,i.kt)("i",null,"spender")," address to the quantity it is allowed to spend")),(0,i.kt)(s.Z,{title:"Code",width:"1.5",mdxType:"NamedDivider"}),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-archetype"},"asset ledger identified by holder to big_map {\n  holder     : address;\n  tokens     : nat = 0;\n  allowance  : map<address, nat> = [];\n} initialized by {\n  { holder = caller; tokens = total_supply }\n}\n")),(0,i.kt)("p",null,(0,i.kt)("a",{parentName:"p",href:"/docs/reference/declarations/storage#asset"},(0,i.kt)("inlineCode",{parentName:"a"},"asset"))," ",(0,i.kt)("a",{parentName:"p",href:"/docs/reference/types#address"},(0,i.kt)("inlineCode",{parentName:"a"},"address"))," ",(0,i.kt)("a",{parentName:"p",href:"/docs/reference/types#nat"},(0,i.kt)("inlineCode",{parentName:"a"},"nat"))," ",(0,i.kt)("a",{parentName:"p",href:"/docs/reference/types#map%3CK,%20V%3E"},(0,i.kt)("inlineCode",{parentName:"a"},"map"))," ",(0,i.kt)("a",{parentName:"p",href:"/docs/reference/expressions/constants#caller"},(0,i.kt)("inlineCode",{parentName:"a"},"caller"))))}x.isMDXComponent=!0;var _=["components"],P={toc:[]};function T(e){var t=e.components,a=(0,o.Z)(e,_);return(0,i.kt)("wrapper",(0,l.Z)({},P,a,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("p",null,"Associates an ",(0,i.kt)("i",null,"owner")," address and a ",(0,i.kt)("i",null,"spender")," address to an amount of tokens."),(0,i.kt)(s.Z,{title:"Code",width:"1.5",mdxType:"NamedDivider"}),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-archetype"},"asset allowance identified by addr_owner addr_spender to big_map {\n  addr_owner       : address;\n  addr_spender     : address;\n  amount           : nat;\n}\n")))}T.isMDXComponent=!0;var D=["components"],M={toc:[]};function I(e){var t=e.components,a=(0,o.Z)(e,D);return(0,i.kt)("wrapper",(0,l.Z)({},M,a,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("p",null,"Contract ",(0,i.kt)("a",{parentName:"p",href:"/docs/reference/declarations/contract#parameters"},"parameter")," for the contract owner."),(0,i.kt)("p",null,"It is typically used to protect an entrypoint against other callers with a ",(0,i.kt)("a",{parentName:"p",href:"/docs/reference/declarations/entrypoint#called-by"},(0,i.kt)("inlineCode",{parentName:"a"},"called by"))," section:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-archetype"},"entry exec() {\n  called by owner\n  /* ... */\n}\n")),(0,i.kt)(s.Z,{title:"Code",width:"1.5",mdxType:"NamedDivider"}),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-archetype"},"archetype my_contract(owner : address)\n")),(0,i.kt)("p",null,(0,i.kt)("a",{parentName:"p",href:"/docs/reference/declarations/contract"},(0,i.kt)("inlineCode",{parentName:"a"},"archetype"))," ",(0,i.kt)("a",{parentName:"p",href:"/docs/reference/types#address"},(0,i.kt)("inlineCode",{parentName:"a"},"address"))))}I.isMDXComponent=!0;var A=["components"],z={toc:[]};function L(e){var t=e.components,a=(0,o.Z)(e,A);return(0,i.kt)("wrapper",(0,l.Z)({},z,a,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("p",null,"Variable used during transfer of ownership to store the owner candidate address."),(0,i.kt)(s.Z,{title:"Code",width:"1.5",mdxType:"NamedDivider"}),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-archetype"},"variable owner_candidate : option<address> = none\n")),(0,i.kt)("p",null,(0,i.kt)("a",{parentName:"p",href:"/docs/reference/declarations/storage#variable"},(0,i.kt)("inlineCode",{parentName:"a"},"variable"))," ",(0,i.kt)("a",{parentName:"p",href:"/docs/reference/types#option%3CT%3E"},(0,i.kt)("inlineCode",{parentName:"a"},"option"))," ",(0,i.kt)("a",{parentName:"p",href:"/docs/reference/types#address"},(0,i.kt)("inlineCode",{parentName:"a"},"address"))," ",(0,i.kt)("a",{parentName:"p",href:"/docs/reference/expressions/builtins#none%3CT%3E"},(0,i.kt)("inlineCode",{parentName:"a"},"none"))))}L.isMDXComponent=!0;var S=["components"],B={toc:[]};function F(e){var t=e.components,a=(0,o.Z)(e,S);return(0,i.kt)("wrapper",(0,l.Z)({},B,a,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("p",null,"Declares a condidate address to be the contract's owner."),(0,i.kt)(s.Z,{title:"Code",width:"1.5",mdxType:"NamedDivider"}),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-archetype"},"entry declare_ownership(candidate : address) {\n  called by owner\n  effect {\n    owner_candidate := some(candidate);\n  }\n}\n")),(0,i.kt)("p",null,(0,i.kt)("a",{parentName:"p",href:"/docs/reference/declarations/entrypoint#entry"},(0,i.kt)("inlineCode",{parentName:"a"},"entry"))," ",(0,i.kt)("a",{parentName:"p",href:"/docs/reference/types#address"},(0,i.kt)("inlineCode",{parentName:"a"},"address"))," ",(0,i.kt)("a",{parentName:"p",href:"/docs/reference/declarations/entrypoint#called-by"},(0,i.kt)("inlineCode",{parentName:"a"},"called by"))," ",(0,i.kt)("a",{parentName:"p",href:"/docs/reference/declarations/entrypoint#effect"},(0,i.kt)("inlineCode",{parentName:"a"},"effect"))," ",(0,i.kt)("a",{parentName:"p",href:"/docs/reference/instructions/assignment#a--b"},(0,i.kt)("inlineCode",{parentName:"a"},":="))," ",(0,i.kt)("a",{parentName:"p",href:"/docs/reference/expressions/builtins#some(v%20:%20T)"},(0,i.kt)("inlineCode",{parentName:"a"},"some"))))}F.isMDXComponent=!0;var X=["components"],R={toc:[]};function V(e){var t=e.components,a=(0,o.Z)(e,X);return(0,i.kt)("wrapper",(0,l.Z)({},R,a,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("p",null,"Declared candidate calls this method to confirm it is the new contract owner."),(0,i.kt)(s.Z,{title:"Code",width:"1.5",mdxType:"NamedDivider"}),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-archetype"},'entry claim_ownership() {\n  require {\n    r1: (claim_ownership ? the = caller : false) otherwise "INVALID_CALLER"\n  }\n  effect {\n    owner := caller;\n    owner_candidate := none\n  }\n}\n')),(0,i.kt)("p",null,(0,i.kt)("a",{parentName:"p",href:"/docs/reference/declarations/entrypoint#entry"},(0,i.kt)("inlineCode",{parentName:"a"},"entry"))," ",(0,i.kt)("a",{parentName:"p",href:"/docs/reference/declarations/entrypoint#require"},(0,i.kt)("inlineCode",{parentName:"a"},"require"))," ",(0,i.kt)("a",{parentName:"p",href:"/docs/reference/expressions/controls#a--b--c"},(0,i.kt)("inlineCode",{parentName:"a"},"?:"))," ",(0,i.kt)("a",{parentName:"p",href:"/docs/reference/declarations/entrypoint#effect"},(0,i.kt)("inlineCode",{parentName:"a"},"effect"))," ",(0,i.kt)("a",{parentName:"p",href:"/docs/reference/instructions/assignment#a--b"},(0,i.kt)("inlineCode",{parentName:"a"},":="))," ",(0,i.kt)("a",{parentName:"p",href:"/docs/reference/expressions/constants#caller"},(0,i.kt)("inlineCode",{parentName:"a"},"caller"))," ",(0,i.kt)("a",{parentName:"p",href:"/docs/reference/expressions/builtins#none"},(0,i.kt)("inlineCode",{parentName:"a"},"none"))))}V.isMDXComponent=!0;var W=["components"],q={toc:[]};function O(e){var t=e.components,a=(0,o.Z)(e,W);return(0,i.kt)("wrapper",(0,l.Z)({},q,a,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("p",null,"Contract's pausable state."),(0,i.kt)(s.Z,{title:"Code",width:"1.5",mdxType:"NamedDivider"}),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-archetype"},"variable paused : bool = false\n")),(0,i.kt)("p",null,(0,i.kt)("a",{parentName:"p",href:"/docs/reference/declarations/storage#variable"},(0,i.kt)("inlineCode",{parentName:"a"},"variable"))," ",(0,i.kt)("a",{parentName:"p",href:"/docs/reference/types#bool"},(0,i.kt)("inlineCode",{parentName:"a"},"bool"))))}O.isMDXComponent=!0;var U=["components"],j={toc:[]};function K(e){var t=e.components,a=(0,o.Z)(e,U);return(0,i.kt)("wrapper",(0,l.Z)({},j,a,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("p",null,"Pauses contract when unpaused."),(0,i.kt)(s.Z,{title:"Code",width:"1.5",mdxType:"NamedDivider"}),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-archetype"},"entry pause() {\n  called by owner\n  require {\n    r1: is_not_paused()\n  }\n  effect {\n    paused := true\n  }\n}\n")),(0,i.kt)("p",null,(0,i.kt)("a",{parentName:"p",href:"/docs/reference/declarations/entrypoint#entry"},(0,i.kt)("inlineCode",{parentName:"a"},"entry"))," ",(0,i.kt)("a",{parentName:"p",href:"/docs/reference/declarations/entrypoint#called-by"},(0,i.kt)("inlineCode",{parentName:"a"},"called by"))," ",(0,i.kt)("a",{parentName:"p",href:"/docs/reference/declarations/entrypoint#require"},(0,i.kt)("inlineCode",{parentName:"a"},"require"))," ",(0,i.kt)("a",{parentName:"p",href:"/docs/reference/declarations/entrypoint#effect"},(0,i.kt)("inlineCode",{parentName:"a"},"effect")),"  ",(0,i.kt)("a",{parentName:"p",href:"/docs/reference/instructions/assignment#a--b"},(0,i.kt)("inlineCode",{parentName:"a"},":="))))}K.isMDXComponent=!0;var $=["components"],H={toc:[]};function G(e){var t=e.components,a=(0,o.Z)(e,$);return(0,i.kt)("wrapper",(0,l.Z)({},H,a,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("p",null,"Unpauses contract when paused."),(0,i.kt)(s.Z,{title:"Code",width:"1.5",mdxType:"NamedDivider"}),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-archetype"},'entry unpause() {\n  called by owner\n  require {\n    r2: paused otherwise "CONTRACT_NOT_PAUSED"\n  }\n  effect {\n    paused := false\n  }\n}\n')),(0,i.kt)("p",null,(0,i.kt)("a",{parentName:"p",href:"/docs/reference/declarations/entrypoint#entry"},(0,i.kt)("inlineCode",{parentName:"a"},"entry"))," ",(0,i.kt)("a",{parentName:"p",href:"/docs/reference/declarations/entrypoint#called-by"},(0,i.kt)("inlineCode",{parentName:"a"},"called by"))," ",(0,i.kt)("a",{parentName:"p",href:"/docs/reference/declarations/entrypoint#require"},(0,i.kt)("inlineCode",{parentName:"a"},"require"))," ",(0,i.kt)("a",{parentName:"p",href:"/docs/reference/declarations/entrypoint#effect"},(0,i.kt)("inlineCode",{parentName:"a"},"effect")),"  ",(0,i.kt)("a",{parentName:"p",href:"/docs/reference/instructions/assignment#a--b"},(0,i.kt)("inlineCode",{parentName:"a"},":="))))}G.isMDXComponent=!0;var J=["components"],Y={toc:[]};function Q(e){var t=e.components,a=(0,o.Z)(e,J);return(0,i.kt)("wrapper",(0,l.Z)({},Y,a,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("p",null,"Utility function to call in ",(0,i.kt)("a",{parentName:"p",href:"/docs/reference/declarations/entrypoint#require"},(0,i.kt)("inlineCode",{parentName:"a"},"require"))," section of entrypoints, like in ",(0,i.kt)("a",{parentName:"p",href:"/docs/templates/pausable#pause"},(0,i.kt)("inlineCode",{parentName:"a"},"pause()"))," entrypoint below for example."),(0,i.kt)(s.Z,{title:"Code",width:"1.5",mdxType:"NamedDivider"}),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-archetype"},'function is_not_paused() : bool {\n  do_fail_if(paused, "CONTRACT_PAUSED");\n  return true\n}\n')),(0,i.kt)("p",null,(0,i.kt)("a",{parentName:"p",href:"/docs/reference/declarations/function"},(0,i.kt)("inlineCode",{parentName:"a"},"function"))," ",(0,i.kt)("a",{parentName:"p",href:"/docs/reference/instructions/divergent#do_fail_ift--bool-e--t"},(0,i.kt)("inlineCode",{parentName:"a"},"do_fail_if"))))}Q.isMDXComponent=!0;var ee=["components"],te={toc:[]};function ae(e){var t=e.components,a=(0,o.Z)(e,ee);return(0,i.kt)("wrapper",(0,l.Z)({},te,a,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("p",null,"Adds or removes an entry to the ",(0,i.kt)("a",{parentName:"p",href:"/docs/reference/expressions/variables#metadata"},(0,i.kt)("inlineCode",{parentName:"a"},"metadata"))," map."),(0,i.kt)(s.Z,{title:"Code",width:"1.5",mdxType:"NamedDivider"}),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-archetype"},"entry set_metadata(k: string, d : option<bytes>) {\n  called by owner\n  require { r3 : is_not_paused() }\n  effect {\n    metadata.update(k, d)\n  }\n}\n")),(0,i.kt)("p",null,(0,i.kt)("a",{parentName:"p",href:"/docs/reference/declarations/entrypoint#entry"},(0,i.kt)("inlineCode",{parentName:"a"},"entry"))," ",(0,i.kt)("a",{parentName:"p",href:"/docs/reference/types#string"},(0,i.kt)("inlineCode",{parentName:"a"},"string"))," ",(0,i.kt)("a",{parentName:"p",href:"/docs/reference/types#option%3CT%3E"},(0,i.kt)("inlineCode",{parentName:"a"},"option"))," ",(0,i.kt)("a",{parentName:"p",href:"/docs/reference/types#bytes"},(0,i.kt)("inlineCode",{parentName:"a"},"bytes"))," ",(0,i.kt)("a",{parentName:"p",href:"/docs/reference/declarations/entrypoint#called-by"},(0,i.kt)("inlineCode",{parentName:"a"},"called by"))," ",(0,i.kt)("a",{parentName:"p",href:"/docs/reference/declarations/entrypoint#require"},(0,i.kt)("inlineCode",{parentName:"a"},"require"))," ",(0,i.kt)("a",{parentName:"p",href:"/docs/reference/declarations/entrypoint#effect"},(0,i.kt)("inlineCode",{parentName:"a"},"effect"))," ",(0,i.kt)("a",{parentName:"p",href:"/docs/reference/expressions/variables#metadata"},(0,i.kt)("inlineCode",{parentName:"a"},"metadata"))," ",(0,i.kt)("a",{parentName:"p",href:"/docs/reference/instructions/containers#mupdatek--k-o--optiont"},(0,i.kt)("inlineCode",{parentName:"a"},"update"))))}ae.isMDXComponent=!0;var ne=["components"],re={toc:[]};function le(e){var t=e.components,a=(0,o.Z)(e,ne);return(0,i.kt)("wrapper",(0,l.Z)({},re,a,{components:t,mdxType:"MDXLayout"}),(0,i.kt)(s.Z,{title:"Code",width:"1.5",mdxType:"NamedDivider"}),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-archetype"},"record user_permit {\n  expiry : option<nat>;\n  created_at : date;\n}\n\nasset permits to big_map {\n  user_address : address;\n  counter      : nat = 0;\n  user_expiry  : option<nat> = none;\n  user_permits : map<bytes, user_permit> = [];\n}\n")),(0,i.kt)("p",null,(0,i.kt)("a",{parentName:"p",href:"/docs/reference/types#record"},(0,i.kt)("inlineCode",{parentName:"a"},"record"))," ",(0,i.kt)("a",{parentName:"p",href:"/docs/reference/types#option%3CT%3E"},(0,i.kt)("inlineCode",{parentName:"a"},"option"))," ",(0,i.kt)("a",{parentName:"p",href:"/docs/reference/types#nat"},(0,i.kt)("inlineCode",{parentName:"a"},"nat"))," ",(0,i.kt)("a",{parentName:"p",href:"/docs/reference/types#date"},(0,i.kt)("inlineCode",{parentName:"a"},"date"))," ",(0,i.kt)("a",{parentName:"p",href:"/docs/asset"},(0,i.kt)("inlineCode",{parentName:"a"},"asset"))," ",(0,i.kt)("a",{parentName:"p",href:"/docs/reference/types#address"},(0,i.kt)("inlineCode",{parentName:"a"},"address"))," ",(0,i.kt)("a",{parentName:"p",href:"/docs/reference/types#map%3CK,%20V%3E"},(0,i.kt)("inlineCode",{parentName:"a"},"map"))," ",(0,i.kt)("a",{parentName:"p",href:"/docs/reference/types#bytes"},(0,i.kt)("inlineCode",{parentName:"a"},"bytes"))))}le.isMDXComponent=!0;var oe=["components"],ie={toc:[]};function se(e){var t=e.components,a=(0,o.Z)(e,oe);return(0,i.kt)("wrapper",(0,l.Z)({},ie,a,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("p",null,"Default permits expiration duration set to one year."),(0,i.kt)(s.Z,{title:"Code",width:"1.5",mdxType:"NamedDivider"}),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-archetype"},"variable default_expiry : duration = 365d\n")),(0,i.kt)("p",null,(0,i.kt)("a",{parentName:"p",href:"/docs/reference/declarations/storage#variable"},(0,i.kt)("inlineCode",{parentName:"a"},"variable"))," ",(0,i.kt)("a",{parentName:"p",href:"/docs/reference/types#duration"},(0,i.kt)("inlineCode",{parentName:"a"},"duration"))))}se.isMDXComponent=!0;var pe=["components"],ce={toc:[]};function de(e){var t=e.components,a=(0,o.Z)(e,pe);return(0,i.kt)("wrapper",(0,l.Z)({},ce,a,{components:t,mdxType:"MDXLayout"}),(0,i.kt)(s.Z,{title:"Code",width:"1.5",mdxType:"NamedDivider"}),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-archetype"},"asset token_metadata to big_map {\n  ftoken_metadata : nat;\n  token_id        : nat;\n  token_info      : map<string, bytes>;\n}\n")),(0,i.kt)("p",null,(0,i.kt)("a",{parentName:"p",href:"/docs/asset"},(0,i.kt)("inlineCode",{parentName:"a"},"asset"))," ",(0,i.kt)("a",{parentName:"p",href:"/docs/reference/types#nat"},(0,i.kt)("inlineCode",{parentName:"a"},"nat"))," ",(0,i.kt)("a",{parentName:"p",href:"/docs/reference/types#map%3CK,%20V%3E"},(0,i.kt)("inlineCode",{parentName:"a"},"map"))," ",(0,i.kt)("a",{parentName:"p",href:"/docs/reference/types#string"},(0,i.kt)("inlineCode",{parentName:"a"},"string"))," ",(0,i.kt)("a",{parentName:"p",href:"/docs/reference/types#bytes"},(0,i.kt)("inlineCode",{parentName:"a"},"bytes"))))}de.isMDXComponent=!0;var me=["components"],ue={toc:[]};function fe(e){var t=e.components,a=(0,o.Z)(e,me);return(0,i.kt)("wrapper",(0,l.Z)({},ue,a,{components:t,mdxType:"MDXLayout"}),(0,i.kt)(s.Z,{title:"Code",width:"1.5",mdxType:"NamedDivider"}),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-archetype"},"entry set_token_metadata (tid : nat, tdata: map<string, bytes>) {\n  called by owner\n  require { r12: is_not_paused() }\n  effect {\n    token_metadata.add_update(itokenid, { token_id = tid; token_info = tdata });\n  }\n}\n")),(0,i.kt)("p",null,(0,i.kt)("a",{parentName:"p",href:"/docs/reference/declarations/entrypoint#entry"},(0,i.kt)("inlineCode",{parentName:"a"},"entry"))," ",(0,i.kt)("a",{parentName:"p",href:"/docs/reference/types#nat"},(0,i.kt)("inlineCode",{parentName:"a"},"nat"))," ",(0,i.kt)("a",{parentName:"p",href:"/docs/reference/types#map%3CK,%20V%3E"},(0,i.kt)("inlineCode",{parentName:"a"},"map"))," ",(0,i.kt)("a",{parentName:"p",href:"/docs/reference/types#string"},(0,i.kt)("inlineCode",{parentName:"a"},"string"))," ",(0,i.kt)("a",{parentName:"p",href:"/docs/reference/types#map%3CK,%20V%3E"},(0,i.kt)("inlineCode",{parentName:"a"},"bytes"))," ",(0,i.kt)("a",{parentName:"p",href:"/docs/reference/declarations/entrypoint#called-by"},(0,i.kt)("inlineCode",{parentName:"a"},"called by"))," ",(0,i.kt)("a",{parentName:"p",href:"/docs/reference/declarations/entrypoint#require"},(0,i.kt)("inlineCode",{parentName:"a"},"require"))," ",(0,i.kt)("a",{parentName:"p",href:"/docs/templates/pausable#is_not_paused"},(0,i.kt)("inlineCode",{parentName:"a"},"is_not_paused"))," ",(0,i.kt)("a",{parentName:"p",href:"/docs/reference/declarations/entrypoint#effect"},(0,i.kt)("inlineCode",{parentName:"a"},"effect")),"  ",(0,i.kt)("a",{parentName:"p",href:"/docs/reference/instructions/asset#aadd_updatek--u-"},(0,i.kt)("inlineCode",{parentName:"a"},"add_update"))))}fe.isMDXComponent=!0;var ke="/docs/templates/",he={list:[{label:"FA 1.2",link:ke+"fa12",desc:n.createElement("div",null,"Implements ",n.createElement(r.Z,{to:"https://tzip.tezosagora.org/proposal/tzip-7/"},"TZIP-7")," norm for fungible Token")},{label:"FA 2",link:ke+"fa2",desc:n.createElement("div",null,"Implements ",n.createElement(r.Z,{to:"https://tzip.tezosagora.org/proposal/tzip-12/"},"TZIP-12")," norm for tokens (Non Fungible, Fongible, Multi)")},{label:"A 2",link:ke+"a2",desc:n.createElement("div",null,"Implements ",n.createElement(r.Z,{to:"https://tzip.tezosagora.org/proposal/tzip-15/"},"TZIP-15")," norm for whitelisting process")},{label:"Metadata",link:ke+"metadata",desc:n.createElement("div",null,"Implements ",n.createElement(r.Z,{to:"https://tzip.tezosagora.org/proposal/tzip-16/"},"TZIP-16")," norm for contract's metadata")},{label:"Permits",link:ke+"permits",desc:n.createElement("div",null,"Implements ",n.createElement(r.Z,{to:"https://tzip.tezosagora.org/proposal/tzip-17/"},"TZIP-17")," norm for feeless operations")},{label:"Token metadata",link:ke+"tokenmetadata",desc:n.createElement("div",null,"Implements ",n.createElement(r.Z,{to:"https://tzip.tezosagora.org/proposal/tzip-17/"},"TZIP-21")," norm for token metadata")},{label:"MultiSig",link:ke+"multisig",desc:"Execute operations signed by a required number of managers"},{label:"Pausable",link:ke+"pausable",desc:"Pausable entrypoints"},{label:"Ownership",link:ke+"ownership",desc:"Transferrable contract owner"}],fa12:{info:{repo:"https://github.com/completium/archetype-fa1",author:"Completium",authorurl:"https://completium.com/",norms:[{label:"TZIP4",url:"https://tzip.tezosagora.org/proposal/tzip-4/"},{label:"TZIP7",url:"https://tzip.tezosagora.org/proposal/tzip-7/"}]},transfer:{desc:n.createElement(d,null),sig:"transfer(from, to, value)",parameters:[{type:"address",alias:"from",desc:n.createElement("div",null,"Sending tokens address")},{type:"address",alias:"to",desc:n.createElement("div",null,"Receiving tokens address")},{type:"nat",alias:"value",desc:n.createElement("div",null,"Number of tokens to transfer")}],fails:[{keyword:'("ASSET_NOT_FOUND", "ledger")',desc:n.createElement("div",null,"When address ",n.createElement("code",null,"from")," is not found in ",n.createElement(r.Z,{to:"/docs/templates/fa12#ledger"},n.createElement("code",null,"ledger")))},{keyword:"NotEnoughBalance",desc:n.createElement("div",null,"When number of tokens owned by ",n.createElement("code",null,"from")," is less than ",n.createElement("code",null,"value"))},{keyword:'("ASSET_NOT_FOUND", "allowance")',desc:n.createElement("div",null,"When ",n.createElement("code",null,"caller")," is not allowed by ",n.createElement("code",null,"from")," to transfer tokens")},{keyword:"NotEnoughAllowance",desc:n.createElement("div",null,"When ",n.createElement("code",null,"caller"),"'s allowed transfer is less than ",n.createElement("code",null,"value"))}],related:[{keyword:"transfer",link:"/docs/reference/instructions/operation#transfer"},{keyword:"ledger",link:"/docs/templates/fa12#ledger"},{keyword:"allowance",link:"/docs/templates/fa12#allowance"}]},approve:{desc:n.createElement(f,null),sig:"approve",parameters:[{type:"address",alias:"spender",desc:n.createElement("div",null,"Approved address to transfer tokens from ",n.createElement(r.Z,{to:"/docs/reference/expressions/constants#caller"},n.createElement("code",null,"caller")))},{type:"nat",alias:"value",desc:n.createElement("div",null,"Number of tokens approved for transfer")}],fails:[{keyword:'("UnsafeAllowanceChange", previous)',desc:n.createElement("div",null,"When ",n.createElement("code",null,"spender")," is already approved a non-zero amount of tokens (",n.createElement("code",null,"previous"),")")}],related:[{keyword:"allowance",link:"/docs/templates/fa12#allowance"}]},getallowance:{desc:n.createElement(Z,null),sig:"getallowance",parameters:[{type:"address",alias:"owner",desc:n.createElement("div",null,"Tokens owner")},{type:"address",alias:"spender",desc:n.createElement("div",null,"Approved address to transfer tokens from ",n.createElement("code",null,"owner"))}],returns:{type:"nat",desc:n.createElement("div",null,"Number of tokens ",n.createElement("code",null,"spender")," can transfer on behalf of ",n.createElement("code",null,"owner"))}},getbalance:{desc:n.createElement(g,null),sig:"getbalance",parameters:[{type:"address",alias:"owner",desc:n.createElement("div",null,"Tokens owner")}],returns:{type:"nat",desc:n.createElement("div",null,"Number of tokens owned by ",n.createElement("code",null,"owner"))}},gettotalsupply:{desc:n.createElement(y,null),sig:"gettotalsupply",returns:{type:"nat",desc:n.createElement("div",null,"Value of ",n.createElement(r.Z,{to:"/docs/templates/fa12#total_supply"},n.createElement("code",null,"total_supply")))}},initialholder:{desc:n.createElement("div",null,"Initial owner of the total supply of tokens"),type:"address",related:[{keyword:"total_supply",link:"/docs/templates/fa12#total_supply"}]},totalsupply:{desc:n.createElement("div",null,"Total number of tokens. Note that this value is a constant since there is no ",n.createElement("i",null,"mint")," or ",n.createElement("i",null,"burn")," mechanism in this version."),type:"nat",related:[{keyword:"getTotalSupply",link:"/docs/templates/fa12#gettotalsupply"}]},ledger:{desc:n.createElement(x,null),type:"big_map<address, nat>",typeUrl:"big_map<K,%20V>",related:[{keyword:"transfer",link:"/docs/templates/fa12#transferfrom-to-value"}]},allowance:{desc:n.createElement(T,null),type:"big_map<address * address, nat>",typeUrl:"big_map<K,%20V>",related:[{keyword:"transfer",link:"/docs/templates/fa12#transferfrom-to-value"},{keyword:"approve",link:"/docs/templates/fa12#approvespender-value"}]}},fa2:{info:{repo:"https://github.com/completium/archetype-fa2",author:"Completium",authorurl:"https://completium.com/",norms:[{label:"TZIP-4",url:"https://tzip.tezosagora.org/proposal/tzip-4/"},{label:"TZIP-12",url:"https://tzip.tezosagora.org/proposal/tzip-12/"},{label:"TZIP-16",url:"https://tzip.tezosagora.org/proposal/tzip-16/"},{label:"TZIP-17",url:"https://tzip.tezosagora.org/proposal/tzip-17/"},{label:"TZIP-21",url:"https://tzip.tezosagora.org/proposal/tzip-21/"}],templates:[{label:"Pausable",url:"/docs/templates/pausable"},{label:"Ownership",url:"/docs/templates/ownership"},{label:"Metadata",url:"/docs/templates/metadata"},{label:"Permits",url:"/docs/templates/permits"},{label:"Token metadata",url:"/docs/templates/tokenmetadata"}]}},a2:{info:{repo:"https://gitlab.com/tezos-paris-hub/whitelist-smart-contract-archetype",author:"Completium",authorurl:"https://completium.com/",norms:[{label:"TZIP-15",url:"https://tzip.tezosagora.org/proposal/tzip-15/"},{label:"TZIP-16",url:"https://tzip.tezosagora.org/proposal/tzip-16/"}]}},multisig:{info:{repo:"https://github.com/completium/archetype-multisig",author:"Completium",authorurl:"https://completium.com/",norms:[{label:"TZIP-16",url:"https://tzip.tezosagora.org/proposal/tzip-16/"}]}},ownership:{info:{repo:"https://github.com/completium/archetype-ownership",author:"Completium",authorurl:"https://completium.com/"},owner:{desc:n.createElement(I,null),type:"address",related:[{keyword:"owner_candidate",link:"/docs/templates/ownership#owner_candidate"}]},candidate:{desc:n.createElement(L,null),type:"option<address>",typeUrl:"option<T>",related:[{keyword:"owner",link:"/docs/templates/ownership#owner"}]},declare:{desc:n.createElement(F,null),sig:"declare_ownership(candidate)",parameters:[{type:"address",alias:"candidate",desc:n.createElement("div",null,"Candidate address for next contract's owner")}],fails:[{keyword:'"INVALID_CALLER"',desc:n.createElement("div",null,"When ",n.createElement("code",null,"caller")," is not ",n.createElement("code",null,"owner"))}],related:[{keyword:"owner_candidate",link:"/docs/templates/ownership#owner_candidate"}]},claim:{desc:n.createElement(V,null),sig:"claim_ownership()",parameters:[],fails:[{keyword:'"INVALID_CALLER"',desc:n.createElement("div",null,"When ",n.createElement("code",null,"caller")," is not ",n.createElement("code",null,"owner_candidate"))}],related:[{keyword:"owner_candidate",link:"/docs/templates/ownership#owner_candidate"}]}},pausable:{info:{repo:"https://github.com/completium/archetype-pausable",author:"Completium",authorurl:"https://completium.com/",templates:[{label:"Ownership",url:"/docs/templates/ownership"}]},paused:{desc:n.createElement(O,null),type:"bool",related:[]},pause:{desc:n.createElement(K,null),sig:"pause()",parameters:[],fails:[{keyword:'"INVALID_CALLER"',desc:n.createElement("div",null,"When ",n.createElement("code",null,"caller")," is not ",n.createElement("code",null,"owner"))},{keyword:'"CONTRACT_PAUSED"',desc:n.createElement("div",null,"When contract is already paused.")}],related:[{keyword:"is_not_paused",link:"/docs/templates/pausable#is_not_paused"}]},unpause:{desc:n.createElement(G,null),sig:"unpause()",parameters:[],fails:[{keyword:'"INVALID_CALLER"',desc:n.createElement("div",null,"When ",n.createElement("code",null,"caller")," is not ",n.createElement("code",null,"owner"))},{keyword:'"CONTRACT_NOT_PAUSED"',desc:n.createElement("div",null,"When contract is not paused.")}],related:[{keyword:"paused",link:"/docs/templates/pausable#paused"}]},is_not_paused:{desc:n.createElement(Q,null),sig:"is_not_paused()",parameters:[],fails:[{keyword:'"CONTRACT_PAUSED"',desc:n.createElement("div",null,"When contract is already paused.")}],returns:{type:"bool",desc:n.createElement("div",null,n.createElement("code",null,"true")," if contract is not paused")},related:[{keyword:"paused",link:"/docs/templates/pausable#paused"}]}},metadata:{info:{repo:"https://github.com/completium/archetype-metadata",author:"Completium",authorurl:"https://completium.com/",norms:[{label:"TZIP-16",link:"https://tzip.tezosagora.org/proposal/tzip-16/"}],templates:[{label:"Ownership",url:"/docs/templates/ownership"},{label:"Pausable",url:"/docs/templates/pausable"}]},set_metadata:{desc:n.createElement(ae,null),sig:"set_metadata(k, v)",parameters:[{type:"string",alias:"k",desc:n.createElement("div",null,"Medata entry name")},{type:"option<bytes>",withLink:!1,alias:"v",desc:n.createElement("div",null,"Medata value option:",n.createElement("ul",null,n.createElement("li",null,n.createElement("code",null,"some(v)")," associates ",n.createElement("code",null,"v")," to ",n.createElement("code",null,"k")),n.createElement("li",null,n.createElement("code",null,"none")," removes entry ",n.createElement("code",null,"k"))))}],fails:[{keyword:'"INVALID_CALLER"',desc:n.createElement("div",null,"When ",n.createElement("code",null,"caller")," is not ",n.createElement("code",null,"owner"))},{keyword:'"CONTRACT_PAUSED"',desc:n.createElement("div",null,"When contract is already paused.")}],related:[{keyword:"Archetype contract",link:"/docs/reference/declarations/contract#metadata"}]}},permits:{info:{repo:"https://github.com/completium/archetype-permits",author:"Completium",authorurl:"https://completium.com/",templates:[{label:"Pausable",url:"/docs/templates/pausable"},{label:"Ownership",url:"/docs/templates/ownership"}]},permits:{desc:n.createElement(le,null),type:"big_map<asset_key<permits>, asset_value<permits>",typeUrl:"big_map<K,%20V>",related:[{keyword:"asset_key",link:"/docs/reference/types#asset_key<A>"},{keyword:"asset_value",link:"/docs/reference/types#asset_value<A>"}]},default_expiry:{desc:n.createElement(se,null),type:"duration",related:[{keyword:"Variable",link:"/docs/reference/declarations/storage#variable"}]}},token_metadata:{info:{repo:"https://github.com/completium/archetype-token-metadata",author:"Completium",authorurl:"https://completium.com/",templates:[{label:"Pausable",url:"/docs/templates/pausable"},{label:"Ownership",url:"/docs/templates/ownership"}]},token_metadata:{desc:n.createElement(de,null),type:"big_map<asset_key<token_metadata>, asset_value<token_metadata>",typeUrl:"big_map<K,%20V>",related:[{keyword:"asset_key",link:"/docs/reference/types#asset_key<A>"},{keyword:"asset_value",link:"/docs/reference/types#asset_value<A>"}]},set_token_metadata:{desc:n.createElement(fe,null),sig:"set_token_metadata",parameters:[{type:"nat",alias:"tid",desc:n.createElement("div",null,"Token id")},{type:"map<string, bytes>",alias:"tdata",desc:n.createElement("div",null,"Token data")}],fails:[{keyword:'"INVALID_CALLER"',desc:n.createElement("div",null,"When ",n.createElement("code",null,"caller")," is not ",n.createElement("code",null,"owner"))},{keyword:'"CONTRACT_PAUSED"',desc:n.createElement("div",null,"When contract is paused.")}],related:[{keyword:"Asset",link:"/docs/asset"}]}}}},432:function(e,t,a){a.d(t,{Z:function(){return y}});var n=a(7855),r=a(9960),l=a(6886),o=a(1519),i=a(5861),s=a(4810),p=a(7294),c=a(2321),d=a(3465),m=[{label:"asset",link:"/docs/asset"},{label:"asset to big_map",link:"/docs/asset"},{label:"asset to iterable_big_map",link:"/docs/asset"},{label:"aggregate",link:"/docs/reference/types#aggregate<A>"},{label:"partition",link:"/docs/reference/types#partition<A>"},{label:"asset_view",link:"/docs/reference/types#asset_view<A>"}];function u(e){var t;return p.createElement(l.ZP,{item:!0,xs:12,style:{marginTop:"12px"}},p.createElement(l.ZP,{container:!0},p.createElement(l.ZP,{item:!0},p.createElement("h4",{style:(t={marginBottom:"0px",color:"grey",fontWeight:"normal"},t.marginBottom="12px",t)},"Type of collection ",p.createElement("code",null,"A"))),p.createElement(l.ZP,{item:!0,xs:12},p.createElement(o.Z,{className:c.Z.divider,style:{marginBottom:"12px"}})),p.createElement(l.ZP,{item:!0,xs:12},p.createElement(l.ZP,{container:!0,spacing:2},m.map((function(t,a){return p.createElement(l.ZP,{item:!0},p.createElement(r.Z,{to:t.link},p.createElement("code",{style:{textDecoration:e.data.includes(t.label)?"none":"line-through"}},t.label)))}))))))}var f=function(e){return p.createElement(l.ZP,{item:!0,xs:12},p.createElement(l.ZP,{container:!0},p.createElement(l.ZP,{item:!0,xs:12},p.createElement(o.Z,{className:c.Z.divider,style:{marginBottom:"12px"}})),p.createElement(l.ZP,{item:!0,md:e.xs,sm:6,xs:6},p.createElement(l.ZP,{container:!0},p.createElement(l.ZP,{item:!0,xs:e.xs>4?2:4},p.createElement(i.Z,null,p.createElement("code",null,e.alias)," :")),p.createElement(l.ZP,{item:!0,xs:e.xs>4?10:8},p.createElement(i.Z,null," ",void 0===e.withLink||e.withLink?p.createElement(r.Z,{to:"/docs/reference/types#"+e.type},p.createElement("code",null,e.type)):p.createElement("code",null,e.type))))),p.createElement(l.ZP,{item:!0,md:12-e.xs,sm:6,xs:6},p.createElement(i.Z,{style:{fontFamily:"IBM Plex Sans"}},e.desc))))},k=function(e){return p.createElement(l.ZP,{item:!0,xs:12},p.createElement(l.ZP,{container:!0},p.createElement(l.ZP,{item:!0,xs:12},p.createElement(o.Z,{className:c.Z.divider,style:{marginBottom:"12px"}})),p.createElement(l.ZP,{item:!0,xs:12,style:{marginBottom:"6px"}},p.createElement(i.Z,null,void 0===e.withLink||e.withLink?p.createElement(r.Z,{to:"/docs/reference/types#"+e.type},p.createElement("code",null,e.type)):p.createElement("code",null,e.type))),p.createElement(l.ZP,{item:!0,xs:10},p.createElement(i.Z,{style:{fontFamily:"IBM Plex Sans"}},e.desc))))},h=function(e){return function(e,t,a){for(var r,l=t,o=(0,n.Z)(a);!(r=o()).done;)l=e(l,r.value);return l}((function(e,t){return e>=t?e:t}),-1/0,e)};function y(e){var t,a,n=void 0!==e.data.parameters?(t=e.data.parameters,(a=h(t.map((function(e){return e.alias.length+e.type.length}))))>30?6:a>20?5:a>10?3:2):0;return p.createElement(s.Z,{injectFirst:!0},p.createElement(l.ZP,{container:!0,direction:"row",justifyContent:"flex-start",alignItems:"center",spacing:1,style:{marginBottom:"60px"}},p.createElement(l.ZP,{item:!0,xs:12},p.createElement(i.Z,{style:{fontFamily:"IBM Plex Sans"}},e.data.desc)),void 0!==e.data.appliesto?p.createElement(u,{data:e.data.appliesto}):p.createElement("div",null),void 0!==e.data.parameters&&e.data.parameters.length>0?p.createElement(l.ZP,{item:!0},p.createElement("h4",{style:{marginBottom:"0px",marginTop:"12px",color:"grey",fontWeight:"normal"}},e.data.parameters.length>1?"Parameters":"Parameter")):p.createElement("div",null),void 0!==e.data.parameters&&e.data.parameters.length>0?e.data.parameters.map((function(e,t){return p.createElement(f,{key:"bp"+t,alias:e.alias,type:e.type,desc:e.desc,xs:n,withLink:e.withLink})})):p.createElement("div",null),void 0!==e.data.returns?p.createElement(l.ZP,{item:!0,style:{marginTop:"12px",color:"grey"}},p.createElement("h4",{style:{marginTop:"12px",marginBottom:"0px",fontWeight:"normal"}},"Returns")):p.createElement(l.ZP,{item:!0,style:{marginTop:"12px",color:"grey"}},p.createElement("h4",{style:{marginTop:"12px",marginBottom:"0px",fontWeight:"normal"}})),void 0!==e.data.returns?p.createElement(k,{type:e.data.returns.type,withLink:e.data.returns.withLink,desc:e.data.returns.desc}):p.createElement("div",null),p.createElement(l.ZP,{item:!0,xs:12},p.createElement(d.Z,{fails:e.data.fails,michelson:e.data.michelson,michelson_ref_url:e.data.michelson_ref_url,related:e.data.related}))))}},6029:function(e,t,a){a.d(t,{Z:function(){return u}});var n=a(7294),r=a(6886),l=a(5861),o=a(1519),i=a(6292),s=a(9960),p=a(4048),c=a(2321),d=a(4810),m=a(563);function u(e){return n.createElement(d.Z,{injectFirst:!0},n.createElement(r.ZP,{container:!0,direction:"row",justifyContent:"flex-start",alignItems:"flex-start",spacing:1,style:{marginBottom:"60px"}},n.createElement(r.ZP,{item:!0,xs:12,style:{marginBottom:"18px"}},n.createElement(l.Z,{style:{fontFamily:"IBM Plex Sans"}},e.data.desc)),void 0!==e.data.type?n.createElement(r.ZP,{item:!0,xs:3,sm:2,md:2},n.createElement(l.Z,{style:{fontFamily:"IBM Plex Sans",color:"grey"}},"Type")):n.createElement("div",null),void 0!==e.data.type?n.createElement(r.ZP,{item:!0,xs:9,sm:10,md:10},n.createElement(s.Z,{to:"/docs/reference/types#"+(void 0!==e.data.typeUrl?e.data.typeUrl:e.data.type)},n.createElement("code",null,e.data.type))):n.createElement("div",null),void 0!==e.data.michelson?n.createElement(r.ZP,{item:!0,xs:12},n.createElement(o.Z,{className:c.Z.divider})):n.createElement("div",null),void 0!==e.data.michelson?n.createElement(r.ZP,{item:!0,xs:3,sm:2,md:2},n.createElement(l.Z,{style:{fontFamily:"IBM Plex Sans",color:"grey"}},"Michelson")):n.createElement("div",null),void 0!==e.data.michelson?n.createElement(r.ZP,{item:!0,xs:9,sm:10,md:10},n.createElement(s.Z,{to:e.data.michelson_ref_url},n.createElement(i.Z,{style:{fontFamily:"Roboto Mono",color:"var(--ifm-color-primary)"},size:"small",disableRipple:!0,endIcon:n.createElement(p.Z,{fontSize:"small"})},e.data.michelson))):n.createElement("div",null),void 0!==e.data.related&&e.data.related.length>0?n.createElement(r.ZP,{item:!0,xs:12},n.createElement(o.Z,{className:c.Z.divider})):n.createElement("div",null),void 0!==e.data.related&&e.data.related.length>0?n.createElement(r.ZP,{item:!0,xs:3,sm:2,md:2},n.createElement(l.Z,{style:{fontFamily:"IBM Plex Sans",color:"grey"}},"Related")):n.createElement("div",null),void 0!==e.data.related&&e.data.related.length>0?n.createElement(r.ZP,{item:!0,xs:9,sm:10,md:10},n.createElement(r.ZP,{container:!0,direction:"row",spacing:3},e.data.related.map((function(e,t){return n.createElement(m.n,{key:"rel"+t,value:e.keyword,link:e.link})})))):n.createElement("div",null)))}},3465:function(e,t,a){a.d(t,{Z:function(){return d}});var n=a(5861),r=a(6886),l=a(1519),o=a(7294),i=a(2321),s=a(8271),p=a(563),c=function(e){return void 0===e.fails||0===e.fails.length?o.createElement(n.Z,{style:{fontFamily:"IBM Plex Sans",color:"grey",fontStyle:"italic"}},"does not fail"):o.createElement(r.ZP,{container:!0},e.fails.map((function(t,a){return o.createElement(r.ZP,{container:!0,style:{marginBottom:e.fails.length>1?"22px":"0px"}},o.createElement(r.ZP,{key:"fk"+a,item:!0,xs:t.keyword.length>12?12:2,style:{marginBottom:t.keyword.length>12?"12px":"0px"}},o.createElement(n.Z,null,o.createElement("code",null,t.keyword))),o.createElement(r.ZP,{key:"fd"+a,item:!0,xs:t.keyword.length>12?12:10},o.createElement(n.Z,{style:{fontFamily:"IBM Plex Sans"}},t.desc)),a<e.fails.length-1?o.createElement(r.ZP,{item:!0,xs:12},o.createElement(l.Z,{className:i.Z.divider,style:{marginTop:"12px"}})):o.createElement("div",null))})))};function d(e){return o.createElement(r.ZP,{container:!0,direction:"row",justifyContent:"flex-start",alignItems:"center",spacing:1,style:{marginTop:"0px"}},o.createElement(r.ZP,{item:!0,xs:3,sm:2,md:2},o.createElement(n.Z,{style:{fontFamily:"IBM Plex Sans",color:"grey"}},"Fails with")),o.createElement(r.ZP,{item:!0,xs:9,sm:10,md:10},o.createElement(c,{fails:e.fails})),void 0!==e.michelson?o.createElement(r.ZP,{item:!0,xs:12},o.createElement(l.Z,{className:i.Z.divider})):o.createElement("div",null),void 0!==e.michelson?o.createElement(r.ZP,{item:!0,xs:3,sm:2,md:2},o.createElement(n.Z,{style:{fontFamily:"IBM Plex Sans",color:"grey"}},"Michelson")):o.createElement("div",null),void 0!==e.michelson?o.createElement(r.ZP,{item:!0,xs:9,sm:10,md:10},o.createElement(s.R,{michelson:e.michelson,michelson_ref_url:e.michelson_ref_url})):o.createElement("div",null),void 0!==e.related?o.createElement(r.ZP,{item:!0,xs:12},o.createElement(l.Z,{className:i.Z.divider})):o.createElement("div",null),void 0!==e.related?o.createElement(r.ZP,{item:!0,xs:3,sm:2,md:2},o.createElement(n.Z,{style:{fontFamily:"IBM Plex Sans",color:"grey"}},"Related")):o.createElement("div",null),void 0!==e.related?o.createElement(r.ZP,{item:!0,xs:9,sm:10,md:10},o.createElement(r.ZP,{container:!0,direction:"row",spacing:3},e.related.map((function(e,t){return o.createElement(p.n,{key:"rel"+t,value:e.keyword,link:e.link,code:e.code})})))):o.createElement("div",null))}},8271:function(e,t,a){a.d(t,{R:function(){return s}});var n=a(7294),r=a(6292),l=a(6886),o=a(9960),i=a(4048),s=function(e){return void 0===e.michelson_ref_url?"[object Array]"!==Object.prototype.toString.call(e.michelson)?n.createElement(r.Z,{style:{textTransform:"none",fontFamily:"Roboto Mono",color:"var(--ifm-color-primary)"},disableFocusRipple:!0,size:"small",disableRipple:!0},e.michelson):n.createElement(l.ZP,{container:!0,spacing:1},e.michelson.map((function(e,t){return n.createElement(l.ZP,{item:!0,key:"mt"+t},n.createElement(r.Z,{style:{textTransform:"none",fontFamily:"Roboto Mono",color:"var(--ifm-color-primary)"},disableFocusRipple:!0,size:"small",disableRipple:!0},e))}))):n.createElement(o.Z,{to:e.michelson_ref_url},n.createElement(r.Z,{style:{textTransform:"none",fontFamily:"Roboto Mono",color:"var(--ifm-color-primary)"},size:"small",disableRipple:!0,endIcon:n.createElement(i.Z,{fontSize:"small"})},e.michelson))}},9373:function(e,t,a){a.d(t,{Z:function(){return s}});var n=a(6886),r=a(5861),l=a(1519),o=a(7294),i=a(2321);function s(e){var t=void 0!==e.width?e.width:12;return o.createElement(n.ZP,{container:!0,direction:"row",justifyContent:"flex-start",alignItems:"center",spacing:1,style:{marginTop:"0px",marginBottom:"24px"}},o.createElement(n.ZP,{item:!0,xs:3,sm:2,md:2},o.createElement(r.Z,{style:{fontFamily:"IBM Plex Sans",color:"grey"}},e.title)),o.createElement(n.ZP,{item:!0,xs:9,sm:10,md:10}),o.createElement(n.ZP,{item:!0,xs:12,sm:t,md:t},o.createElement(l.Z,{className:i.Z.divider})))}},563:function(e,t,a){a.d(t,{n:function(){return i}});var n=a(9960),r=a(6886),l=a(5861),o=a(7294),i=function(e){return o.createElement(r.ZP,{item:!0},o.createElement(n.Z,{to:e.link},o.createElement(l.Z,{style:{fontFamily:"IBM Plex Sans"}},null!=e.code&&!1===e.code?e.value:o.createElement("code",null,e.value))))}},7972:function(e,t,a){a.d(t,{Z:function(){return p}});var n=a(6886),r=a(5861),l=a(1519),o=a(7294),i=a(9960),s=a(2321);function p(e){return o.createElement(n.ZP,{container:!0,direction:"row",justifyContent:"flex-start",alignItems:"center",spacing:1,style:{marginTop:"0px"}},o.createElement(n.ZP,{item:!0,xs:3,sm:2,md:2},o.createElement(r.Z,{style:{fontFamily:"IBM Plex Sans",color:"grey"}},"Repository")),o.createElement(n.ZP,{item:!0,xs:9,sm:10,md:10},o.createElement(i.Z,{to:e.data.repo},o.createElement(r.Z,{style:{fontFamily:"IBM Plex Sans"}},e.data.repo))),o.createElement(n.ZP,{item:!0,xs:12},o.createElement(l.Z,{className:s.Z.divider})),o.createElement(n.ZP,{item:!0,xs:3,sm:2,md:2},o.createElement(r.Z,{style:{fontFamily:"IBM Plex Sans",color:"grey"}},"Author")),o.createElement(n.ZP,{item:!0,xs:9,sm:10,md:10},o.createElement(i.Z,{to:e.data.authorurl},o.createElement(r.Z,{style:{fontFamily:"IBM Plex Sans"}},e.data.author))),void 0!==e.data.norms?o.createElement(n.ZP,{item:!0,xs:12},o.createElement(l.Z,{className:s.Z.divider})):o.createElement("div",null),void 0!==e.data.norms?o.createElement(n.ZP,{item:!0,xs:12,sm:2,md:2},o.createElement(r.Z,{style:{fontFamily:"IBM Plex Sans",color:"grey"}},e.data.norms.length>1?"Norms":"Norm")):o.createElement("div",null),void 0!==e.data.norms?e.data.norms.map((function(e){return o.createElement(n.ZP,{item:!0,xs:4,sm:2,md:2},o.createElement(i.Z,{to:e.url},o.createElement(r.Z,{style:{fontFamily:"IBM Plex Sans"}},e.label)))})):o.createElement("div",null),void 0!==e.data.templates?o.createElement(n.ZP,{item:!0,xs:12},o.createElement(l.Z,{className:s.Z.divider})):o.createElement("div",null),void 0!==e.data.templates?o.createElement(n.ZP,{item:!0,xs:12,sm:2,md:2},o.createElement(r.Z,{style:{fontFamily:"IBM Plex Sans",color:"grey"}},e.data.templates.length>1?"Templates":"Template")):o.createElement("div",null),void 0!==e.data.templates?e.data.templates.map((function(e){return o.createElement(n.ZP,{item:!0,xs:4,sm:2,md:2},o.createElement(i.Z,{to:e.url},o.createElement(r.Z,{style:{fontFamily:"IBM Plex Sans"}},e.label)))})):o.createElement("div",null))}},8558:function(e,t,a){a.r(t),a.d(t,{assets:function(){return k},contentTitle:function(){return u},default:function(){return N},frontMatter:function(){return m},metadata:function(){return f},toc:function(){return h}});var n=a(7462),r=a(3366),l=(a(7294),a(3905)),o=a(7342),i=a(432),s=a(6029),p=a(9373),c=a(7972),d=["components"],m={sidebar_position:1},u="FA 1.2",f={unversionedId:"templates/fa12",id:"templates/fa12",title:"FA 1.2",description:"Implements TZIP-7 norm for fungible token.",source:"@site/docs/templates/fa12.md",sourceDirName:"templates",slug:"/templates/fa12",permalink:"/docs/templates/fa12",draft:!1,editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/templates/fa12.md",tags:[],version:"current",sidebarPosition:1,frontMatter:{sidebar_position:1},sidebar:"templates",previous:{title:"Overview",permalink:"/docs/templates/overview"},next:{title:"FA 2",permalink:"/docs/templates/fa2"}},k={},h=[{value:"Storage",id:"storage",level:2},{value:"<code>total_supply</code>",id:"total_supply",level:3},{value:"<code>ledger</code>",id:"ledger",level:3},{value:"Entrypoints",id:"entrypoints",level:2},{value:"<code>transfer(from, to, value)</code>",id:"transferfrom-to-value",level:3},{value:"<code>approve(spender, value)</code>",id:"approvespender-value",level:3},{value:"<code>getAllowance(owner, spender)</code>",id:"getallowanceowner-spender",level:3},{value:"<code>getBalance(owner)</code>",id:"getbalanceowner",level:3},{value:"<code>getTotalSupply()</code>",id:"gettotalsupply",level:3}],y={toc:h};function N(e){var t=e.components,a=(0,r.Z)(e,d);return(0,l.kt)("wrapper",(0,n.Z)({},y,a,{components:t,mdxType:"MDXLayout"}),(0,l.kt)("h1",{id:"fa-12"},"FA 1.2"),(0,l.kt)("p",null,"Implements ",(0,l.kt)("a",{parentName:"p",href:"https://tzip.tezosagora.org/proposal/tzip-7/"},"TZIP-7")," norm for fungible token."),(0,l.kt)("p",null,"A fungible token is basically an association table between the token owner (the account address) and the amount of tokens (a natural integer). It is possible to allow another account to transfer tokens on the token owner's behalf."),(0,l.kt)(c.Z,{data:o.z.fa12.info,mdxType:"TemplateInfo"}),(0,l.kt)("h2",{id:"storage"},"Storage"),(0,l.kt)("h3",{id:"total_supply"},(0,l.kt)("inlineCode",{parentName:"h3"},"total_supply")),(0,l.kt)("p",null,"Contract ",(0,l.kt)("a",{parentName:"p",href:"/docs/reference/declarations/contract#parameters"},"parameter")," that defines the total supply of tokens."),(0,l.kt)(p.Z,{title:"Code",width:"1.5",mdxType:"NamedDivider"}),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-archetype"},"archetype fa_12(total_supply : nat)\n")),(0,l.kt)("p",null,(0,l.kt)("a",{parentName:"p",href:"/docs/reference/declarations/contract"},(0,l.kt)("inlineCode",{parentName:"a"},"archetype"))," ",(0,l.kt)("a",{parentName:"p",href:"/docs/reference/types#nat"},(0,l.kt)("inlineCode",{parentName:"a"},"nat"))),(0,l.kt)("div",{className:"admonition admonition-info alert alert--info"},(0,l.kt)("div",{parentName:"div",className:"admonition-heading"},(0,l.kt)("h5",{parentName:"div"},(0,l.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,l.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,l.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"}))),"info")),(0,l.kt)("div",{parentName:"div",className:"admonition-content"},(0,l.kt)("p",{parentName:"div"},"Note that in this template version of FA 1.2, the total supply of tokens is a contract ",(0,l.kt)("em",{parentName:"p"},"invariant")," since there is no ",(0,l.kt)("em",{parentName:"p"},"mint")," nor ",(0,l.kt)("em",{parentName:"p"},"burn")," entrypoint."))),(0,l.kt)(s.Z,{data:o.z.fa12.totalsupply,mdxType:"Constant"}),(0,l.kt)("h3",{id:"ledger"},(0,l.kt)("inlineCode",{parentName:"h3"},"ledger")),(0,l.kt)(s.Z,{data:o.z.fa12.ledger,mdxType:"Constant"}),(0,l.kt)("h2",{id:"entrypoints"},"Entrypoints"),(0,l.kt)("h3",{id:"transferfrom-to-value"},(0,l.kt)("inlineCode",{parentName:"h3"},"transfer(from, to, value)")),(0,l.kt)(i.Z,{data:o.z.fa12.transfer,mdxType:"Builtin"}),(0,l.kt)("h3",{id:"approvespender-value"},(0,l.kt)("inlineCode",{parentName:"h3"},"approve(spender, value)")),(0,l.kt)(i.Z,{data:o.z.fa12.approve,mdxType:"Builtin"}),(0,l.kt)("h3",{id:"getallowanceowner-spender"},(0,l.kt)("inlineCode",{parentName:"h3"},"getAllowance(owner, spender)")),(0,l.kt)(i.Z,{data:o.z.fa12.getallowance,mdxType:"Builtin"}),(0,l.kt)("h3",{id:"getbalanceowner"},(0,l.kt)("inlineCode",{parentName:"h3"},"getBalance(owner)")),(0,l.kt)(i.Z,{data:o.z.fa12.getbalance,mdxType:"Builtin"}),(0,l.kt)("h3",{id:"gettotalsupply"},(0,l.kt)("inlineCode",{parentName:"h3"},"getTotalSupply()")),(0,l.kt)(i.Z,{data:o.z.fa12.gettotalsupply,mdxType:"Builtin"}))}N.isMDXComponent=!0},2321:function(e,t){t.Z={divider:"divider_LuCZ",gradient:"gradient_kJ7D"}}}]);