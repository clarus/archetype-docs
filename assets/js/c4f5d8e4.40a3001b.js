"use strict";(self.webpackChunkarchetype_docs=self.webpackChunkarchetype_docs||[]).push([[4195],{7036:function(e,t,n){var a=n(5318);t.Z=void 0;var r=a(n(4938)),i=n(5893),o=(0,r.default)((0,i.jsx)("path",{d:"M9 16.17 4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"}),"Check");t.Z=o},6215:function(e,t,n){var a=n(5318);t.Z=void 0;var r=a(n(4938)),i=n(5893),o=(0,r.default)((0,i.jsx)("path",{d:"M10 6 8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"}),"ChevronRight");t.Z=o},1899:function(e,t,n){var a=n(5318);t.Z=void 0;var r=a(n(4938)),i=n(5893),o=(0,r.default)((0,i.jsx)("path",{d:"M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"}),"ContentCopy");t.Z=o},1686:function(e,t,n){n.r(t),n.d(t,{contentTitle:function(){return c},default:function(){return m},frontMatter:function(){return s},metadata:function(){return l},toc:function(){return d}});var a=n(7462),r=n(3366),i=(n(7294),n(3905)),o=["components"],s={},c=void 0,l={type:"mdx",permalink:"/comment0",source:"@site/src/pages/comment0.md",description:"archetype address tez nat entry const now > ?: transfer",frontMatter:{}},d=[],p={toc:d};function m(e){var t=e.components,n=(0,r.Z)(e,o);return(0,i.kt)("wrapper",(0,a.Z)({},p,n,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("p",null,(0,i.kt)("a",{parentName:"p",href:"/docs/reference/declarations/contract"},(0,i.kt)("inlineCode",{parentName:"a"},"archetype"))," ",(0,i.kt)("a",{parentName:"p",href:"/docs/reference/types#address"},(0,i.kt)("inlineCode",{parentName:"a"},"address"))," ",(0,i.kt)("a",{parentName:"p",href:"/docs/reference/types#tez"},(0,i.kt)("inlineCode",{parentName:"a"},"tez"))," ",(0,i.kt)("a",{parentName:"p",href:"/docs/reference/types#nat"},(0,i.kt)("inlineCode",{parentName:"a"},"nat"))," ",(0,i.kt)("a",{parentName:"p",href:"/docs/reference/declarations/entrypoint#entry"},(0,i.kt)("inlineCode",{parentName:"a"},"entry"))," ",(0,i.kt)("a",{parentName:"p",href:"/docs/reference/instructions/localvariable#const"},(0,i.kt)("inlineCode",{parentName:"a"},"const"))," ",(0,i.kt)("a",{parentName:"p",href:"/docs/reference/expressions/constants#now"},(0,i.kt)("inlineCode",{parentName:"a"},"now"))," ",(0,i.kt)("a",{parentName:"p",href:"/docs/reference/expressions/operators/arithmetic#a--b-11"},(0,i.kt)("inlineCode",{parentName:"a"},">"))," ",(0,i.kt)("a",{parentName:"p",href:"/docs/reference/expressions/controls#a--b--c"},(0,i.kt)("inlineCode",{parentName:"a"},"?:"))," ",(0,i.kt)("a",{parentName:"p",href:"/docs/reference/instructions/operation#transfer"},(0,i.kt)("inlineCode",{parentName:"a"},"transfer"))),(0,i.kt)("p",null,"The ",(0,i.kt)("inlineCode",{parentName:"p"},"pay")," entrypoint applies a penalty fee of 7% per day beyond deadline.\nArchetype language provides types, like rational (see ",(0,i.kt)("inlineCode",{parentName:"p"},"7%"),") or duration (see ",(0,i.kt)("inlineCode",{parentName:"p"},"1d"),"), to easily implement readable business rules."))}m.isMDXComponent=!0},1847:function(e,t,n){n.r(t),n.d(t,{contentTitle:function(){return c},default:function(){return m},frontMatter:function(){return s},metadata:function(){return l},toc:function(){return d}});var a=n(7462),r=n(3366),i=(n(7294),n(3905)),o=["components"],s={},c=void 0,l={type:"mdx",permalink:"/comment1",source:"@site/src/pages/comment1.md",description:"archetype address nat entry called by require transferred > now effect :=",frontMatter:{}},d=[],p={toc:d};function m(e){var t=e.components,n=(0,r.Z)(e,o);return(0,i.kt)("wrapper",(0,a.Z)({},p,n,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("p",null,(0,i.kt)("a",{parentName:"p",href:"/docs/reference/declarations/contract"},(0,i.kt)("inlineCode",{parentName:"a"},"archetype"))," ",(0,i.kt)("a",{parentName:"p",href:"/docs/reference/types#address"},(0,i.kt)("inlineCode",{parentName:"a"},"address"))," ",(0,i.kt)("a",{parentName:"p",href:"/docs/reference/types#nat"},(0,i.kt)("inlineCode",{parentName:"a"},"nat"))," ",(0,i.kt)("a",{parentName:"p",href:"/docs/reference/declarations/entrypoint#entry"},(0,i.kt)("inlineCode",{parentName:"a"},"entry"))," ",(0,i.kt)("a",{parentName:"p",href:"/docs/reference/declarations/entrypoint#called-by"},(0,i.kt)("inlineCode",{parentName:"a"},"called by"))," ",(0,i.kt)("a",{parentName:"p",href:"/docs/reference/declarations/entrypoint#require"},(0,i.kt)("inlineCode",{parentName:"a"},"require"))," ",(0,i.kt)("a",{parentName:"p",href:"/docs/reference/expressions/constants#transferred"},(0,i.kt)("inlineCode",{parentName:"a"},"transferred"))," ",(0,i.kt)("a",{parentName:"p",href:"/docs/reference/expressions/operators/arithmetic#a--b-11"},(0,i.kt)("inlineCode",{parentName:"a"},">"))," ",(0,i.kt)("a",{parentName:"p",href:"/docs/reference/expressions/constants#now"},(0,i.kt)("inlineCode",{parentName:"a"},"now"))," ",(0,i.kt)("a",{parentName:"p",href:"/docs/reference/declarations/entrypoint#effect"},(0,i.kt)("inlineCode",{parentName:"a"},"effect"))," ",(0,i.kt)("a",{parentName:"p",href:"/docs/reference/instructions/assignment#a--b"},(0,i.kt)("inlineCode",{parentName:"a"},":="))),(0,i.kt)("p",null,"The ",(0,i.kt)("inlineCode",{parentName:"p"},"set_value")," entrypoint executes only if the caller is the admin (see ",(0,i.kt)("inlineCode",{parentName:"p"},"called by"),"), the transferred amount is greater than value (see ",(0,i.kt)("inlineCode",{parentName:"p"},"r1"),"), and if it is called before 2023 (see ",(0,i.kt)("inlineCode",{parentName:"p"},"r2"),")."))}m.isMDXComponent=!0},4770:function(e,t,n){n.r(t),n.d(t,{contentTitle:function(){return c},default:function(){return m},frontMatter:function(){return s},metadata:function(){return l},toc:function(){return d}});var a=n(7462),r=n(3366),i=(n(7294),n(3905)),o=["components"],s={},c=void 0,l={type:"mdx",permalink:"/comment2",source:"@site/src/pages/comment2.md",description:"archetype tez address states transition transferred >",frontMatter:{}},d=[],p={toc:d};function m(e){var t=e.components,n=(0,r.Z)(e,o);return(0,i.kt)("wrapper",(0,a.Z)({},p,n,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("p",null,(0,i.kt)("a",{parentName:"p",href:"/docs/reference/declarations/contract"},(0,i.kt)("inlineCode",{parentName:"a"},"archetype"))," ",(0,i.kt)("a",{parentName:"p",href:"/docs/reference/types#tez"},(0,i.kt)("inlineCode",{parentName:"a"},"tez"))," ",(0,i.kt)("a",{parentName:"p",href:"/docs/reference/types#address"},(0,i.kt)("inlineCode",{parentName:"a"},"address"))," ",(0,i.kt)("a",{parentName:"p",href:"/docs/reference/declarations/compositetypes#states"},(0,i.kt)("inlineCode",{parentName:"a"},"states"))," ",(0,i.kt)("a",{parentName:"p",href:"/docs/reference/declarations/entrypoint#transition"},(0,i.kt)("inlineCode",{parentName:"a"},"transition"))," ",(0,i.kt)("a",{parentName:"p",href:"/docs/reference/expressions/constants#transferred"},(0,i.kt)("inlineCode",{parentName:"a"},"transferred"))," ",(0,i.kt)("a",{parentName:"p",href:"/docs/reference/expressions/operators/arithmetic#a--b-11"},(0,i.kt)("inlineCode",{parentName:"a"},">"))))}m.isMDXComponent=!0},8002:function(e,t,n){n.r(t),n.d(t,{contentTitle:function(){return c},default:function(){return m},frontMatter:function(){return s},metadata:function(){return l},toc:function(){return d}});var a=n(7462),r=n(3366),i=(n(7294),n(3905)),o=["components"],s={},c=void 0,l={type:"mdx",permalink:"/comment3",source:"@site/src/pages/comment3.md",description:"archetype asset string nat entry select = updateall",frontMatter:{}},d=[],p={toc:d};function m(e){var t=e.components,n=(0,r.Z)(e,o);return(0,i.kt)("wrapper",(0,a.Z)({},p,n,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("p",null,(0,i.kt)("a",{parentName:"p",href:"/docs/reference/declarations/contract"},(0,i.kt)("inlineCode",{parentName:"a"},"archetype"))," ",(0,i.kt)("a",{parentName:"p",href:"/docs/reference/declarations/storage#asset"},(0,i.kt)("inlineCode",{parentName:"a"},"asset"))," ",(0,i.kt)("a",{parentName:"p",href:"/docs/reference/types#string"},(0,i.kt)("inlineCode",{parentName:"a"},"string"))," ",(0,i.kt)("a",{parentName:"p",href:"/docs/reference/types#nat"},(0,i.kt)("inlineCode",{parentName:"a"},"nat"))," ",(0,i.kt)("a",{parentName:"p",href:"/docs/reference/declarations/entrypoint#entry"},(0,i.kt)("inlineCode",{parentName:"a"},"entry"))," ",(0,i.kt)("a",{parentName:"p",href:"/docs/reference/expressions/asset#aselectp"},(0,i.kt)("inlineCode",{parentName:"a"},"select"))," ",(0,i.kt)("a",{parentName:"p",href:"/docs/reference/expressions/operators/arithmetic#a--b-7"},(0,i.kt)("inlineCode",{parentName:"a"},"="))," ",(0,i.kt)("a",{parentName:"p",href:"/docs/reference/instructions/asset#aupdate_all-u-"},(0,i.kt)("inlineCode",{parentName:"a"},"update_all"))),(0,i.kt)("p",null,"The ",(0,i.kt)("inlineCode",{parentName:"p"},"incr")," entrypoint increments the ",(0,i.kt)("inlineCode",{parentName:"p"},"nb_repairs")," field of vehicles with a number of repairs equal to ",(0,i.kt)("inlineCode",{parentName:"p"},"n"),"."))}m.isMDXComponent=!0},3856:function(e,t,n){n.r(t),n.d(t,{default:function(){return K}});var a=n(9960),r=n(2263),i=n(6215),o=n(1899),s=n(7036),c=n(3366),l=n(7462),d=n(7294),p=n(6010),m=n(7192),u=n(1539),f=n(2110),h=n(8979);function x(e){return(0,h.Z)("MuiContainer",e)}(0,n(6087).Z)("MuiContainer",["root","disableGutters","fixed","maxWidthXs","maxWidthSm","maxWidthMd","maxWidthLg","maxWidthXl"]);var y=n(8216),k=n(5893);const g=["className","component","disableGutters","fixed","maxWidth"],N=(0,f.ZP)("div",{name:"MuiContainer",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[`maxWidth${(0,y.Z)(String(n.maxWidth))}`],n.fixed&&t.fixed,n.disableGutters&&t.disableGutters]}})((({theme:e,ownerState:t})=>(0,l.Z)({width:"100%",marginLeft:"auto",boxSizing:"border-box",marginRight:"auto",display:"block"},!t.disableGutters&&{paddingLeft:e.spacing(2),paddingRight:e.spacing(2),[e.breakpoints.up("sm")]:{paddingLeft:e.spacing(3),paddingRight:e.spacing(3)}})),(({theme:e,ownerState:t})=>t.fixed&&Object.keys(e.breakpoints.values).reduce(((t,n)=>{const a=e.breakpoints.values[n];return 0!==a&&(t[e.breakpoints.up(n)]={maxWidth:`${a}${e.breakpoints.unit}`}),t}),{})),(({theme:e,ownerState:t})=>(0,l.Z)({},"xs"===t.maxWidth&&{[e.breakpoints.up("xs")]:{maxWidth:Math.max(e.breakpoints.values.xs,444)}},t.maxWidth&&"xs"!==t.maxWidth&&{[e.breakpoints.up(t.maxWidth)]:{maxWidth:`${e.breakpoints.values[t.maxWidth]}${e.breakpoints.unit}`}})));var v=d.forwardRef((function(e,t){const n=(0,u.Z)({props:e,name:"MuiContainer"}),{className:a,component:r="div",disableGutters:i=!1,fixed:o=!1,maxWidth:s="lg"}=n,d=(0,c.Z)(n,g),f=(0,l.Z)({},n,{component:r,disableGutters:i,fixed:o,maxWidth:s}),h=(e=>{const{classes:t,fixed:n,disableGutters:a,maxWidth:r}=e,i={root:["root",r&&`maxWidth${(0,y.Z)(String(r))}`,n&&"fixed",a&&"disableGutters"]};return(0,m.Z)(i,x,t)})(f);return(0,k.jsx)(N,(0,l.Z)({as:r,ownerState:f,className:(0,p.Z)(h.root,a),ref:t},d))})),E=n(6292),C=n(5861),Z=n(6886),b=n(4810),w=n(3066),P=n(3369),M=n(1686),S=n(1847),_=n(4770),T=n(8002),W="getstarted_JIFA",R="leftpannel_UCYo",z="rightpannel_sS8d",L="biglogo_QK6Q",I="control_HVTu",A="npminstall_hUIG",D="designtagline_kEQy",F="smartdesign_Te77",j="selectedsd_g9YR",G=function(){return d.createElement(a.Z,{to:"/docs/introduction",style:{textDecoration:"none"}},d.createElement(E.Z,{variant:"contained",disableElevation:!0,className:W,style:{textTransform:"none",fontFamily:"IBM Plex Sans",fontWeight:"bold",fontSize:"16px",borderRadius:"10px",padding:"12px",paddingLeft:"18px",paddingRight:"18px"},sx:{mr:{xs:0,sm:2}},endIcon:d.createElement(i.Z,null)},"Get started"))},X=function(){return d.createElement("div",{className:L,style:{height:"100%",width:"100%",backgroundRepeat:"no-repeat",backgroundPosition:"center center"}})},B=function(){return d.createElement(C.Z,{variant:"h2",style:{fontFamily:"Montserrat"}},"Smart Contracts under ",d.createElement("span",{className:I},"Control"))},$=function(){return d.createElement(C.Z,{style:{fontFamily:"IBM Plex Sans"}},"Archetype is a general purpose language to develop Smart Contracts on the ",d.createElement(a.Z,{to:"https://tezos.com/"},"Tezos")," blockchain, with exclusive features to ease development, tests and formal verification.")},q=function(){var e=(0,d.useState)(!1),t=e[0],n=e[1];return d.createElement(E.Z,{className:A,style:{textTransform:"none",fontFamily:"Roboto Mono",fontSize:"14px",borderRadius:"10px",borderWidth:"1px",padding:"12px",paddingLeft:"18px",paddingRight:"18px",width:"100%"},sx:{display:"inline-block",justifyContent:"start",overflowX:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis",position:"relative",pr:5},disableRipple:!0,variant:"outlined",endIcon:t?d.createElement(s.Z,{color:"secondary",sx:{color:"#2fcac3"},style:{verticalAlign:"text-top"}}):d.createElement(o.Z,{style:{verticalAlign:"text-top"}}),onClick:function(){n(!0),navigator.clipboard.writeText("npm i -g @completium/completium-cli"),setTimeout((function(){return n(!1)}),2e3)}},"npm i -g @completium/completium-cli")},H=function(){return d.createElement(v,{maxWidth:!1,className:R,sx:{height:"calc(100vh - 60px)"}},d.createElement(Z.ZP,{container:!0,style:{height:"100%",marginTop:"0px"},spacing:4,direction:"column",justifyContent:"flex-start",alignItems:"stretch"},d.createElement(Z.ZP,{item:!0,style:{height:"30%"}},d.createElement(Z.ZP,{container:!0,direction:"column",justifyContent:"flex-end",style:{height:"100%"}},d.createElement(Z.ZP,{item:!0,xs:8},d.createElement(X,null)))),d.createElement(Z.ZP,{item:!0},d.createElement(Z.ZP,{spacing:3,style:{paddingLeft:"0%",paddingRight:"10%"},container:!0},d.createElement(Z.ZP,{xs:12,sm:12,md:2.4}),d.createElement(Z.ZP,{item:!0,xs:12,sm:12,md:9.6},d.createElement(B,null)),d.createElement(Z.ZP,{xs:12,sm:12,md:2.4}),d.createElement(Z.ZP,{item:!0,xs:12,sm:12,md:9.6},d.createElement($,null)),d.createElement(Z.ZP,{xs:12,sm:12,md:2.4}),d.createElement(Z.ZP,{item:!0,xs:12,sm:12,md:9.6},d.createElement(Z.ZP,{spacing:1,container:!0,justifyContent:"flex-start",sx:{display:"flex",flexWrap:"wrap","&& > *":{minWidth:"clamp(0px, (492px - 100%) * 999 ,100%)"}}},d.createElement(Z.ZP,{item:!0},d.createElement(G,null)),d.createElement(Z.ZP,{item:!0,xs:12,sm:12,md:8},d.createElement(q,null))))))))},O=[{title:"Easy Business Logic",tagline:"Rational, date and duration types make business logic easy to express.",link:"/docs/language-basics/types"},{title:"Explicit Execution Conditions",tagline:"Execution conditions for the contract to execute are easy to read and check.",link:"/docs/reference/declarations/entrypoint#sections"},{title:"State Machine Design",tagline:"Design the contract as a state machine, with guard conditions on transitions.",link:"/docs/statemachine"},{title:"Rich Storage API",tagline:"Rich API to access and manipulate collections of assets.",link:"/docs/asset"}],V=[{code:"archetype pay_with_penalty(holder : address, cost : tez, deadline : date)\n\nentry pay () {\n  const penalty = now > deadline ? 7% * (now - deadline) / 1d : 0;\n  transfer ((1 + penalty) * cost) to holder\n}",comment:d.createElement(M.default,null)},{code:'archetype exec_cond_demo(admin : address, value : nat)\n\nentry set_value (v : nat) {\n  called by admin\n  require {\n    r1: transferred > value otherwise "INSUFFICIENT_TRANSFERRED_AMOUNT";\n    r2: now < 2023-01-01    otherwise "TOO_LATE";\n  }\n  effect { value := v; }\n}',comment:d.createElement(S.default,null)},{code:"archetype state_machine_demo(value : tez, holder : address)\n\nstates =\n| Created initial\n| Initialized\n\ntransition initialize () {\n  from Created to Initialized\n  when { transferred > value }\n}",comment:d.createElement(_.default,null)},{code:"archetype asset_demo\n\nasset vehicle {\n  vin         : string;\n  nb_repairs  : nat  = 0;\n}\n\nentry incr(n : nat) {\n  vehicle.select(the.nb_repairs = n).update_all({ nb_repairs += 1 })\n}",comment:d.createElement(T.default,null)}],U=function(e){return d.createElement(Z.ZP,{item:!0,xs:12,sm:12,md:6},d.createElement("div",{onClick:function(){e.setSelected(e.id),e.setActive(!1)}},d.createElement(Z.ZP,{className:F+" "+(e.selected?j:""),container:!0,direction:"column",style:{padding:"12px",borderRadius:"8px"}},d.createElement(Z.ZP,{item:!0,style:{marginBottom:"4px"}},d.createElement(C.Z,{style:{fontFamily:"Montserrat",fontSize:"18px"}},e.title)),d.createElement(Z.ZP,{item:!0},d.createElement(C.Z,{className:D,style:{fontFamily:"IBM Plex Sans"}},e.tagline)),d.createElement(Z.ZP,{item:!0},d.createElement(a.Z,{to:e.link,style:{position:"relative",marginTop:"4px",textDecoration:"none"}},"Learn more",d.createElement(i.Z,{style:{position:"absolute",top:"0px"}}))))))},Q=function(e){return d.createElement(Z.ZP,{container:!0,spacing:2,style:{paddingLeft:"3%",paddingRight:"5%",marginTop:"10px"}},O.map((function(t,n){return d.createElement(U,{key:"sd"+n,id:n,title:t.title,tagline:t.tagline,link:t.link,selected:e.selected==n,setSelected:e.setSelected,setActive:e.setActive})})))},Y=function(){var e=(0,d.useState)(0),t=e[0],n=e[1],a=(0,d.useState)(!0),r=a[0],i=a[1];return(0,d.useEffect)((function(){var e=null;return r?e=setInterval((function(){n((function(e){return(e+1)%4}))}),15e3):(clearInterval(e),setTimeout((function(){i(!0)}),3e4)),function(){return clearInterval(e)}}),[r,t]),d.createElement(v,{maxWidth:!1,className:z,sx:{minHeight:"calc(100vh - 60px)"}},d.createElement(Z.ZP,{container:!0,style:{height:"100%"},direction:"column",justifyContent:"flex-start",alignItems:"center"},d.createElement(Z.ZP,{item:!0},d.createElement(C.Z,{variant:"h5",style:{fontFamily:"Montserrat",margin:"40px"}},"Control with Smart Designs")),d.createElement(Z.ZP,{item:!0},d.createElement(Q,{selected:t,setSelected:n,setActive:i})),d.createElement(Z.ZP,{item:!0,style:{width:"100%"}},d.createElement(Z.ZP,{container:!0,direction:"row",justifyContent:"flex-start",style:{paddingLeft:"calc(3% + 12px)",paddingRight:"5%",marginTop:"10px"}},d.createElement(C.Z,{style:{fontFamily:"IBM Plex Sans",marginBottom:"12px"}},"Example:"))),d.createElement(Z.ZP,{item:!0,style:{width:"100%",paddingLeft:"20px"}},d.createElement(w.Z,{className:"language-archetype"},V[t].code)),d.createElement(Z.ZP,{item:!0,className:D,style:{paddingLeft:"calc(3% + 12px)",paddingRight:"5%",width:"100%"}},V[t].comment)))},J=function(){return d.createElement(v,{maxWidth:!1,style:{padding:0,overflow:"auto"}},d.createElement(Z.ZP,{container:!0},d.createElement(Z.ZP,{item:!0,xs:12,sm:12,md:6},d.createElement(H,null)),d.createElement(Z.ZP,{item:!0,xs:12,sm:12,md:6},d.createElement(Y,null))))};function K(){var e=(0,r.Z)().siteConfig;return d.createElement(P.Z,{title:""+e.title,description:"Smart Contract Archetype Language"},d.createElement(b.Z,{injectFirst:!0},d.createElement(J,null)))}}}]);