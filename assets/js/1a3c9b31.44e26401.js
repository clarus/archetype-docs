"use strict";(self.webpackChunkarchetype_docs=self.webpackChunkarchetype_docs||[]).push([[9751],{1519:function(e,t,n){n.d(t,{Z:function(){return f}});var a=n(3366),l=n(7462),r=n(7294),i=n(6010),s=n(7192),o=n(1796),c=n(2110),d=n(1539),p=n(8979);function m(e){return(0,p.Z)("MuiDivider",e)}(0,n(6087).Z)("MuiDivider",["root","absolute","fullWidth","inset","middle","flexItem","light","vertical","withChildren","withChildrenVertical","textAlignRight","textAlignLeft","wrapper","wrapperVertical"]);var u=n(5893);const y=["absolute","children","className","component","flexItem","light","orientation","role","textAlign","variant"],k=(0,c.ZP)("div",{name:"MuiDivider",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.absolute&&t.absolute,t[n.variant],n.light&&t.light,"vertical"===n.orientation&&t.vertical,n.flexItem&&t.flexItem,n.children&&t.withChildren,n.children&&"vertical"===n.orientation&&t.withChildrenVertical,"right"===n.textAlign&&"vertical"!==n.orientation&&t.textAlignRight,"left"===n.textAlign&&"vertical"!==n.orientation&&t.textAlignLeft]}})((({theme:e,ownerState:t})=>(0,l.Z)({margin:0,flexShrink:0,borderWidth:0,borderStyle:"solid",borderColor:e.palette.divider,borderBottomWidth:"thin"},t.absolute&&{position:"absolute",bottom:0,left:0,width:"100%"},t.light&&{borderColor:(0,o.Fq)(e.palette.divider,.08)},"inset"===t.variant&&{marginLeft:72},"middle"===t.variant&&"horizontal"===t.orientation&&{marginLeft:e.spacing(2),marginRight:e.spacing(2)},"middle"===t.variant&&"vertical"===t.orientation&&{marginTop:e.spacing(1),marginBottom:e.spacing(1)},"vertical"===t.orientation&&{height:"100%",borderBottomWidth:0,borderRightWidth:"thin"},t.flexItem&&{alignSelf:"stretch",height:"auto"})),(({theme:e,ownerState:t})=>(0,l.Z)({},t.children&&{display:"flex",whiteSpace:"nowrap",textAlign:"center",border:0,"&::before, &::after":{position:"relative",width:"100%",borderTop:`thin solid ${e.palette.divider}`,top:"50%",content:'""',transform:"translateY(50%)"}})),(({theme:e,ownerState:t})=>(0,l.Z)({},t.children&&"vertical"===t.orientation&&{flexDirection:"column","&::before, &::after":{height:"100%",top:"0%",left:"50%",borderTop:0,borderLeft:`thin solid ${e.palette.divider}`,transform:"translateX(0%)"}})),(({ownerState:e})=>(0,l.Z)({},"right"===e.textAlign&&"vertical"!==e.orientation&&{"&::before":{width:"90%"},"&::after":{width:"10%"}},"left"===e.textAlign&&"vertical"!==e.orientation&&{"&::before":{width:"10%"},"&::after":{width:"90%"}}))),b=(0,c.ZP)("span",{name:"MuiDivider",slot:"Wrapper",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.wrapper,"vertical"===n.orientation&&t.wrapperVertical]}})((({theme:e,ownerState:t})=>(0,l.Z)({display:"inline-block",paddingLeft:`calc(${e.spacing(1)} * 1.2)`,paddingRight:`calc(${e.spacing(1)} * 1.2)`},"vertical"===t.orientation&&{paddingTop:`calc(${e.spacing(1)} * 1.2)`,paddingBottom:`calc(${e.spacing(1)} * 1.2)`})));var f=r.forwardRef((function(e,t){const n=(0,d.Z)({props:e,name:"MuiDivider"}),{absolute:r=!1,children:o,className:c,component:p=(o?"div":"hr"),flexItem:f=!1,light:h=!1,orientation:g="horizontal",role:E=("hr"!==p?"separator":void 0),textAlign:v="center",variant:_="fullWidth"}=n,w=(0,a.Z)(n,y),T=(0,l.Z)({},n,{absolute:r,component:p,flexItem:f,light:h,orientation:g,role:E,textAlign:v,variant:_}),x=(e=>{const{absolute:t,children:n,classes:a,flexItem:l,light:r,orientation:i,textAlign:o,variant:c}=e,d={root:["root",t&&"absolute",c,r&&"light","vertical"===i&&"vertical",l&&"flexItem",n&&"withChildren",n&&"vertical"===i&&"withChildrenVertical","right"===o&&"vertical"!==i&&"textAlignRight","left"===o&&"vertical"!==i&&"textAlignLeft"],wrapper:["wrapper","vertical"===i&&"wrapperVertical"]};return(0,s.Z)(d,m,a)})(T);return(0,u.jsx)(k,(0,l.Z)({as:p,className:(0,i.Z)(x.root,c),role:E,ref:t,ownerState:T},w,{children:o?(0,u.jsx)(b,{className:x.wrapper,ownerState:T,children:o}):null}))}))},5861:function(e,t,n){n.d(t,{Z:function(){return g}});var a=n(3366),l=n(7462),r=n(7294),i=n(6010),s=n(9707),o=n(7192),c=n(2110),d=n(1539),p=n(8216),m=n(8979);function u(e){return(0,m.Z)("MuiTypography",e)}(0,n(6087).Z)("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]);var y=n(5893);const k=["align","className","component","gutterBottom","noWrap","paragraph","variant","variantMapping"],b=(0,c.ZP)("span",{name:"MuiTypography",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.variant&&t[n.variant],"inherit"!==n.align&&t[`align${(0,p.Z)(n.align)}`],n.noWrap&&t.noWrap,n.gutterBottom&&t.gutterBottom,n.paragraph&&t.paragraph]}})((({theme:e,ownerState:t})=>(0,l.Z)({margin:0},t.variant&&e.typography[t.variant],"inherit"!==t.align&&{textAlign:t.align},t.noWrap&&{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},t.gutterBottom&&{marginBottom:"0.35em"},t.paragraph&&{marginBottom:16}))),f={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},h={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"};var g=r.forwardRef((function(e,t){const n=(0,d.Z)({props:e,name:"MuiTypography"}),r=(e=>h[e]||e)(n.color),c=(0,s.Z)((0,l.Z)({},n,{color:r})),{align:m="inherit",className:g,component:E,gutterBottom:v=!1,noWrap:_=!1,paragraph:w=!1,variant:T="body1",variantMapping:x=f}=c,N=(0,a.Z)(c,k),C=(0,l.Z)({},c,{align:m,color:r,className:g,component:E,gutterBottom:v,noWrap:_,paragraph:w,variant:T,variantMapping:x}),Z=E||(w?"p":x[T]||f[T])||"span",A=(e=>{const{align:t,gutterBottom:n,noWrap:a,paragraph:l,variant:r,classes:i}=e,s={root:["root",r,"inherit"!==e.align&&`align${(0,p.Z)(t)}`,n&&"gutterBottom",a&&"noWrap",l&&"paragraph"]};return(0,o.Z)(s,u,i)})(C);return(0,y.jsx)(b,(0,l.Z)({as:Z,ref:t,ownerState:C,className:(0,i.Z)(A.root,g)},N))}))},8216:function(e,t,n){var a=n(8320);t.Z=a.Z},4810:function(e,t,n){n.d(t,{Z:function(){return s}});n(7294);var a=n(4880),l=n(8357),r=n(5893);const i=(0,l.Z)({key:"css",prepend:!0});function s(e){const{injectFirst:t,children:n}=e;return t?(0,r.jsx)(a.C,{value:i,children:n}):n}},7682:function(e,t,n){n.d(t,{ZP:function(){return o}});var a=n(7462),l=n(3366),r=(n(7294),n(3905)),i=["components"],s={toc:[{value:"String",id:"string",level:3},{value:"Bytes",id:"bytes",level:3},{value:"List",id:"list",level:3},{value:"List of values",id:"list-of-values",level:3}]};function o(e){var t=e.components,n=(0,l.Z)(e,i);return(0,r.kt)("wrapper",(0,a.Z)({},s,n,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("p",null,"Concatenates two values of type ",(0,r.kt)("inlineCode",{parentName:"p"},"string"),", ",(0,r.kt)("inlineCode",{parentName:"p"},"bytes"),", or ",(0,r.kt)("inlineCode",{parentName:"p"},"list<T>"),", or a list of values of type ",(0,r.kt)("inlineCode",{parentName:"p"},"string")," or ",(0,r.kt)("inlineCode",{parentName:"p"},"bytes"),"."),(0,r.kt)("h3",{id:"string"},"String"),(0,r.kt)("p",null,"Concatenates two ",(0,r.kt)("a",{parentName:"p",href:"/docs/reference/types#string"},(0,r.kt)("inlineCode",{parentName:"a"},"string"))," values."),(0,r.kt)("p",null,"For example:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-archetype"},'const m = concat("Hello ", "Archetype");\n/* m is "Hello Archetype" */\n')),(0,r.kt)("p",null,"It is equivalent to the ",(0,r.kt)("a",{parentName:"p",href:"/docs/reference/expressions/operators/arithmetic#a--b"},(0,r.kt)("inlineCode",{parentName:"a"},"+"))," operator."),(0,r.kt)("h3",{id:"bytes"},"Bytes"),(0,r.kt)("p",null,"Concatenates two ",(0,r.kt)("a",{parentName:"p",href:"/docs/reference/types#bytes"},(0,r.kt)("inlineCode",{parentName:"a"},"bytes"))," values."),(0,r.kt)("p",null,"For example:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-archetype"},"const m = concat(0x48656c6c6f, 0x417263686574797065);\n/* m is 0x48656c6c6f417263686574797065 */\n")),(0,r.kt)("h3",{id:"list"},"List"),(0,r.kt)("p",null,"Concatenates two ",(0,r.kt)("a",{parentName:"p",href:"/docs/reference/types#list%3CT%3E"},(0,r.kt)("inlineCode",{parentName:"a"},"lists"))," of any element of any type."),(0,r.kt)("p",null,"It is equivalent to the following code:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-archetype"},"var res : list<T> = l;\nfor e in reverse(L) do\n  res.prepend(e)\ndone;\nL := res\n")),(0,r.kt)("p",null,"For example:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-archetype"},"const l = concat([1; 2; 3], [4; 5]);\n/* l is [1; 2; 3; 4; 5] */\n")),(0,r.kt)("h3",{id:"list-of-values"},"List of values"),(0,r.kt)("p",null,"Concatenates values of a list, of type ",(0,r.kt)("a",{parentName:"p",href:"/docs/reference/types#string"},(0,r.kt)("inlineCode",{parentName:"a"},"string"))," or ",(0,r.kt)("a",{parentName:"p",href:"/docs/reference/types#bytes"},(0,r.kt)("inlineCode",{parentName:"a"},"bytes"))),(0,r.kt)("p",null,"For example:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-archetype"},'const m = concat([ "Hello "; "Archetype "; "world!" ]);\n/* m is "Hello Archetype world!"*/\n')))}o.isMDXComponent=!0},9406:function(e,t,n){n.d(t,{Q:function(){return $},H:function(){return Q}});var a=n(9960),l=n(7294),r=n(7462),i=n(3366),s=n(3905),o=["components"],c={toc:[]};function d(e){var t=e.components,n=(0,i.Z)(e,o);return(0,s.kt)("wrapper",(0,r.Z)({},c,n,{components:t,mdxType:"MDXLayout"}),(0,s.kt)("p",null,"Returns the absolute value of input ",(0,s.kt)("inlineCode",{parentName:"p"},"t"),"."),(0,s.kt)("p",null,"When ",(0,s.kt)("inlineCode",{parentName:"p"},"t")," is of type:"),(0,s.kt)("ul",null,(0,s.kt)("li",{parentName:"ul"},(0,s.kt)("a",{parentName:"li",href:"/docs/reference/types#int"},(0,s.kt)("inlineCode",{parentName:"a"},"int")),", ",(0,s.kt)("inlineCode",{parentName:"li"},"abs(t)")," is typed ",(0,s.kt)("inlineCode",{parentName:"li"},"nat")),(0,s.kt)("li",{parentName:"ul"},(0,s.kt)("a",{parentName:"li",href:"/docs/reference/types#rational"},(0,s.kt)("inlineCode",{parentName:"a"},"rational")),", ",(0,s.kt)("inlineCode",{parentName:"li"},"abs(t)")," is typed ",(0,s.kt)("inlineCode",{parentName:"li"},"rational"))),(0,s.kt)("p",null,"The function may be considered as a non-failing conversion function from ",(0,s.kt)("inlineCode",{parentName:"p"},"int")," to ",(0,s.kt)("inlineCode",{parentName:"p"},"nat"),"."))}d.isMDXComponent=!0;var p=["components"],m={toc:[]};function u(e){var t=e.components,n=(0,i.Z)(e,p);return(0,s.kt)("wrapper",(0,r.Z)({},m,n,{components:t,mdxType:"MDXLayout"}),(0,s.kt)("p",null,"Executes ",(0,s.kt)("a",{parentName:"p",href:"https://en.wikipedia.org/wiki/Partial_application"},"partial application")," of a lambda value ",(0,s.kt)("inlineCode",{parentName:"p"},"f")," to an argument value ",(0,s.kt)("inlineCode",{parentName:"p"},"x"),"."),(0,s.kt)("p",null,"For example:"),(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre",className:"language-archetype"},"const plus_x = lambda<nat>((a : nat * nat) -> a[0] + a[1]);\nconst plus_three = apply_lambda(plus_x, 3);\nconst r = exec_lambda(plus_three, 1);\n/* r is equal to 4 */\n")))}u.isMDXComponent=!0;var y=n(7682),k=["components"],b={toc:[]};function f(e){var t=e.components,n=(0,i.Z)(e,k);return(0,s.kt)("wrapper",(0,r.Z)({},b,n,{components:t,mdxType:"MDXLayout"}),(0,s.kt)("p",null,"Applies a lambda value ",(0,s.kt)("inlineCode",{parentName:"p"},"f")," to argument ",(0,s.kt)("inlineCode",{parentName:"p"},"x"),"."),(0,s.kt)("p",null,"For example:"),(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre",className:"language-archetype"},"const plus_three = lambda((x : nat) -> x + 3);\nconst r = exec_lambda(plus_three, 1);\n/* r is equal to 4 */\n")))}f.isMDXComponent=!0;var h=["components"],g={toc:[]};function E(e){var t=e.components,n=(0,i.Z)(e,h);return(0,s.kt)("wrapper",(0,r.Z)({},g,n,{components:t,mdxType:"MDXLayout"}),(0,s.kt)("p",null,(0,s.kt)("inlineCode",{parentName:"p"},"fold")," applies the ",(0,s.kt)("em",{parentName:"p"},"inlined")," function ",(0,s.kt)("inlineCode",{parentName:"p"},"f")," to the ",(0,s.kt)("inlineCode",{parentName:"p"},"left")," of initial value ",(0,s.kt)("inlineCode",{parentName:"p"},"i"),":"),(0,s.kt)("ul",null,(0,s.kt)("li",{parentName:"ul"},"if it returns a ",(0,s.kt)("inlineCode",{parentName:"li"},"left")," value, it applies ",(0,s.kt)("inlineCode",{parentName:"li"},"f")," to the result of ",(0,s.kt)("inlineCode",{parentName:"li"},"f(i)"),", and iteratively applies f on as long as it returns a ",(0,s.kt)("inlineCode",{parentName:"li"},"left")," value."),(0,s.kt)("li",{parentName:"ul"},"if it returns a ",(0,s.kt)("inlineCode",{parentName:"li"},"right")," value, iteration stops, and the ",(0,s.kt)("inlineCode",{parentName:"li"},"right")," value is returned.")),(0,s.kt)("p",null,"Hence the application may be represented as:\n",(0,s.kt)("inlineCode",{parentName:"p"},"fold(i, f) = right(f(...(f(i))))")),(0,s.kt)("p",null,"For example, the following expression ",(0,s.kt)("em",{parentName:"p"},"reverses")," the list ",(0,s.kt)("inlineCode",{parentName:"p"},"l")," typed ",(0,s.kt)("inlineCode",{parentName:"p"},"list<nat>"),":"),(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre",className:"language-archetype"},"var empty : list<nat> = [];\nvar p : or<list<nat> * list<nat>, list<nat>> = left<list<nat>> ((empty, l));\nres := fold (p, x ->\n  match x[1] with\n   | hd::tail -> left<list<nat>> ((prepend(x[0], hd), tail))\n   | []       -> right<list<nat> * list<nat>>(x[0])\n  end\n)\n")),(0,s.kt)("div",{className:"admonition admonition-note alert alert--secondary"},(0,s.kt)("div",{parentName:"div",className:"admonition-heading"},(0,s.kt)("h5",{parentName:"div"},(0,s.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,s.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,s.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"}))),"note")),(0,s.kt)("div",{parentName:"div",className:"admonition-content"},(0,s.kt)("p",{parentName:"div"},"Folded function is inlined and cannot be a ",(0,s.kt)("a",{parentName:"p",href:"/docs/reference/types#lambda%3CT,%20R%3E"},(0,s.kt)("inlineCode",{parentName:"a"},"lambda"))," variable."))))}E.isMDXComponent=!0;var v=["components"],_={toc:[]};function w(e){var t=e.components,n=(0,i.Z)(e,v);return(0,s.kt)("wrapper",(0,r.Z)({},_,n,{components:t,mdxType:"MDXLayout"}),(0,s.kt)("p",null,"Returns an ",(0,s.kt)("a",{parentName:"p",href:"/docs/reference/types#option%3CT%3E"},(0,s.kt)("inlineCode",{parentName:"a"},"option"))," of contract's entrypoint (typed ",(0,s.kt)("a",{parentName:"p",href:"/docs/reference/types#contract%3CT%3E"},(0,s.kt)("inlineCode",{parentName:"a"},"contract<T>")),") to the entrypoint ",(0,s.kt)("inlineCode",{parentName:"p"},"s")," with argument ",(0,s.kt)("inlineCode",{parentName:"p"},"T")," at contract address ",(0,s.kt)("inlineCode",{parentName:"p"},"a"),"."),(0,s.kt)("p",null,"For example, consider the following contract at address ",(0,s.kt)("inlineCode",{parentName:"p"},"a"),":"),(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre",className:"language-archetype"},"archetype example\n\nentry exec(n : nat) { /* ... */ }\n\n")),(0,s.kt)("p",null,"The ",(0,s.kt)("inlineCode",{parentName:"p"},"exec")," entrypoint may be retrieved with:"),(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre",className:"language-archetype"},'const e = get_entrypoint("%exec", a) ? the : fail("EXEC_NOT_FOUND")\n')),(0,s.kt)("p",null,"The entrypoint may then be used as an argument of ",(0,s.kt)("a",{parentName:"p",href:"/docs/reference/expressions/builtins#make_operation(a%20:%20tez,%20c%20:%20contract%3CT%3E,%20arg%20:%20T)"},(0,s.kt)("inlineCode",{parentName:"a"},"make_operation")),"."))}w.isMDXComponent=!0;var T=["components"],x={toc:[]};function N(e){var t=e.components,n=(0,i.Z)(e,T);return(0,s.kt)("wrapper",(0,r.Z)({},x,n,{components:t,mdxType:"MDXLayout"}),(0,s.kt)("p",null,"Returns ",(0,s.kt)("inlineCode",{parentName:"p"},"false")," if an optional value ",(0,s.kt)("inlineCode",{parentName:"p"},"o")," is ",(0,s.kt)("inlineCode",{parentName:"p"},"some"),", ",(0,s.kt)("inlineCode",{parentName:"p"},"true")," otherwise."),(0,s.kt)("p",null,"It is equivalent to the following expression:"),(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre",className:"language-archetype"},"o ? false : true\n")),(0,s.kt)("p",null,"or equivalently:"),(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre",className:"language-archetype"},"match o with\n| some(v) -> false\n| none    -> true\nend\n")))}N.isMDXComponent=!0;var C=["components"],Z={toc:[]};function A(e){var t=e.components,n=(0,i.Z)(e,C);return(0,s.kt)("wrapper",(0,r.Z)({},Z,n,{components:t,mdxType:"MDXLayout"}),(0,s.kt)("p",null,"Returns ",(0,s.kt)("inlineCode",{parentName:"p"},"true")," if an optional value ",(0,s.kt)("inlineCode",{parentName:"p"},"o")," is ",(0,s.kt)("inlineCode",{parentName:"p"},"some"),", ",(0,s.kt)("inlineCode",{parentName:"p"},"false")," otherwise."),(0,s.kt)("p",null,"It is equivalent to the following expression:"),(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre",className:"language-archetype"},"o ? true : false\n")),(0,s.kt)("p",null,"or equivalently:"),(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre",className:"language-archetype"},"match o with\n| some(v) -> true\n| none    -> false\nend\n")))}A.isMDXComponent=!0;var L=["components"],z={toc:[]};function O(e){var t=e.components,n=(0,i.Z)(e,L);return(0,s.kt)("wrapper",(0,r.Z)({},z,n,{components:t,mdxType:"MDXLayout"}),(0,s.kt)("p",null,"Constructs a ",(0,s.kt)("em",{parentName:"p"},"left")," value typed ",(0,s.kt)("a",{parentName:"p",href:"/docs/reference/types#or%3CT1,%20T2%3E"},(0,s.kt)("inlineCode",{parentName:"a"},"or<L, R>")),"."),(0,s.kt)("p",null,"The left type ",(0,s.kt)("inlineCode",{parentName:"p"},"L")," may be omitted as it can be inferred, but the right type ",(0,s.kt)("inlineCode",{parentName:"p"},"R")," is mandatory."),(0,s.kt)("p",null,"For example:"),(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre",className:"language-archetype"},"const o = left<string>(2)\n")),(0,s.kt)("p",null,(0,s.kt)("inlineCode",{parentName:"p"},"o")," is then typed ",(0,s.kt)("inlineCode",{parentName:"p"},"option<nat, string>"),". It is equivalent to:"),(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre",className:"language-archetype"},"const o = left<nat, string>(2)\n")))}O.isMDXComponent=!0;var D=["components"],M={toc:[{value:"List",id:"list",level:3},{value:"Map",id:"map",level:3},{value:"Option",id:"option",level:3}]};function R(e){var t=e.components,n=(0,i.Z)(e,D);return(0,s.kt)("wrapper",(0,r.Z)({},M,n,{components:t,mdxType:"MDXLayout"}),(0,s.kt)("p",null,"Maps a value of type ",(0,s.kt)("a",{parentName:"p",href:"/docs/reference/types#list%3CT%3E"},(0,s.kt)("inlineCode",{parentName:"a"},"list<T>")),", ",(0,s.kt)("a",{parentName:"p",href:"/docs/reference/types#map%3CK,%20V%3E"},(0,s.kt)("inlineCode",{parentName:"a"},"map<K, V>")),", or ",(0,s.kt)("a",{parentName:"p",href:"/docs/reference/types#option%3CT%3E"},(0,s.kt)("inlineCode",{parentName:"a"},"option<T>")),"."),(0,s.kt)("h3",{id:"list"},"List"),(0,s.kt)("p",null,"Applies an inlined function of type ",(0,s.kt)("inlineCode",{parentName:"p"},"T -> T")," on each element of a list of elements typed ",(0,s.kt)("inlineCode",{parentName:"p"},"T")," and returns a new list."),(0,s.kt)("p",null,"For example:"),(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre",className:"language-archetype"},"const l = map([ 1; 2 ; 3 ], x -> 2 * x + 1);\n/* l is [ 3; 5; 7 ] */\n")),(0,s.kt)("h3",{id:"map"},"Map"),(0,s.kt)("p",null,"Applies an inlined function of type ",(0,s.kt)("inlineCode",{parentName:"p"},"(K * V) -> V")," on each value of a map with key of type ",(0,s.kt)("inlineCode",{parentName:"p"},"K")," and value of type ",(0,s.kt)("inlineCode",{parentName:"p"},"V"),"; it returns a new map."),(0,s.kt)("p",null,"For example:"),(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre",className:"language-archetype"},'const m = map([ ("a", 5); ("b", 6); ("c", 7) ], x -> 2 * x[1] + 1)\n/* m is [ ("a", 11); ("b", 13); ("c", 15) ] */\n')),(0,s.kt)("p",null,"Note that the ",(0,s.kt)("inlineCode",{parentName:"p"},"x")," intput of the inlined mapping function is a ",(0,s.kt)("em",{parentName:"p"},"pair")," (key and value) of the map; hence ",(0,s.kt)("inlineCode",{parentName:"p"},"x[0]")," is the key and ",(0,s.kt)("inlineCode",{parentName:"p"},"x[1]")," is the value."),(0,s.kt)("h3",{id:"option"},"Option"),(0,s.kt)("p",null,"Applies an inlined function of type ",(0,s.kt)("inlineCode",{parentName:"p"},"T -> T")," to the ",(0,s.kt)("inlineCode",{parentName:"p"},"some")," value of an ",(0,s.kt)("inlineCode",{parentName:"p"},"option<T>")," value, or returns ",(0,s.kt)("inlineCode",{parentName:"p"},"none"),"."),(0,s.kt)("p",null,"For example:"),(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre",className:"language-archetype"},"const o1 = map(some(2), x -> 2 * x + 1);\n/* o1 is some(5) */\nconst o2 = map(none, x -> 2 * x + 1);\n/* o2 is none */\n")),(0,s.kt)("p",null,"Note that the ",(0,s.kt)("inlineCode",{parentName:"p"}," ? :")," syntax is also available to fold an option. The above example is then equivalent to:"),(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre",className:"language-archetype"},"const o1 = some(2) ? 2 * the + 1 : none;\n/* o1 is some(5) */\n")))}R.isMDXComponent=!0;var S=["components"],V={toc:[]};function I(e){var t=e.components,n=(0,i.Z)(e,S);return(0,s.kt)("wrapper",(0,r.Z)({},V,n,{components:t,mdxType:"MDXLayout"}),(0,s.kt)("p",null,"Converts a ",(0,s.kt)("a",{parentName:"p",href:"/docs/reference/types#tez"},(0,s.kt)("inlineCode",{parentName:"a"},"tez"))," value in mutez (millionth of tez) to a ",(0,s.kt)("a",{parentName:"p",href:"/docs/reference/types#nat"},(0,s.kt)("inlineCode",{parentName:"a"},"nat"))," value."),(0,s.kt)("p",null,"For example:"),(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre",className:"language-archetype"},"const n = mutez_to_nat(5tz);\n/* n is 5000000 */\n")))}I.isMDXComponent=!0;var P=["components"],K={toc:[]};function B(e){var t=e.components,n=(0,i.Z)(e,P);return(0,s.kt)("wrapper",(0,r.Z)({},K,n,{components:t,mdxType:"MDXLayout"}),(0,s.kt)("p",null,"Extracts some value from optional value ",(0,s.kt)("inlineCode",{parentName:"p"},"o"),". It is equivalent to the following expression:"),(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre",className:"language-archetype"},'match o with\n| some(v) -> v\n| none -> fail("NotFound")\nend\n')))}B.isMDXComponent=!0;var q=["components"],G={toc:[]};function X(e){var t=e.components,n=(0,i.Z)(e,q);return(0,s.kt)("wrapper",(0,r.Z)({},G,n,{components:t,mdxType:"MDXLayout"}),(0,s.kt)("p",null,"Constructs a ",(0,s.kt)("em",{parentName:"p"},"right")," value typed ",(0,s.kt)("a",{parentName:"p",href:"/docs/reference/types#or%3CT1,%20T2%3E"},(0,s.kt)("inlineCode",{parentName:"a"},"or<L, R>")),"."),(0,s.kt)("p",null,"The left type ",(0,s.kt)("inlineCode",{parentName:"p"},"L")," is mandatory, while the right type ",(0,s.kt)("inlineCode",{parentName:"p"},"R")," may be omited as it can be inferred."),(0,s.kt)("p",null,"For example:"),(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre",className:"language-archetype"},'const o = right<nat>("abc")\n')),(0,s.kt)("p",null,(0,s.kt)("inlineCode",{parentName:"p"},"o")," is then typed ",(0,s.kt)("inlineCode",{parentName:"p"},"option<nat, string>"),". It is equivalent to:"),(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre",className:"language-archetype"},'const o = right<nat, string>("abc")\n')))}X.isMDXComponent=!0;var F=["components"],H={toc:[]};function U(e){var t=e.components,n=(0,i.Z)(e,F);return(0,s.kt)("wrapper",(0,r.Z)({},H,n,{components:t,mdxType:"MDXLayout"}),(0,s.kt)("p",null,"Deserializes a value of type ",(0,s.kt)("a",{parentName:"p",href:"/docs/reference/types#bytes"},(0,s.kt)("inlineCode",{parentName:"a"},"bytes"))," into the corresponding value of type ",(0,s.kt)("inlineCode",{parentName:"p"},"option<T>"),"."),(0,s.kt)("p",null,"For example, suppose ",(0,s.kt)("inlineCode",{parentName:"p"},"p")," is a bytes value:"),(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre",className:"language-archetype"},'var v = 0;\nmatch unpack<nat>(p) with with\n| some(n) -> v := n\n| none    -> fail("Unpack failed")\nend;\n/* v is typed nat */\n')))}U.isMDXComponent=!0;var W=["components"],j={toc:[]};function Y(e){var t=e.components,n=(0,i.Z)(e,W);return(0,s.kt)("wrapper",(0,r.Z)({},j,n,{components:t,mdxType:"MDXLayout"}),(0,s.kt)("p",null,"Extracts a section of a string or bytes ",(0,s.kt)("inlineCode",{parentName:"p"},"s")," and returns it as a new string or bytes."),(0,s.kt)("p",null,"The section starts at offset postion ",(0,s.kt)("inlineCode",{parentName:"p"},"o")," is has a length of ",(0,s.kt)("inlineCode",{parentName:"p"},"l"),"."),(0,s.kt)("p",null,"For example:"),(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre",className:"language-archetype"},'const s = "Hello Archetype World!";\nconst e = slice(s, 6, 9) ? the : "";  /* e is "Archetype" */\nconst b = 0x48656c6c6f2041726368657479706520576f726c64;\nconst c = slice(b, 12, 18); /* c is some(0x417263686574797065) */\nconst f = slice(b, 30, 40); /* f is none */\n')))}Y.isMDXComponent=!0;var J="https://tezos.gitlab.io/michelson-reference/",Q=function(e){return e.replace(/ /g,"%20")},$={call_view:{sig:"call_view<T>(a : address, id : string, arg : X)",desc:l.createElement("div",null,"Calls an on-chain view."),parameters:[{type:"address",alias:"a",desc:l.createElement("div",null,"Address of the contract to call")},{type:"string",alias:"id",desc:l.createElement("div",null,"Name of the view; must be a literal string (e.g. ",l.createElement("code",null,'"my_view"'),")")},{type:"X",withLink:!1,alias:"arg",desc:l.createElement("div",null,"Argument of the called view")}],returns:{type:"option<T>",desc:l.createElement("div",null,l.createElement("ul",null,l.createElement("li",null,l.createElement("code",null,"none")," if a problem occured (view not found, or view execution failed)"),l.createElement("li",null,l.createElement("code",null,"some(v)"),", ",l.createElement("code",null,"v")," being the value returned by the view")))},michelson:"VIEW",michelson_ref_url:J+"#VIEW",related:[{keyword:"View",link:"/docs/reference/declarations/view"}]},make_operation:{sig:"make_operation(a : tez, c : contract<T>, arg : T)",desc:l.createElement("div",null,"Makes an operation."),parameters:[{type:"tez",alias:"a",desc:l.createElement("div",null,"The amount of tez sent with the operation")},{type:"contract<T>",alias:"c",desc:l.createElement("div",null,"Entrypoint with argument of type ",l.createElement("code",null,"T")," (as returned by ",l.createElement("code",null,"get_entrypoint"),")")},{type:"T",withLink:!1,alias:"arg",desc:l.createElement("div",null,"The argument of the called entrypoint")}],returns:{type:"operation",desc:l.createElement("div",null,"The generated operation")},michelson:"TRANSFER_TOKENS",michelson_ref_url:J+"#instr-TRANSFER_TOKENS",related:[{keyword:"Operations",link:"/docs/reference/instructions/operation"},{keyword:"get_entrypoint",link:"/docs/reference/expressions/builtins#get_entrypoint<T>(s,%20a%20:%20address)"}]},fold:{sig:"fold (i : or<L, R>, f : L -> or<L, R>)",desc:l.createElement(E,null),parameters:[{type:"or<L, R>",alias:"i",desc:l.createElement("div",null,"Initial value")},{type:"function",withLink:!1,alias:"f",desc:l.createElement("div",null,l.createElement("i",null,"Inlined")," folding function that:",l.createElement("ul",null,l.createElement("li",null,"takes a parameter of type ",l.createElement("code",null,"L")),l.createElement("li",null,"returns a values of type ",l.createElement("code",null,"or<L, R>")," ")))}],returns:{type:"R",withLink:!1,desc:l.createElement("div",null,"Folded value")},michelson:"LOOP_LEFT",michelson_ref_url:J+"#instr-LOOP_LEFT",related:[{keyword:"or",link:"/docs/reference/types#or<T1,%20T2>"},{keyword:"left",link:"/docs/reference/expressions/builtins#left<(L,)?%20T>(x%20:%20L)"},{keyword:"right",link:"/docs/reference/expressions/builtins#right<T(,%20R)>(x%20:%20R)"}]},map:{sig:"map",desc:l.createElement(R,null),parameters:[{type:"-",withLink:!1,alias:"s",desc:l.createElement("div",null,"Input to map of type:",l.createElement("ul",null,l.createElement("li",null,l.createElement(a.Z,{to:"/docs/reference/types#list<T>"},l.createElement("code",null,"list<T>"))),l.createElement("li",null,l.createElement(a.Z,{to:"/docs/reference/types#map<K,%20V>"},l.createElement("code",null,"map<K, V>"))),l.createElement("li",null,l.createElement(a.Z,{to:"/docs/reference/types#option<T>"},l.createElement("code",null,"option<T>")))))},{type:"function",withLink:!1,alias:"f",desc:l.createElement("div",null,l.createElement("i",null,"Inlined")," mapping function.")}],returns:{type:"-",withLink:!1,desc:l.createElement("div",null,"Returns a mapped value of the same type as the input.")},michelson:"MAP",michelson_ref_url:J+"#instr-MAP",related:[{keyword:"list<T>",link:"/docs/reference/types#list<T>"},{keyword:"map<K, V>",link:"/docs/reference/types#map<K,%20V>"},{keyword:"option<T>",link:"/docs/reference/types#option<T>"},{keyword:"? :",link:"/docs/reference/expressions/controls#a--b--c"}]},exec_lambda:{sig:"exec_lambda(f : lambda<T, R>, x : T)",desc:l.createElement(f,null),parameters:[{type:"lambda<T, R>",alias:"f",desc:l.createElement("div",null,"Lambda to execute")},{type:"T",withLink:!1,alias:"x",desc:l.createElement("div",null,"Argument")}],returns:{type:"T",desc:l.createElement("div",null,"Evaluation of ",l.createElement("i",null,"f(x)"))},michelson:"EXEC",michelson_ref_url:J+"#instr-EXEC",related:[{keyword:"lambda",link:"/docs/reference/types#lambda<T,%20R>"},{keyword:"apply_lambda",link:"/docs/reference/expressions/builtins#apply_lambda(f%20:%20lambda<A%20*%20T,%20R>,%20x%20:%20A)"}]},apply_lambda:{sig:"apply_lambda(f : lambda<A * T, R>, x : A)",desc:l.createElement(u,null),parameters:[{type:"lambda<A*T,R>",withLink:!1,alias:"f",desc:l.createElement("div",null,"Lambda to partially apply")},{type:"A",alias:"x",withLink:!1,desc:l.createElement("div",null,"Lambda argument")}],returns:{type:"lambda<T, R>",desc:l.createElement("div",null,"Partially applied lambda value")},michelson:"APPLY",michelson_ref_url:J+"#instr-APPLY",related:[{keyword:"lambda",link:"/docs/reference/types#lambda<T,%20R>"},{keyword:"exec_lambda",link:"/docs/reference/expressions/builtins#exec_lambda(f%20:%20lambda<T,%20R>,%20x%20:%20T)"}]},sub_nat:{sig:"sub_nat(a : nat, b : nat)",desc:l.createElement("div",null,"Subtracts ",l.createElement("code",null,"a")," to ",l.createElement("code",null,"b")," and returns a nat value."),parameters:[{type:"nat",alias:"a",desc:l.createElement("div",null,"Left-hand side operand to subtract")},{type:"nat",alias:"b",desc:l.createElement("div",null,"Right-hand side operand to subtract")}],returns:{type:"nat",desc:l.createElement("div",null,"Result of operation")},fails:[{keyword:'"NAT_NEG_ASSIGN"',desc:l.createElement("div",null,"when ",l.createElement("code",null,"a - b")," is negative")}],related:[{keyword:"nat",link:"/docs/reference/types#nat"}]},sub_mutez:{sig:"sub_mutez(a : tez, b : tez)",desc:l.createElement("div",null,"Subtracts ",l.createElement("code",null,"a")," to ",l.createElement("code",null,"b")," and returns an option of tez value."),parameters:[{type:"tez",alias:"a",desc:l.createElement("div",null,"Left-hand side operand to subtract")},{type:"tez",alias:"b",desc:l.createElement("div",null,"Right-hand side operand to subtract")}],returns:{type:"option<tez>",desc:l.createElement("div",null,l.createElement("ul",null,l.createElement("li",null,l.createElement("code",null,"none")," if ",l.createElement("code",null,"a - b")," is negative"),l.createElement("li",null,l.createElement("code",null,"some(v)"),", if ",l.createElement("code",null,"a - b")," is positive, with ",l.createElement("code",null,"v = a - b"))))},michelson:"SUB_MUTEZ",michelson_ref_url:J+"#instr-SUB_MUTEZ",related:[{keyword:"tez",link:"/docs/reference/types#tez"}]},left:{sig:"left<(L,)? T>(x : L)",desc:l.createElement(O,null),parameters:[{type:"L",alias:"x",withLink:!1,desc:l.createElement("div",null,"Value to convert")}],returns:{type:"or<L, T>",desc:l.createElement("div",null,"Value converted to left literal")},michelson:"LEFT",michelson_ref_url:J+"#instr-LEFT",related:[{keyword:"or",link:"/docs/reference/types#or<T1,%20T2>"},{keyword:"right",link:"/docs/reference/expressions/builtins#right<T(,%20R)>(x%20:%20R)"}]},right:{sig:"right<T(, R)>(x : R)",desc:l.createElement(X,null),parameters:[{type:"R",withLink:!1,alias:"x",desc:l.createElement("div",null,"Value to convert")}],returns:{type:"or<T, R>",desc:l.createElement("div",null,"Value converted to right literal")},michelson:"RIGHT",michelson_ref_url:J+"#instr-RIGHT",related:[{keyword:"or",link:"/docs/reference/types#or<T1,%20T2>"},{keyword:"left",link:"/docs/reference/expressions/builtins#left<(L,)?%20T>(x%20:%20L)"}]},none:{sig:"none<T>",desc:l.createElement("div",null,"Optional ",l.createElement("code",null,"none")," value for type ",l.createElement("code",null,"option<T>"),"."),parameters:[],returns:{type:"option<T>",desc:l.createElement("div",null,"Value none")},michelson:"NONE",michelson_ref_url:J+"#instr-NONE",related:[{keyword:"Option",link:"/docs/language-basics/composite#option"},{keyword:"some",link:"/docs/reference/expressions/builtins#some(v%20:%20T)"},{keyword:"math with",link:"/docs/reference/instructions/control#match-with"}]},some:{sig:"some(v : T)",desc:l.createElement("div",null,"Optional ",l.createElement("code",null,"some")," value for type ",l.createElement("code",null,"option<T>"),"."),parameters:[{type:"T",alias:"v",desc:l.createElement("div",null,"Some value")}],returns:{type:"option<T>",desc:l.createElement("div",null,"Optional value of ",l.createElement("code",null,"v"))},michelson:"SOME",michelson_ref_url:J+"#instr-SOME",related:[{keyword:"Option",link:"/docs/language-basics/composite#option"},{keyword:"none",link:"/docs/reference/expressions/builtins#none<T>"},{keyword:"math with",link:"/docs/reference/instructions/control#match-with"}]},add:{sig:"add(s : set<T>, e : T)",desc:l.createElement("div",null,"Returns a copy of set ",l.createElement("code",null,"s")," augmented with element ",l.createElement("code",null,"e"),".",l.createElement("p",null),"If ",l.createElement("code",null,"e")," is already present in ",l.createElement("code",null,"s"),", it returns a copy of ",l.createElement("code",null,"s"),"."),parameters:[{type:"set<T>",alias:"s",desc:l.createElement("div",null,"Input set")},{type:"T",withLink:!1,alias:"e",desc:l.createElement("div",null,"Element to add")}],returns:{type:"set<T>",desc:l.createElement("div",null,"Set that contains all elements of ",l.createElement("code",null,"s")," and element ",l.createElement("code",null,"e"))},michelson:"UPDATE",michelson_ref_url:J+"#instr-UPDATE",related:[{keyword:"Set",link:"/docs/language-basics/container#set"},{keyword:"remove",link:"/docs/reference/expressions/builtins#remove(c%20:%20C,%20i%20:%20T)"}]},prepend:{sig:"prepend(l : list<T>, e : T)",desc:l.createElement("div",null,"Adds element ",l.createElement("code",null,"e")," at the beginning of list ",l.createElement("code",null,"l"),"."),parameters:[{type:"list<T>",alias:"l",desc:l.createElement("div",null,"List")},{type:"T",alias:"e",desc:l.createElement("div",null,"Element to add")}],returns:{type:"list<T>",desc:l.createElement("div",null,"List with element ",l.createElement("code",null,"e")," followed by list ",l.createElement("code",null,"l")," of elements.")},michelson:"CONS",michelson_ref_url:J+"#instr-CONS",related:[{keyword:"List",link:"/docs/language-basics/container#list"}]},nth:{sig:"nth(l : list<T>, n : nat)",desc:l.createElement("div",null,"Returns the ",l.createElement("code",null,"n"),"th element of list ",l.createElement("code",null,"l"),"."),parameters:[{type:"list<T>",alias:"l",desc:l.createElement("div",null,"List of elements typed ",l.createElement("code",null,"T"))},{type:"nat",alias:"n",desc:l.createElement("div",null,"Position in range ",l.createElement("code",null,"0")," to ",l.createElement("code",null,"length(l)-1"))}],returns:{type:"T",desc:l.createElement("div",null,"Element at position ",l.createElement("code",null,"n"))},fails:[{keyword:'"EmptyList"',desc:l.createElement("div",null,'"Out of Bound" when ',l.createElement("code",null,"n")," is greater than ",l.createElement("code",null,"length(l)-1"))}],related:[{keyword:"List",link:"/docs/language-basics/container#list"},{keyword:"length",link:"/docs/reference/expressions/builtins#length(o%20:%20T)"}]},reverse:{sig:"reverse(l : list<T>)",desc:l.createElement("div",null,"Returns a copy of list ",l.createElement("code",null,"l")," with elements in reverse order."),parameters:[{type:"list<T>",alias:"l",desc:l.createElement("div",null,"List to reverse")}],returns:{type:"list<T>",desc:l.createElement("div",null,"List with reversed elements")},related:[{keyword:"List",link:"/docs/language-basics/container#list"},{keyword:"reverse",link:"/docs/reference/instructions/containers#lreverse"},{keyword:"prepend",link:"/docs/reference/expressions/builtins#prepend(l%20:%20list<T>,%20e%20:%20T)"}]},put:{sig:"put(m : map<K, V>, k : K, v : V)",desc:l.createElement("div",null,"Associates value ",l.createElement("code",null,"v")," with key ",l.createElement("code",null,"k")," in map (",l.createElement("code",null,"map"),", ",l.createElement("code",null,"big_map")," or ",l.createElement("code",null,"iterable_map"),")",l.createElement("code",null,"m"),"."),parameters:[{type:"map",alias:"m",desc:l.createElement("div",null,"Map (or ",l.createElement(a.Z,{to:"/docs/reference/types#big_map<K,%20V>"},l.createElement("code",null,"big_map"))," or ",l.createElement(a.Z,{to:"/docs/reference/types#iterable_big_map<K,%20V>"},l.createElement("code",null,"iterable_big_map")),")")},{type:"K",alias:"k",desc:l.createElement("div",null,"Key to put")},{type:"V",alias:"v",desc:l.createElement("div",null,"Value to put")}],returns:{type:"map<K, V>",desc:l.createElement("div",null,"Copy of map ",l.createElement("code",null,"m")," whith new key-value pair (returns same type as ",l.createElement("code",null,"m"),")")},michelson:"UPDATE",michelson_ref_url:J+"#instr-UPDATE",related:[{keyword:"Map",link:"/docs/language-basics/container#map"},{keyword:"remove",link:"/docs/reference/expressions/builtins#remove(c%20:%20C,%20i%20:%20T)"},{keyword:"update",link:"/docs/reference/expressions/builtins#update(m%20:%20map<K,%20V>,%20k%20:%20K,%20v%20:%20option<V>)"}]},update:{sig:"update(m : map<K, V>, k : K, v : option<T>)",desc:l.createElement("div",null,"Adds or removes value ",l.createElement("code",null,"v")," from associated to key ",l.createElement("code",null,"k")," in map ",l.createElement("code",null,"m"),": ",l.createElement("ul",null,l.createElement("li",null,l.createElement("code",null,"none")," removes key ",l.createElement("code",null,"k")),l.createElement("li",null,l.createElement("code",null,"some(v)"),", adds key ",l.createElement("code",null,"k")," with value ",l.createElement("code",null,"v")))),parameters:[{type:"map",alias:"m",desc:l.createElement("div",null,"Map (or ",l.createElement(a.Z,{to:"/docs/reference/types#big_map<K,%20V>"},l.createElement("code",null,"big_map"))," or ",l.createElement(a.Z,{to:"/docs/reference/types#iterable_big_map<K,%20V>"},l.createElement("code",null,"iterable_big_map")),")")},{type:"K",alias:"k",desc:l.createElement("div",null,"Key to add/remove")},{type:"option<T>",alias:"v",desc:l.createElement("div",null,"Optional value to associate to ",l.createElement("code",null,"k"))}],returns:{type:"map<K, V>",desc:l.createElement("div",null,"Copy of map ",l.createElement("code",null,"m")," where ",l.createElement("code",null,"k")," is associated to ",l.createElement("code",null))},michelson:"UPDATE",michelson_ref_url:J+"#instr-UPDATE",related:[{keyword:"Map",link:"/docs/language-basics/container#map"},{keyword:"put",link:"/docs/language-basics/container#map"},{keyword:"remove",link:"/docs/reference/expressions/builtins#remove(c%20:%20C,%20i%20:%20T)"}]},get:{sig:"get(m : map<K, T>, k : K)",desc:l.createElement("div",null,"Returns an option of the value associated to key ",l.createElement("code",null,"k")," in map ",l.createElement("code",null,"m"),".",l.createElement("p",null),"It is also available for types ",l.createElement(a.Z,{to:"/docs/reference/types#big_map<K,%20V>"},l.createElement("code",null,"big_map"))," and",l.createElement(a.Z,{to:"/docs/reference/types#iterable_big_map<K,%20V>"},l.createElement("code",null,"iterable_big_map")),"."),parameters:[{type:"map<K, V>",alias:"m",desc:l.createElement("div",null,"Map to get")},{type:"K",withLink:!1,alias:"k",desc:l.createElement("div",null,"Key to get")}],returns:{type:"option<T>",desc:l.createElement("div",null,l.createElement("ul",null,l.createElement("li",null,l.createElement("code",null,"none")," when ",l.createElement("code",null,"k")," is not in the map ",l.createElement("code",null,"m")),l.createElement("li",null,l.createElement("code",null,"some(v)"),", when ",l.createElement("code",null,"k")," is in the map ",l.createElement("code",null,"m")," associated with value ",l.createElement("code",null,"v"))))},michelson:"GET",michelson_ref_url:J+"#instr-GET",related:[{keyword:"Map",link:"/docs/language-basics/container#map"}]},remove:{sig:"remove(c : C, i : T)",desc:l.createElement("div",null,"Returns a copy of ",l.createElement("code",null,"c")," without item ",l.createElement("code",null,"i"),"."),parameters:[{type:"C",withLink:!1,alias:"c",desc:l.createElement("div",null,"Container to remove element from; ",l.createElement("code",null,"C")," is either:",l.createElement("ul",null,l.createElement("li",null,l.createElement(a.Z,{to:"/docs/reference/types#set<T>"},l.createElement("code",null,"set"))),l.createElement("li",null,l.createElement(a.Z,{to:"/docs/reference/types#map<K,%20V>"},l.createElement("code",null,"map"))),l.createElement("li",null,l.createElement(a.Z,{to:"/docs/reference/types#big_map<K,%20V>"},l.createElement("code",null,"big_map"))),l.createElement("li",null,l.createElement(a.Z,{to:"/docs/reference/types#iterable_big_map<K,%20V>"},l.createElement("code",null,"iterable_big_map")))))},{type:"T",withLink:!1,alias:"i",desc:l.createElement("div",null,"Item to remove (key value for map containers).")}],returns:{type:"C",desc:l.createElement("div",null,"Container that contains all elements from ",l.createElement("code",null,"c")," except ",l.createElement("code",null,"i"))},michelson:"UPDATE",michelson_ref_url:J+"#instr-UPDATE",related:[{keyword:"Containers",link:"/docs/language-basics/container"}]},contains:{sig:"contains(c : C, e : T)",desc:l.createElement("div",null,"Tests whether element ",l.createElement("code",null,"e")," is contained in ",l.createElement("code",null,"c")," or not."),parameters:[{type:"C",alias:"o",desc:l.createElement("div",null,"C must be either:",l.createElement("ul",null,l.createElement("li",null,l.createElement(a.Z,{to:"/docs/reference/types#set<T>"},l.createElement("code",null,"set"))),l.createElement("li",null,l.createElement(a.Z,{to:"/docs/reference/types#list<T>"},l.createElement("code",null,"list"))),l.createElement("li",null,l.createElement(a.Z,{to:"/docs/reference/types#map<K,%20V>"},l.createElement("code",null,"map"))),l.createElement("li",null,l.createElement(a.Z,{to:"/docs/reference/types#big_map<K,%20V>"},l.createElement("code",null,"big_map"))),l.createElement("li",null,l.createElement(a.Z,{to:"/docs/reference/types#iterable_big_map<K,%20V>"},l.createElement("code",null,"iterable_big_map")))))},{type:"T",alias:"e",desc:l.createElement("div",null,"Element to test")}],returns:{type:"bool",desc:l.createElement("div",null,l.createElement("ul",null,l.createElement("li",null,l.createElement("code",null,"true")," when ",l.createElement("code",null,"e")," is contained in ",l.createElement("code",null,"c")),l.createElement("li",null,l.createElement("code",null,"false")," when ",l.createElement("code",null,"e")," is ",l.createElement("i",null,"not")," contained in ",l.createElement("code",null,"c"))))},michelson:"MEM",michelson_ref_url:J+"#instr-MEM",related:[{keyword:"Containers",link:"/docs/language-basics/container"}]},min:{sig:"min(a : T, b : T)",desc:l.createElement("div",null,"Returns minimum value between ",l.createElement("code",null,"a")," and ",l.createElement("code",null,"b")),parameters:[{type:"T",alias:"a",desc:l.createElement("div",null,"First element to compare")},{type:"T",alias:"b",desc:l.createElement("div",null,"Second element to compare")}],returns:{type:"T",desc:l.createElement("div",null,"Minimum value. ",l.createElement("code",null,"T")," must be a ",l.createElement(a.Z,{to:"/docs/language-basics/types#comparable"},"comparable")," type.")},related:[{keyword:"Basic types",link:"/docs/language-basics/types"}]},max:{sig:"max(a : T, b : T)",desc:l.createElement("div",null,"Returns maximum value between ",l.createElement("code",null,"a")," and ",l.createElement("code",null,"b")),parameters:[{type:"T",alias:"a",desc:l.createElement("div",null,"First element to compare")},{type:"T",alias:"b",desc:l.createElement("div",null,"Second element to compare")}],returns:{type:"T",desc:l.createElement("div",null,"Maximum value. ",l.createElement("code",null,"T")," must be a ",l.createElement(a.Z,{to:"/docs/language-basics/types#comparable"},"comparable")," type.")},related:[{keyword:"Basic types",link:"/docs/language-basics/types"}]},abs:{sig:"abs(t : T)",desc:l.createElement(d,null),parameters:[{type:"T",alias:"t",desc:l.createElement("div",null,"Value of type ",l.createElement("code",null,"int")," or ",l.createElement("code",null,"rational"))}],returns:{type:"R",withLink:!1,desc:l.createElement("div",null,"Absolute value of ",l.createElement("code",null,"t"))},michelson:"ABS",michelson_ref_url:J+"#instr-ABS",related:[{keyword:"int_to_nat",link:"/docs/reference/expressions/builtins#int_to_nat(i%20:%20int)"}]},concat:{sig:"concat",desc:l.createElement(y.ZP,null),returns:{type:"T",withLink:!1,desc:l.createElement("div",null,"Concantenation of 2 values or list of values of type",l.createElement("ul",null,l.createElement("li",null,l.createElement(a.Z,{to:"/docs/reference/types#string"},l.createElement("code",null,"string"))),l.createElement("li",null,l.createElement(a.Z,{to:"/docs/reference/types#bytes"},l.createElement("code",null,"bytes"))),l.createElement("li",null,l.createElement(a.Z,{to:"/docs/reference/types#list<T>"},l.createElement("code",null,"list<T>")))))},michelson:"CONCAT",michelson_ref_url:J+"#instr-CONCAT",related:[{keyword:"string",link:"/docs/reference/types#string"},{keyword:"bytes",link:"/docs/reference/types#bytes"},{keyword:"+",link:"/docs/reference/expressions/operators/arithmetic#a--b"}]},slice:{sig:"slice(s : T, o : nat, l : nat)",desc:l.createElement(Y,null),parameters:[{type:"T",alias:"s",desc:l.createElement("div",null,"Sequence to slice, T must be either:",l.createElement("ul",null,l.createElement("li",null,l.createElement(a.Z,{to:"/docs/reference/types#string"},l.createElement("code",null,"string"))),l.createElement("li",null,l.createElement(a.Z,{to:"/docs/reference/types#bytes"},l.createElement("code",null,"bytes")))))},{type:"nat",alias:"o",desc:l.createElement("div",null,"Offset to start sub sequence")},{type:"nat",alias:"l",desc:l.createElement("div",null,"Length of sub sequence")}],returns:{type:"option<T>",desc:l.createElement("div",null,l.createElement("ul",null,l.createElement("li",null,l.createElement("code",null,"none")," if a problem occured (offset + length out of bounds)"),l.createElement("li",null,l.createElement("code",null,"some(v)"),", ",l.createElement("code",null,"v")," being the value of sub sequence")))},michelson:"SLICE",michelson_ref_url:J+"#instr-SLICE",related:[{keyword:"string",link:"/docs/reference/types#string"}]},length:{sig:"length(o : T)",desc:l.createElement("div",null,"Returns the length of a string or bytes value, or the number of elements of a container."),parameters:[{type:"T",alias:"o",desc:l.createElement("div",null,"T must be either:",l.createElement("ul",null,l.createElement("li",null,l.createElement(a.Z,{to:"/docs/reference/types#string"},l.createElement("code",null,"string"))),l.createElement("li",null,l.createElement(a.Z,{to:"/docs/reference/types#bytes"},l.createElement("code",null,"bytes"))),l.createElement("li",null,l.createElement(a.Z,{to:"/docs/reference/types#set<T>"},l.createElement("code",null,"set"))),l.createElement("li",null,l.createElement(a.Z,{to:"/docs/reference/types#list<T>"},l.createElement("code",null,"list"))),l.createElement("li",null,l.createElement(a.Z,{to:"/docs/reference/types#map<K,%20V>"},l.createElement("code",null,"map"))),l.createElement("li",null,l.createElement(a.Z,{to:"/docs/reference/types#iterable_big_map<K,%20V>"},l.createElement("code",null,"iterable_big_map")))))}],returns:{type:"nat",desc:l.createElement("div",null,"Length or size of argument ",l.createElement("code",null,"o"))},michelson:"SIZE",michelson_ref_url:J+"#instr-SIZE",related:[{keyword:"string",link:"/docs/reference/types#string"},{keyword:"bytes",link:"/docs/reference/types#bytes"},{keyword:"Containers",link:"/docs/language-basics/container"}]},is_none:{sig:"is_none(o : option<T>)",desc:l.createElement(N,null),parameters:[{type:"option<T>",alias:"o",desc:l.createElement("div",null,"Optional value to test if it is none")}],returns:{type:"bool",desc:l.createElement("div",null,l.createElement("ul",null,l.createElement("li",null,l.createElement("code",null,"true")," when ",l.createElement("code",null,"o")," is none"),l.createElement("li",null,l.createElement("code",null,"false")," when ",l.createElement("code",null,"o")," is some ")))},related:[{keyword:"Option",link:"/docs/language-basics/composite#option"}]},is_some:{sig:"is_some(o : option<T>)",desc:l.createElement(A,null),parameters:[{type:"option<T>",alias:"o",desc:l.createElement("div",null,"Optional value to test if it is some")}],returns:{type:"bool",desc:l.createElement("div",null,l.createElement("ul",null,l.createElement("li",null,l.createElement("code",null,"true")," when ",l.createElement("code",null,"o")," is some"),l.createElement("li",null,l.createElement("code",null,"false")," when ",l.createElement("code",null,"o")," is none ")))},related:[{keyword:"Option",link:"/docs/language-basics/composite#option"}]},int_to_nat:{sig:"int_to_nat(i : int)",desc:l.createElement("div",null,"Converts an ",l.createElement(a.Z,{to:"/docs/reference/types#int"},l.createElement("code",null,"int"))," value to an ",l.createElement(a.Z,{to:"/docs/reference/types#option<T>"},l.createElement("code",null,"option")),"` of ",l.createElement(a.Z,{to:"/docs/reference/types#nat"},l.createElement("code",null,"nat"))," value."),parameters:[{type:"int",alias:"i",desc:l.createElement("div",null,"Integer to convert")}],returns:{type:"option<nat>",withLink:!1,desc:l.createElement("div",null,"Optional natural value:",l.createElement("ul",null,l.createElement("li",null,l.createElement("code",null,"some(n)")," when ",l.createElement("code",null,"i")," is positive"),l.createElement("li",null,l.createElement("code",null,"none")," otherwise")))},michelson:"ISNAT",michelson_ref_url:J+"#instr-ISNAT",related:[{keyword:"nat",link:"/docs/reference/types#nat"},{keyword:"int",link:"/docs/reference/types#int"},{keyword:"option",link:"/docs/reference/types#option<T>"},{keyword:"abs",link:"/docs/reference/expressions/builtins#abs(t%20:%20T)"}]},get_some:{sig:"get_some(o : option<T>)",desc:l.createElement(B,null),parameters:[{type:"option<T>",alias:"o",desc:"Optional value to extract some value from."}],returns:{type:"T",withLink:!1,desc:l.createElement("div",null,"Returns ",l.createElement("code",null,"v")," of type ",l.createElement("code",null,"T")," when ",l.createElement("code",null,"o")," is ",l.createElement("code",null,"some(v)"))},fails:[{keyword:'"NotFound"',desc:l.createElement("div",null,"when ",l.createElement("code",null,"o")," is ",l.createElement("code",null,"none"))}],related:[{keyword:"Option",link:"/docs/language-basics/composite"},{keyword:"is_some",link:"#is_some"}]},floor:{sig:"floor(r : rational)",desc:l.createElement("div",null,"Converts a ",l.createElement(a.Z,{to:"/docs/reference/types#rational"},l.createElement("code",null,"rational"))," to an ",l.createElement(a.Z,{to:"/docs/reference/types#int"},l.createElement("code",null,"int"))," with ",l.createElement("a",{href:"https://en.wikipedia.org/wiki/Floor_and_ceiling_functions",target:"_blank"},"floor")," policy"),parameters:[{type:"rational",alias:"r",desc:l.createElement("div",null)}],returns:{type:"int",desc:l.createElement("div",null,"Floored integer")},related:[{keyword:"ceil",link:"/docs/reference/expressions/builtins#ceil(r%20:%20rational)"}]},ceil:{sig:"ceil(r : rational)",desc:l.createElement("div",null,"Converts a ",l.createElement(a.Z,{to:"/docs/reference/types#rational"},l.createElement("code",null,"rational"))," to an ",l.createElement(a.Z,{to:"/docs/reference/types#int"},l.createElement("code",null,"int"))," with ",l.createElement("a",{href:"https://en.wikipedia.org/wiki/Floor_and_ceiling_functions",target:"_blank"},"ceiling")," policy"),parameters:[{type:"rational",alias:"r",desc:l.createElement("div",null)}],returns:{type:"int",desc:l.createElement("div",null,"Ceiled integer")},related:[{keyword:"floor",link:"/docs/reference/expressions/builtins#floor(r%20:%20rational)"}]},nat_to_string:{sig:"nat_to_string(n : nat)",desc:l.createElement("div",null,"Converts a natural to a string."),parameters:[{type:"nat",alias:"n",desc:l.createElement("div",null,"Nat to convert")}],returns:{type:"string",desc:l.createElement("div",null,"String converted to nat")},related:[{keyword:"Conversion",link:"/docs/language-basics/types#conversion"},{keyword:"nat",link:"/docs/reference/types#nat"},{keyword:"string",link:"/docs/reference/types#string"}]},pack:{sig:"pack(o : T)",desc:l.createElement("div",null,"Serializes any value of ",l.createElement(a.Z,{to:"/docs/language-basics/types#packable"},"packable")," type to a ",l.createElement(a.Z,{to:"/docs/reference/types#bytes"},l.createElement("code",null,"bytes"))," representation."),parameters:[{type:"T",alias:"o",desc:l.createElement("div",null,"Value of ",l.createElement(a.Z,{to:"/docs/language-basics/types#packable"},"packable")," type ",l.createElement("code",null,"T"))}],returns:{type:"bytes",desc:l.createElement("div",null,"Packed value")},michelson:"PACK",michelson_ref_url:J+"#instr-PACK",related:[{keyword:"bytes",link:"/docs/reference/types#bytes"},{keyword:"unpack",link:"/docs/reference/expressions/builtins#unpack<T>(b%20:%20bytes)"}]},unpack:{sig:"unpack<T>(b : bytes)",desc:l.createElement(U,null),parameters:[{type:"bytes",alias:"b",desc:l.createElement("div",null,"Bytes to unpack")}],returns:{type:"option<T>",desc:l.createElement("div",null,l.createElement("ul",null,l.createElement("li",null,l.createElement("code",null,"none")," when ",l.createElement("code",null,"b")," is unpackable of type ",l.createElement("code",null,"T")),l.createElement("li",null,l.createElement("code",null,"some(v)")," ",l.createElement("code",null,"v")," being the value returned by unpacking process ")))},michelson:"UNPACK",michelson_ref_url:J+"#instr-UNPACK",related:[{keyword:"bytes",link:"/docs/reference/types#bytes"},{keyword:"pack",link:"/docs/reference/expressions/builtins#pack(o%20:%20T)"}]},set_delegate:{sig:"set_delegate(opkh : option<key_hash>)",desc:l.createElement("div",null,"[NEW] Sets delegate account for current contract."),parameters:[{type:"option<key_hash>",alias:"opkh",desc:l.createElement("div",null,l.createElement("ul",null,l.createElement("li",null,l.createElement("code",null,"none")," remove delegation of current contract"),l.createElement("li",null,l.createElement("code",null,"some(pkh)")," update delegation of current contract with address behind ",l.createElement("code",null,"pkh")," ")))}],returns:{type:"operation",desc:l.createElement("div",null,"Operation of type ")},michelson:"SET_DELEGATE",michelson_ref_url:J+"#instr-SET_DELEGATE",related:[{keyword:"Protocol",link:"/docs/language-basics/protocol"}]},key_hash_to_contract_unit:{sig:"key_hash_to_contract_unit(pkh : key_hash)",desc:l.createElement("div",null,"Converts key_hash to contract."),parameters:[{type:"key_hash",alias:"pkh",desc:l.createElement("div",null,"key hash to convert")}],returns:{type:"contract<unit>",withLink:!1,desc:l.createElement("div",null,"The extracted contract unit")},michelson:"IMPLICIT_ACCOUNT",michelson_ref_url:J+"#instr-IMPLICIT_ACCOUNT",related:[{keyword:"Cryptography",link:"/docs/language-basics/crypto"}]},contract_to_address:{sig:"contract_to_address(c : contract<T>)",desc:l.createElement("div",null,"Returns the address of a contract."),parameters:[{type:"contract",alias:"c",desc:l.createElement("div",null,"Contract to get the address of")}],returns:{type:"address",desc:l.createElement("div",null,"Address of ",l.createElement("code",null,"c"))},related:[{keyword:"Cryptography",link:"/docs/language-basics/crypto"}]},address_to_contract:{sig:"address_to_contract(a : address)",desc:l.createElement("div",null,"Converts an address ",l.createElement("code",null,"a")," that is either:",l.createElement("ul",null,l.createElement("li",null,"a ",l.createElement("code",null,"tz ...")," address (account)"),l.createElement("li",null,"a ",l.createElement("code",null,"KT1 ...")," contract address without a unique entrypoint typed ",l.createElement("code",null,"unit"))),"to a ",l.createElement("code",null,"contract<unit>")," value."),parameters:[{type:"address",alias:"a",desc:l.createElement("div",null,"Address to convert")}],returns:{type:"contract<unit>",desc:l.createElement("div",null,"Contract with address ",l.createElement("code",null,"a"))},fails:[{keyword:"*",desc:l.createElement("div",null,"if the address behind is not a ",l.createElement("code",null,"tz")," or a contract with a unique entrypoint of type ",l.createElement("code",null,"unit"))}],related:[{keyword:"Cryptography",link:"/docs/language-basics/crypto"}]},key_to_address:{sig:"key_to_address(k : key)",desc:l.createElement("div",null,"Converts a key to an address"),parameters:[{type:"key",alias:"k",desc:l.createElement("div",null,"Key to convert")}],returns:{type:"address",desc:l.createElement("div",null,"Key converted to address")},related:[{keyword:"Cryptography",link:"/docs/language-basics/crypto"}]},blake2b:{sig:"blake2b(b : bytes)",desc:l.createElement("div",null,"Hashes bytes value with ",l.createElement("a",{href:"https://en.wikipedia.org/wiki/BLAKE_%28hash_function%29",target:"_blank"},"blake2b")," algorithm."),parameters:[{type:"bytes",alias:"b",desc:l.createElement("div",null,"Array of byte to hash")}],returns:{type:"bytes",desc:l.createElement("div",null,"Hash of bytes ",l.createElement("code",null,"b"))},michelson:"BLAKE2B",michelson_ref_url:J+"#instr-BLAKE2B",related:[{keyword:"Cryptography",link:"/docs/language-basics/crypto"}]},sha256:{sig:"sha256(b : bytes)",desc:l.createElement("div",null,"Hashes bytes value with sha256 algorithm."),parameters:[{type:"bytes",alias:"b",desc:l.createElement("div",null,"Message to be hashed")}],returns:{type:"bytes",desc:l.createElement("div",null,"Hash of b bytes")},michelson:"SHA256",michelson_ref_url:J+"#instr-SHA256",related:[{keyword:"Cryptography",link:"/docs/language-basics/crypto"}]},sha512:{sig:"sha512(b : bytes)",desc:l.createElement("div",null,"Hashes bytes value with sha512 algorithm."),parameters:[{type:"bytes",alias:"b",desc:l.createElement("div",null,"Message to be hashed")}],returns:{type:"bytes",desc:l.createElement("div",null,"Hash of b bytes")},michelson:"SHA512",michelson_ref_url:J+"#instr-SHA512",related:[{keyword:"Cryptography",link:"/docs/language-basics/crypto"}]},sha3:{sig:"sha3(b : bytes)",desc:l.createElement("div",null,"Hashes bytes value with ",l.createElement("a",{href:"https://en.wikipedia.org/wiki/SHA-3",target:"_blank"},"sha3")," algorithm."),parameters:[{type:"bytes",alias:"b",desc:l.createElement("div",null,"Message to be hashed")}],returns:{type:"bytes",desc:l.createElement("div",null,"Hash of b bytes")},michelson:"SHA3",michelson_ref_url:J+"#instr-SHA3",related:[{keyword:"Cryptography",link:"/docs/language-basics/crypto"}]},keccak:{sig:"keccak(b : bytes)",desc:l.createElement("div",null,"Hashes bytes value with ",l.createElement("a",{href:"https://en.wikipedia.org/wiki/SHA-3",target:"_blank"},"keccak")," algorithm."),parameters:[{type:"bytes",alias:"b",desc:l.createElement("div",null,"Array of byte to hash")}],returns:{type:"bytes",desc:l.createElement("div",null,"Hash of ",l.createElement("code",null,"b"))},michelson:"KECCAK",michelson_ref_url:J+"#instr-KECCAK",related:[{keyword:"Cryptography",link:"/docs/language-basics/crypto"}]},key_to_hash_key:{sig:"key_to_hash_key(k : key)",desc:l.createElement("div",null,"Converts a key to key_hash."),parameters:[{type:"key",alias:"k",desc:l.createElement("div",null,"key to hash")}],returns:{type:"key_hash",desc:l.createElement("div",null,"hashed value of ",l.createElement("code",null,"k"))},michelson:"HASH_KEY",michelson_ref_url:J+"#instr-HASH_KEY",related:[{keyword:"Cryptography",link:"/docs/language-basics/crypto"}]},check_signature:{sig:"check_signature(k : key, s : signature, b : bytes)",desc:l.createElement("div",null,"Checks whether signature ",l.createElement("code",null,"s")," is obtained by signing sequence of bytes ",l.createElement("code",null,"b")," with account public key ",l.createElement("code",null,"k"),"."),parameters:[{type:"key",alias:"k",desc:l.createElement("div",null,"Public key of the account to sign ",l.createElement("code",null,"b"),".")},{type:"signature",alias:"s",desc:l.createElement("div",null,"Signature to be compared with the one obtained by signing ",l.createElement("code",null,"b")," with ",l.createElement("code",null,"k"),".")},{type:"bytes",alias:"b",desc:l.createElement("div",null,"Sequence of bytes to sign with ",l.createElement("code",null,"k")," and to compare to ",l.createElement("code",null,"s"),".")}],returns:{type:"bool",desc:l.createElement("div",null,"Returns ",l.createElement("code",null,"true")," if ",l.createElement("code",null,"s")," is obtained by signing ",l.createElement("code",null,"b")," with ",l.createElement("code",null,"k"),", ",l.createElement("code",null,"false")," otherwise.")},michelson:"CHECK_SIGNATURE",michelson_ref_url:J+"#instr-CHECK_SIGNATURE",related:[{keyword:"Cryptography",link:"/docs/language-basics/crypto"}]},voting_power:{sig:"voting_power(k : key_hash)",desc:l.createElement("div",null,"Gets the voting power from a ",l.createElement("code",null,"key_hash")," value."),parameters:[{type:"key_hash",alias:"k",desc:l.createElement("div",null,"Value to get the voting power of")}],returns:{type:"nat",desc:l.createElement("div",null,"Voting power")},michelson:"VOTING_POWER",michelson_ref_url:J+"#instr-VOTING_POWER",related:[{keyword:"Protocol",link:"/docs/language-basics/protocol"}]},create_ticket:{sig:"create_ticket(s : T, n : nat)",desc:l.createElement("div",null,"Creates a ticket from a value typed T and an amount."),parameters:[{type:"T",alias:"s",desc:l.createElement("div",null,"The information of the ticket")},{type:"nat",alias:"n",desc:l.createElement("div",null,"The amount of the ticket")}],returns:{type:"ticket<T>",desc:l.createElement("div",null,"Created ticket")},michelson:"TICKET",michelson_ref_url:J+"#instr-TICKET",related:[{keyword:"Tickets",link:"/docs/language-basics/ticket"}]},read_ticket:{sig:"read_ticket(t : ticket<T>)",desc:l.createElement("div",null,"Reads ticket's origin contract, value and amount."),parameters:[{type:"ticket<T>",alias:"t",desc:l.createElement("div",null,"Ticket to read")}],returns:{type:"address * T * nat",withLink:!1,desc:l.createElement("div",null,"Tuple of ticket's address of origin contract, value and the amount")},michelson:"READ_TICKET",michelson_ref_url:J+"#instr-READ_TICKET",related:[{keyword:"Tickets",link:"/docs/language-basics/ticket"}]},split_ticket:{sig:"split_ticket(t : ticket<T>, n1 : nat, n2 : nat)",desc:l.createElement("div",null,"Splits ticket in two new tickets."),parameters:[{type:"ticket<T>",alias:"t",desc:l.createElement("div",null,"Ticket to split")},{type:"nat",alias:"n1",desc:l.createElement("div",null,"Amount of first created ticket")},{type:"nat",alias:"n2",desc:l.createElement("div",null,"Amount of second created ticket")}],returns:{type:"option<ticket<T> * ticket<T>>",withLink:!1,desc:l.createElement("div",null,"Option of pair of created tickets, respectively with ",l.createElement("code",null,"n1")," and ",l.createElement("code",null,"n2")," values.")},michelson:"SPLIT_TICKET",michelson_ref_url:J+"#instr-SPLIT_TICKET",related:[{keyword:"Tickets",link:"/docs/language-basics/ticket"}]},join_tickets:{sig:"join_tickets(t1 : ticket<T>, t2 : ticket<T>)",desc:l.createElement("div",null,"Joins two compatible tickets (same value, same origin contract)."),parameters:[{type:"ticket<T>",alias:"t1",desc:l.createElement("div",null,"First ticket to join")},{type:"ticket<T>",alias:"t2",desc:l.createElement("div",null,"Second ticket to join")}],returns:{type:"option<ticket<T>>",withLink:!1,desc:l.createElement("div",null,"Joined ticket")},michelson:"JOIN_TICKETS",michelson_ref_url:J+"#instr-JOIN_TICKETS",related:[{keyword:"Tickets",link:"/docs/language-basics/ticket"}]},sapling_empty_state:{sig:"sapling_empty_state(k : key_hash)",desc:l.createElement("div",null,"Creates a sapling state with the specified memo size. The memo is an arbitrary string message encrypted and available to anyone owning the outgoing viewing key."),parameters:[{type:"nat",alias:"n",desc:l.createElement("div",null,"Memo size")}],returns:{type:"sapling_state(n)",desc:l.createElement("div",null,"The fresh sapling state")},michelson:"SAPLING_EMPTY_STATE",michelson_ref_url:J+"#instr-SAPLING_EMPTY_STATE",related:[{keyword:"Cryptography",link:"/docs/language-basics/crypto"}]},sapling_verify_update:{sig:"sapling_verify_update(s, t)",desc:l.createElement("div",null,"Applies sapling transaction on sapling state."),parameters:[{type:"sapling_state(n)",alias:"s",desc:l.createElement("div",null,"Sapling state")},{type:"sapling_transaction(n)",alias:"t",desc:l.createElement("div",null,"Sapling transaction")}],returns:{type:"option<int * sapling_state(n)>",withLink:!1,desc:l.createElement("div",null,"The result")},michelson:"SAPLING_VERIFY_UPDATE",michelson_ref_url:J+"#instr-SAPLING_VERIFY_UPDATE",related:[{keyword:"Cryptography",link:"/docs/language-basics/crypto"}]},pairing_check:{sig:"pairing_check(l : list<bls12_381_g1 * bls12_381_g2>)",desc:l.createElement("div",null,"Checks pairing of pairs of ",l.createElement("a",{href:"https://en.wikipedia.org/wiki/BLS_digital_signature",target:"_blank"},"BLS")," values."),parameters:[{type:"list<bls12_381_g1 * bls12_381_g2>",withLink:!1,alias:"l",desc:l.createElement("div",null,"List of pairs of bls curves")}],returns:{type:"bool",desc:l.createElement("div",null,"The result")},michelson:"PAIRING_CHECK",michelson_ref_url:J+"#instr-PAIRING_CHECK",related:[{keyword:"Cryptography",link:"/docs/language-basics/crypto"}]},open_chest:{sig:"open_chest(k : chest_key, c : chest, t : nat)",desc:l.createElement("div",null,"Opens chest ",l.createElement("code",null,"c")," with key ",l.createElement("code",null,"k")," under time ",l.createElement("code",null,"t"),"."),parameters:[{type:"chest_key",alias:"k",desc:l.createElement("div",null,"Chest key")},{type:"chest",alias:"c",desc:l.createElement("div",null,"Chest")},{type:"nat",alias:"t",desc:l.createElement("div",null,'"Time" (number of operations) used to lock the chest')}],returns:{type:"or<bytes, bool>",withLink:!1,desc:l.createElement("div",null,"The returned value has 3 possible values:",l.createElement("ul",null,l.createElement("li",null,l.createElement("code",null,"left(v)"),", ",l.createElement("code",null,"v")," being the value in the chest"),l.createElement("li",null,l.createElement("code",null,"right(true)")," when chest key ",l.createElement("code",null,"k")," does not open the chest"),l.createElement("li",null,l.createElement("code",null,"right(false)")," when chest key ",l.createElement("code",null,"k")," opens the chest but ",l.createElement("code",null,"t")," parameter is not the value used to lock the chest")))},michelson:"OPEN_CHEST",michelson_ref_url:J+"#instr-OPEN_CHEST",related:[{keyword:"Cryptography",link:"/docs/language-basics/crypto"}]},int_to_date:{sig:"int_to_date(i : int)",desc:l.createElement("div",null,"Converts an integer value ",l.createElement("code",null,"i")," to a date, where ",l.createElement("code",null,"i")," is considered as a tiemstamp value, that is the number of seconds since ",l.createElement("code",null,"1970-01-01"),"."),parameters:[{type:"int",alias:"i",desc:l.createElement("div",null,"The timestamp to convert")}],returns:{type:"date",desc:l.createElement("div",null,"Date corresponding to timestamp ",l.createElement("code",null,"i"))},related:[{keyword:"Conversion",link:"/docs/language-basics/types#conversion"},{keyword:"int",link:"/docs/reference/types#int"},{keyword:"date",link:"/docs/reference/types#date"}]},mutez_to_nat:{sig:"mutez_to_nat(v : tez)",desc:l.createElement(I,null),parameters:[{type:"tez",alias:"v",desc:l.createElement("div",null,"The amount of tez to convert")}],returns:{type:"nat",desc:l.createElement("div",null,"The amount of mutez")},related:[{keyword:"tez",link:"/docs/reference/types#tez"},{keyword:"nat",link:"/docs/reference/types#nat"}]},get_entrypoint:{sig:"get_entrypoint<T>(s, a : address)",desc:l.createElement(w,null),parameters:[{type:"string literal",withLink:!1,alias:"s",desc:l.createElement("div",null,"Entrypoint name as string literal prefixed by ",l.createElement("code",null,"%"))},{type:"address",alias:"a",desc:l.createElement("div",null,"Address of the entrypoint's contract")}],returns:{type:"option<contract<T>>",withLink:!1,desc:l.createElement("div",null,"Option of entrypoint as a ",l.createElement("code",null,"contract")," value")},related:[{keyword:"transfer",link:"/docs/reference/instructions/operation#transfer"},{keyword:"make_operation",link:"/docs/reference/expressions/builtins#make_operation(a%20:%20tez,%20c%20:%20contract<T>,%20arg%20:%20T)"}],michelson:"CONTRACT",michelson_ref_url:J+"#instr-CONTRACT"},greedy_and:{sig:"greedy_and(a : bool, b : bool)",desc:l.createElement("div",null,"Greedy evaluation of boolean conjonction of ",l.createElement("code",null,"a")," and ",l.createElement("code",null,"b"),", meaning that ",l.createElement("code",null,"b")," is evaluated even if ",l.createElement("code",null,"a")," is false."),parameters:[{type:"bool",alias:"a",desc:l.createElement("div",null,"Boolean input")},{type:"bool",alias:"b",desc:l.createElement("div",null,"Boolean input")}],returns:{type:"bool",desc:l.createElement("div",null,"true if ",l.createElement("code",null,"a")," ",l.createElement("i",null,"and")," ",l.createElement("code",null,"b")," are true, false otherwise.")},related:[{keyword:"and",link:"/docs/reference/expressions/operators/arithmetic#a-and-b"},{keyword:"greedy_or",link:"/docs/reference/expressions/builtins#greedy_or(a%20:%20bool,%20b%20:%20bool)"}],michelson:"AND",michelson_ref_url:J+"#instr-AND"},greedy_or:{sig:"greedy_or(a : bool, b : bool)",desc:l.createElement("div",null,"Greedy evaluation of boolean disjonction of ",l.createElement("code",null,"a")," and ",l.createElement("code",null,"b"),", meaning that ",l.createElement("code",null,"b")," is evaluated even if ",l.createElement("code",null,"a")," is true."),parameters:[{type:"bool",alias:"a",desc:l.createElement("div",null,"Boolean input")},{type:"bool",alias:"b",desc:l.createElement("div",null,"Boolean input")}],returns:{type:"bool",desc:l.createElement("div",null,"true if ",l.createElement("code",null,"a")," ",l.createElement("i",null,"or")," ",l.createElement("code",null,"b")," is true, false otherwise.")},related:[{keyword:"or",link:"/docs/reference/expressions/operators/arithmetic#a-or-b"},{keyword:"greedy_and",link:"/docs/reference/expressions/builtins#greedy_and(a%20:%20bool,%20b%20:%20bool)"}],michelson:"OR",michelson_ref_url:J+"#instr-OR"}}},6912:function(e,t,n){n.d(t,{_:function(){return b}});var a=n(7294),l=n(7462),r=n(3366),i=n(3905),s=["components"],o={toc:[]};function c(e){var t=e.components,n=(0,r.Z)(e,s);return(0,i.kt)("wrapper",(0,l.Z)({},o,n,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("p",null,"Number of tez held by the contract."),(0,i.kt)("p",null,"It is indeed possible to send tez to a contract, either with a buitlin ",(0,i.kt)("em",{parentName:"p"},"tansfer")," command (tezos-client, wallets, ...) or when calling an entrypoint."),(0,i.kt)("div",{className:"admonition admonition-danger alert alert--danger"},(0,i.kt)("div",{parentName:"div",className:"admonition-heading"},(0,i.kt)("h5",{parentName:"div"},(0,i.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,i.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,i.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M5.05.31c.81 2.17.41 3.38-.52 4.31C3.55 5.67 1.98 6.45.9 7.98c-1.45 2.05-1.7 6.53 3.53 7.7-2.2-1.16-2.67-4.52-.3-6.61-.61 2.03.53 3.33 1.94 2.86 1.39-.47 2.3.53 2.27 1.67-.02.78-.31 1.44-1.13 1.81 3.42-.59 4.78-3.42 4.78-5.56 0-2.84-2.53-3.22-1.25-5.61-1.52.13-2.03 1.13-1.89 2.75.09 1.08-1.02 1.8-1.86 1.33-.67-.41-.66-1.19-.06-1.78C8.18 5.31 8.68 2.45 5.05.32L5.03.3l.02.01z"}))),"danger")),(0,i.kt)("div",{parentName:"div",className:"admonition-content"},(0,i.kt)("p",{parentName:"div"},"Note however that it is ",(0,i.kt)("strong",{parentName:"p"},"not")," possible to transfer the balance of a contract unless it is ",(0,i.kt)("strong",{parentName:"p"},"explicitely")," made possible by entrypoints."))),(0,i.kt)("p",null,"If a contract is receiving tez, it is recommended to add the following ",(0,i.kt)("inlineCode",{parentName:"p"},"collect")," entrypoint:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-archetype"},"entry collect(collector : address) {\n  called by owner\n  effect {\n    transfer balance to collector\n  }\n}\n")))}c.isMDXComponent=!0;var d=n(6886),p=n(2156),m=["components"],u={toc:[]};function y(e){var t=e.components,n=(0,r.Z)(e,m);return(0,i.kt)("wrapper",(0,l.Z)({},u,n,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("p",null,"Chain unique identifier."),(0,i.kt)("p",null,"It is typically used in ",(0,i.kt)("em",{parentName:"p"},"signed")," permits data to be ",(0,i.kt)("em",{parentName:"p"},"verified")," on chain, in order to avoid replay attacks from testnet to mainnet (so that a permit from testnet cannot be used on mainnet)."),(0,i.kt)("p",null,"The table below shows the chain id of the main networks:"),(0,i.kt)(d.ZP,{container:!0,mdxType:"Grid"},(0,i.kt)(d.ZP,{xs:12,sm:12,md:2.5,mdxType:"Grid"},"Mainnet"),(0,i.kt)(d.ZP,{xs:12,sm:12,md:9.5,mdxType:"Grid"},(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},'"NetXdQprcVkpaWU"'))),(0,i.kt)(d.ZP,{xs:12,mdxType:"Grid"},(0,i.kt)(p.Z,{mdxType:"ThemedDivider"})),(0,i.kt)(d.ZP,{xs:12,sm:12,md:2.5,style:{marginTop:"18px"},mdxType:"Grid"},"Testnet (Ithacanet)"),(0,i.kt)(d.ZP,{xs:12,sm:12,md:9.5,style:{marginTop:"18px"},mdxType:"Grid"},(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},'"NetXnHfVqm9iesp"')))),(0,i.kt)("p",null,"The chain id is provided by the tezos node at:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},"<node url>/chains/main/chain_id\n")))}y.isMDXComponent=!0;var k="https://tezos.gitlab.io/michelson-reference",b={balance:{desc:a.createElement(c,null),type:"tez",michelson:"BALANCE",michelson_ref_url:k+"/#instr-BALANCE",related:[]},chain_id:{desc:a.createElement(y,null),type:"chain_id",michelson:"CHAIN_ID",michelson_ref_url:k+"/#instr-CHAIN_ID",related:[]},caller:{desc:"Address calling the contract. It may be an account or another smart contract.",type:"address",michelson:"SENDER",michelson_ref_base_url:k+"/#SENDER",related:[{keyword:"source",link:"/docs/reference/expressions/constants#source"},{keyword:"called by",link:"/docs/reference/declarations/entrypoint#called-by"}]},level:{desc:"TODO",type:"nat",michelson:"LEVEL",michelson_ref_url:k+"/#instr-LEVEL",related:[]},now:{desc:"TODO",type:"date",michelson:"NOW",michelson_ref_url:k+"/#instr-NOW",related:[]},self_address:{desc:"TODO",type:"address",michelson:"SELF_ADDRESS",michelson_ref_url:k+"/#instr-SELF_ADDRESS",related:[]},source:{desc:"Address of the account at the origin of the call to the entrypoint. If Alice calls contract A, which calls contract B, then source in contract B is Alice (and caller in contract B is contract A).",type:"address",michelson:"SOURCE",michelson_ref_url:k+"/#instr-SOURCE",related:[{keyword:"caller",link:"/docs/reference/expressions/constants#caller"},{keyword:"sourced by",link:"/docs/reference/declarations/entrypoint#sourced-by"}]},state:{desc:a.createElement("div",null,"State of the contract when designed as a state machine. It is changed with ",a.createElement("code",null,"transition")," entrypoints, not assignment instructions.",a.createElement("p",null),"The Michelson representation is a ",a.createElement("code",null,"nat")," storage variable named ",a.createElement("code",null,"_state"),"."),related:[{keyword:"State Machine",link:"/docs/statemachine"},{keyword:"States declaration",link:"/docs/reference/declarations/compositetypes#states"},{keyword:"Transition",link:"/docs/reference/declarations/compositetypes#transition"},{keyword:"Assignment",link:"/docs/reference/instructions/assignment"}]},transferred:{desc:"TODO",type:"tez",michelson:"AMOUNT",michelson_ref_url:k+"/#instr-AMOUNT",related:[]},total_voting_power:{desc:"TODO",type:"nat",michelson:"TOTAL_VOTING_POWER",michelson_ref_url:k+"/#instr-TOTAL_VOTING_POWER",related:[{keyword:"Protocol",link:"/docs/language-basics/protocol"}]}}},8864:function(e,t,n){n.d(t,{m:function(){return l}});var a="/docs/reference/expressions",l={controls:[{label:"if then else",link:a+"/controls#if-then-else"},{label:"match with",link:a+"/controls#match-with"},{label:"? :",link:a+"/controls#a--b--c"}],declaration:[{label:"let in",link:a+"/declaration"}],asset:[{label:"get",link:a+"/asset#agetk--asset_keya",desc:"Gets an option of asset record value from key"},{label:"[]",link:a+"/asset#ak--asset_keya",desc:"Gets asset record value from key"},{label:"[]?.",link:a+"/asset#ak--asset_keyaf",desc:"Gets an option of asset field from key"},{label:"[]?:",link:a+"/asset#ak--asset_keya--e--d",desc:"Evaluates an expression on asset"},{label:"contains",link:a+"/asset#acontainsk--asset_keya",desc:"Tests whether the collection contains an asset"},{label:"count",link:a+"/asset#acount",desc:"Returns the number of assets in collection"},{label:"nth",link:a+"/asset#anthi--nat",desc:"Returns nth element in collection"},{label:"sort",link:a+"/asset#asortf",desc:"Sorts assets according to a field"},{label:"sum",link:a+"/asset#asumf",desc:"Sums values of asset field"},{label:"select",link:a+"/asset#aselectp",desc:"Selects assets that verify a predicate"},{label:"head",link:a+"/asset#aheadi--nat",desc:"Returns first assets"},{label:"tail",link:a+"/asset#ataili--nat",desc:"Returns last assets"}]}},9110:function(e,t,n){n.d(t,{G:function(){return b}});var a=n(7294),l=n(9960),r=n(7462),i=n(3366),s=n(3905),o=["components"],c={toc:[]};function d(e){var t=e.components,n=(0,i.Z)(e,o);return(0,s.kt)("wrapper",(0,r.Z)({},c,n,{components:t,mdxType:"MDXLayout"}),(0,s.kt)("p",null,"Returns the euclidean quotient of two ",(0,s.kt)("inlineCode",{parentName:"p"},"a")," divided by ",(0,s.kt)("inlineCode",{parentName:"p"},"b"),"; ",(0,s.kt)("inlineCode",{parentName:"p"},"a div b")," is equivalent to:"),(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre",className:"language-archetype"},'match a /% b with\n| some(q,r) -> q\n| none -> fail("DivByZero")\nend\n')))}d.isMDXComponent=!0;var p=["components"],m={toc:[]};function u(e){var t=e.components,n=(0,i.Z)(e,p);return(0,s.kt)("wrapper",(0,r.Z)({},m,n,{components:t,mdxType:"MDXLayout"}),(0,s.kt)("p",null,"Returns the euclidean remainder of ",(0,s.kt)("inlineCode",{parentName:"p"},"a")," divided by ",(0,s.kt)("inlineCode",{parentName:"p"},"b")," (modulus); ",(0,s.kt)("inlineCode",{parentName:"p"},"a % b")," is equivalent to:"),(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre",className:"language-archetype"},'match a /% b with\n| some(q,r) -> r\n| none -> fail("DivByZero")\nend\n')))}u.isMDXComponent=!0;var y=function(e){return[{typa:"bool",typb:"bool",typr:e},{typa:"nat",typb:"nat",typr:e},{typa:"int",typb:"int",typr:e},{typa:"tez",typb:"tez",typr:e},{typa:"rational",typb:"rational",typr:e},{typa:"date",typb:"date",typr:e},{typa:"duration",typb:"duration",typr:e},{typa:"enum",typb:"enum",typr:e},{typa:"key",typb:"key",typr:e},{typa:"key_hash",typb:"key_hash",typr:e},{typa:"signature",typb:"signature",typr:e},{typa:"option<T>",typb:"option<T>",typr:e,comment:a.createElement("div",null,"when ",a.createElement("code",null,"T")," is comparable.")},{typa:"or<T1,T2>",typb:"or<T1,T2>",typr:e,comment:a.createElement("div",null,"when ",a.createElement("code",null,"T1")," and ",a.createElement("code",null,"T2")," are comparable.")},{typa:"asset_key<A>",typb:"asset_key<A>",typr:e},{typa:"tuple",typb:"tuple",typr:e,comment:a.createElement("div",null,"when all composing types are comparable")},{typa:"string",typb:"string",typr:e},{typa:"bytes",typb:"bytes",typr:e},{typa:"address",typb:"address",typr:e},{typa:"chain_id",typb:"chain_id",typr:e},{typa:"unit",typb:"unit",typr:e},{typa:"never",typb:"never",typr:e}]},k=function(e){return[{typa:"int",typb:"nat",typr:e},{typa:"nat",typb:"int",typr:e},{typa:"int",typb:"rational",typr:e},{typa:"rational",typb:"int",typr:e},{typa:"nat",typb:"rational",typr:e},{typa:"rational",typb:"nat",typr:e}]},b={add:{label:"a + b",link:"a--b",desc:a.createElement("div",null,"Adds numbers or concatenates strings."),types:[{typa:"nat",typb:"nat",typr:"nat"},{typa:"int",typb:"int",typr:"int"},{typa:"rational",typb:"rational",typr:"rational"},{typa:"tez",typb:"tez",typr:"tez"},{typa:"string",typb:"string",typr:"string"},{typa:"duration",typb:"duration",typr:"duration"},{typa:"date",typb:"duration",typr:"date"},{typa:"duration",typb:"date",typr:"date"},{typa:"bls12_381_fr",typb:"bls12_381_fr",typr:"bls12_381_fr"},{typa:"bls12_381_g1",typb:"bls12_381_g1",typr:"bls12_381_g1"},{typa:"bls12_381_g2",typb:"bls12_381_g2",typr:"bls12_381_g2"}],promotions:[{typa:"nat",typb:"int",typr:"int"},{typa:"int",typb:"nat",typr:"int"},{typa:"rational",typb:"nat",typr:"rational"},{typa:"nat",typb:"rational",typr:"rational"},{typa:"rational",typb:"int",typr:"rational"},{typa:"nat",typb:"rational",typr:"rational"},{typa:"bls12_381_fr",typb:"nat",typr:"bls12_381_fr"},{typa:"bls12_381_fr",typb:"int",typr:"bls12_381_fr"},{typa:"nat",typb:"bls12_381_fr",typr:"bls12_381_fr"},{typa:"int",typb:"bls12_381_fr",typr:"bls12_381_fr"}],fails:[{keyword:'"proto.alpha.tez.addition_overflow"',desc:a.createElement("div",null,"when ",a.createElement("code",null,"a + b")," value typed ",a.createElement("code",null,"tez")," exceeds ",a.createElement("code",null,"9223372036854775807utz"))}]},sub:{label:"a - b",link:"a---b",desc:"Subtracts numbers.",types:[{typa:"nat",typb:"nat",typr:"int"},{typa:"int",typb:"int",typr:"int"},{typa:"tez",typb:"tez",typr:"tez"},{typa:"rational",typb:"rational",typr:"rational"},{typa:"duration",typb:"duration",typr:"duration"},{typa:"date",typb:"duration",typr:"date"},{typa:"bls12_381_fr",typb:"bls12_381_fr",typr:"bls12_381_fr"},{typa:"bls12_381_g1",typb:"bls12_381_g1",typr:"bls12_381_g1"},{typa:"bls12_381_g2",typb:"bls12_381_g2",typr:"bls12_381_g2"}],promotions:[{typa:"nat",typb:"int",typr:"int"},{typa:"int",typb:"nat",typr:"int"},{typa:"rational",typb:"nat",typr:"rational"},{typa:"nat",typb:"rational",typr:"rational"},{typa:"rational",typb:"int",typr:"rational"},{typa:"nat",typb:"rational",typr:"rational"},{typa:"bls12_381_fr",typb:"nat",typr:"bls12_381_fr"},{typa:"bls12_381_fr",typb:"int",typr:"bls12_381_fr"},{typa:"nat",typb:"bls12_381_fr",typr:"bls12_381_fr"},{typa:"int",typb:"bls12_381_fr",typr:"bls12_381_fr"}],fails:[{keyword:'"INVALID_NEGATIVE_TEZ"',desc:a.createElement("div",null,"when ",a.createElement("code",null,"a - b")," value typed ",a.createElement("code",null,"tez")," is negative.")}]},minus:{label:"- a",link:"--a",desc:a.createElement("div",null,"Returns the opposite of ",a.createElement("code",null,"a"),"."),binary:!1,types:[{typa:"int",typr:"int"},{typa:"nat",typr:"int"},{typa:"duration",typr:"duration"},{typa:"rational",typr:"rational"},{typa:"bls12_381_fr",typr:"bls12_381_fr"},{typa:"bls12_381_g1",typr:"bls12_381_g1"},{typa:"bls12_381_g2",typr:"bls12_381_g2"}]},mult:{label:"a * b",link:"a--b-1",desc:"Multiplies two numbers",types:[{typa:"nat",typb:"nat",typr:"nat"},{typa:"int",typb:"int",typr:"int"},{typa:"rational",typb:"rational",typr:"rational"},{typa:"nat",typb:"tez",typr:"tez"},{typa:"int",typb:"tez",typr:"tez"},{typa:"rational",typb:"tez",typr:"tez",comment:"(quotient of euclidean division)"},{typa:"nat",typb:"duration",typr:"duration"},{typa:"int",typb:"duration",typr:"duration"},{typa:"bls12_381_fr",typb:"bls12_381_fr",typr:"bls12_381_fr"},{typa:"bls12_381_g1",typb:"bls12_381_fr",typr:"bls12_381_g1"},{typa:"bls12_381_g2",typb:"bls12_381_fr",typr:"bls12_381_g2"}],promotions:[{typa:"nat",typb:"int",typr:"int"},{typa:"int",typb:"nat",typr:"int"},{typa:"rational",typb:"nat",typr:"rational"},{typa:"nat",typb:"rational",typr:"rational"},{typa:"rational",typb:"int",typr:"rational"},{typa:"int",typb:"rational",typr:"rational"},{typa:"bls12_381_fr",typb:"nat",typr:"bls12_381_fr"},{typa:"nat",typb:"bls12_381_fr",typr:"bls12_381_fr"},{typa:"bls12_381_fr",typb:"int",typr:"bls12_381_fr"},{typa:"int",typb:"bls12_381_fr",typr:"bls12_381_fr"}]},slash:{label:"a / b",link:"a--b-2",desc:"Divides two numbers as a rational.",types:[{typa:"nat",typb:"nat",typr:"rational"},{typa:"int",typb:"int",typr:"rational"},{typa:"duration",typb:"duration",typr:"rational"},{typa:"rational",typb:"rational",typr:"rational"}],promotions:[{typa:"nat",typb:"int",typr:"rational"},{typa:"int",typb:"nat",typr:"rational"},{typa:"nat",typb:"rational",typr:"rational"},{typa:"rational",typb:"nat",typr:"rational"},{typa:"int",typb:"rational",typr:"rational"},{typa:"rational",typb:"int",typr:"rational"}]},div:{label:"a div b",link:"a-div-b",desc:a.createElement(d,null),types:[{typa:"nat",typb:"nat",typr:"nat"},{typa:"int",typb:"int",typr:"int"},{typa:"duration",typb:"duration",typr:"int"},{typa:"duration",typb:"nat",typr:"duration"},{typa:"duration",typb:"int",typr:"duration"},{typa:"tez",typb:"nat",typr:"tez"}],promotions:[{typa:"int",typb:"nat",typr:"int"},{typa:"nat",typb:"int",typr:"int"},{typa:"int",typb:"nat",typr:"int"}],fails:[{keyword:'"DivByZero"',desc:a.createElement("div",null,"when ",a.createElement("code",null,"b")," is equal to 0")}]},mod:{label:"a % b",link:"a--b-3",desc:a.createElement(u,null),types:[{typa:"nat",typb:"nat",typr:"nat"},{typa:"int",typb:"int",typr:"int"},{typa:"duration",typb:"duration",typr:"int"},{typa:"nat",typb:"int",typr:"nat"},{typa:"int",typb:"nat",typr:"nat"}],fails:[{keyword:'"DivByZero"',desc:a.createElement("div",null,"when ",a.createElement("code",null,"b")," is equal to 0")}]},divmod:{label:"a /% b",link:"a--b-4",desc:a.createElement("div",null,"Returns the euclidean division of ",a.createElement("code",null,"a")," by ",a.createElement("code",null,"b"),"; returns an option of quotient and remainder:",a.createElement("ul",null,a.createElement("li",null,a.createElement("code",null,"some(q, r)"),", when ",a.createElement("code",null,"b")," is different from 0, ",a.createElement("code",null),a.createElement("code",null,"q")," being the quotient and ",a.createElement("code",null,"r")," the remainder"),a.createElement("li",null,a.createElement("code",null,"none"),", when ",a.createElement("code",null,"b")," is equal to 0"))),types:[{typa:"nat",typb:"nat",typr:"option<nat * nat>",withLink:!1},{typa:"int",typb:"int",typr:"option<int * nat>",withLink:!1},{typa:"tez",typb:"tez",typr:"option<nat * tez>",withLink:!1},{typa:"nat",typb:"int",typr:"option<int * nat>",withLink:!1},{typa:"int",typb:"nat",typr:"option<int * nat>",withLink:!1},{typa:"tez",typb:"nat",typr:"option<tez * tez>",withLink:!1}]},lsl:{label:"a <<| b",link:"a--b-5",desc:a.createElement("div",null,"Shifts the bits of ",a.createElement("code",null,"a")," to the left by the number of positions specified by ",a.createElement("code",null,"b"),". Simultaneously, the empty spaces created by the bits shifted to the left are then filled with zeroes. It is a fast way to multiply by a power of 2.",a.createElement("br",null),a.createElement("br",null)),types:[{typa:"nat",typb:"nat",typr:"nat"}],fails:[{keyword:'"script_overflow"',desc:a.createElement("div",null,"when ",a.createElement("code",null,"b")," is greater than ",a.createElement("code",null,"256"))}]},lsr:{label:"a |>> b",link:"a--b-6",desc:a.createElement("div",null,"Shifts the bits of ",a.createElement("code",null,"a")," to the right by the number of positions specified by ",a.createElement("code",null,"b"),". It is a fast way to divide by a power of 2.",a.createElement("br",null),a.createElement("br",null)),types:[{typa:"nat",typb:"nat",typr:"nat"}],fails:[{keyword:'"script_overflow"',desc:a.createElement("div",null,"when ",a.createElement("code",null,"b")," is greater than ",a.createElement("code",null,"256"))}]},and:{label:"a and b",link:"a-and-b",desc:a.createElement("div",null,a.createElement(l.Z,{to:"/blog/shortcut-evaluation"},"Shortcut evaluation")," of logical conjonction:",a.createElement("ul",null,a.createElement("li",null,a.createElement("code",null,"true")," if ",a.createElement("code",null,"a")," and ",a.createElement("code",null,"b")," are ",a.createElement("code",null,"true")),a.createElement("li",null,a.createElement("code",null,"false")," otherwise."))),types:[{typa:"bool",typb:"bool",typr:"bool"}]},or:{label:"a or b",link:"a-or-b",desc:a.createElement("div",null,a.createElement(l.Z,{to:"/blog/shortcut-evaluation"},"Shortcut evaluation")," of logical disjonction:",a.createElement("ul",null,a.createElement("li",null,a.createElement("code",null,"true")," if ",a.createElement("code",null,"a")," or ",a.createElement("code",null,"b")," is ",a.createElement("code",null,"true")),a.createElement("li",null,a.createElement("code",null,"false")," otherwise"))),types:[{typa:"bool",typb:"bool",typr:"bool"}]},xor:{label:"a xor b",link:"a-xor-b",desc:a.createElement("div",null,a.createElement("ul",null,a.createElement("li",null,a.createElement("code",null,"true")," if ",a.createElement("code",null,"a")," and ",a.createElement("code",null,"b")," are different"),a.createElement("li",null,a.createElement("code",null,"false")," otherwise"))),types:[{typa:"bool",typb:"bool",typr:"bool"}]},not:{label:"not a",link:"not-a",binary:!1,desc:a.createElement("div",null,a.createElement("ul",null,a.createElement("li",null,a.createElement("code",null,"true")," if ",a.createElement("code",null,"a")," is ",a.createElement("code",null,"false")),a.createElement("li",null,a.createElement("code",null,"false")," if ",a.createElement("code",null,"a")," is ",a.createElement("code",null,"true")))),types:[{typa:"bool",typr:"bool"}]},eq:{label:"a = b",link:"a--b-7",desc:a.createElement("div",null,"Equality operator"),types:y("bool"),promotions:k("bool")},neq:{label:"a <> b",link:"a--b-8",desc:a.createElement("div",null,"Difference operator, equivalent to ",a.createElement("code",null,"not (a = b)"),"."),types:y("bool"),promotions:k("bool")},lt:{label:"a < b",link:"a--b-9",desc:a.createElement("div",null,"'Less than' operator"),types:y("bool"),promotions:k("bool")},lteq:{label:"a <= b",link:"a--b-10",desc:a.createElement("div",null,"'Less than or equal to' operator"),types:y("bool"),promotions:k("bool")},gt:{label:"a > b",link:"a--b-11",desc:a.createElement("div",null,"'Greater than' operator"),types:y("bool"),promotions:k("bool")},gteq:{label:"a >= b",link:"a--b-12",desc:a.createElement("div",null,"'Greater than or equal to' operator"),types:y("bool"),promotions:k("bool")},cmp:{label:"a <=> b",link:"a--b-13",desc:a.createElement("div",null,"Comparison operator on which above comparison operators are built; it returns:",a.createElement("ul",null,a.createElement("li",null,a.createElement("code",null,"-1")," when ",a.createElement("code",null,"a < b")),a.createElement("li",null,a.createElement("code",null,"1"),"  when ",a.createElement("code",null,"a > b")),a.createElement("li",null,a.createElement("code",null,"0")," when ",a.createElement("code",null,"a = b")))),types:y("int"),promotions:k("int")}}},8441:function(e,t,n){n.d(t,{N:function(){return l}});var a="/docs/reference/instructions",l={sequence:[{label:"begin end",link:a+"/sequence"},{label:" ; ",link:a+"/sequence"}],localvar:[{label:"var",link:a+"/localvariable#var"},{label:"const",link:a+"/localvariable#const"}],assignments:[{label:":=",link:a+"/assignment#a--b"},{label:"+=",link:a+"/assignment#a--b-1"},{label:"-=",link:a+"/assignment#a---b"},{label:"*=",link:a+"/assignment#a--b-2"},{label:"/=",link:a+"/assignment#a--b-3"},{label:"&=",link:a+"/assignment#a--b-4"},{label:"|=",link:a+"/assignment#a--b-5"}],controls:[{label:"if",link:a+"/control#if"},{label:"match",link:a+"/control#match-with"},{label:"for",link:a+"/control#for"},{label:"while",link:a+"/control#while"},{label:"iter",link:a+"/control#iter"}],divergent:[{label:"fail",link:a+"/divergent#faile"},{label:"fail_some",link:a+"/divergent#fail_somee--optiont"},{label:"do_require",link:a+"/divergent#do_requiret-e"},{label:"do_fail_if",link:a+"/divergent#do_fail_ift-e"}],sets:[{label:"add",link:a+"/containers#sadde"},{label:"remove",link:a+"/containers#sremovee"}],lists:[{label:"prepend",link:a+"/containers#lprepende"},{label:"reverse",link:a+"/containers#lreverse"},{label:"concat",link:a+"/containers#lconcatl"}],maps:[{label:"put",link:a+"/containers#mputk-v"},{label:"remove",link:a+"/containers#mremovek"},{label:"update",link:a+"/containers#mupdatek--k-o--optiont"}],assets:[{label:"add",link:a+"/asset#aadda",desc:"Adds a new asset in collection"},{label:"put",link:a+"/asset#aputa",desc:"Adds or replace an asset in collection"},{label:"update",link:a+"/asset#aupdatek--u-",desc:"Updates one or several fields of an asset in collection"},{label:"update_all",link:a+"/asset#aupdate_allk--u-",desc:"Updates one or several fields of an asset collection or view"},{label:"add_update",link:a+"/asset#aadd_updatek--u-",desc:"Adds a new asset or updates an asset in collection"},{label:"remove",link:a+"/asset#aremovek",desc:"Removes element from collection, partition or aggregate"},{label:"remove_if",link:a+"/asset#aremove_ifp",desc:"Removes referenced assets that verify a predicate"},{label:"remove_all",link:a+"/asset#aremove_all",desc:"Removes all assets from collection"},{label:"clear",link:a+"/asset#aclear",desc:"Removes all referenced assets from an asset view"}],blockchain:[{label:"transfer",link:a+"/operation#transfer"},{label:"emit",link:a+"/operation#emit"}]}},7753:function(e,t,n){n.d(t,{V5:function(){return A}});var a=n(9960),l=n(7294),r=n(7462),i=n(3366),s=n(3905),o=["components"],c={toc:[]};function d(e){var t=e.components,n=(0,i.Z)(e,o);return(0,s.kt)("wrapper",(0,r.Z)({},c,n,{components:t,mdxType:"MDXLayout"}),(0,s.kt)("p",null,"Type of asset field to ",(0,s.kt)("em",{parentName:"p"},"reference")," assets from another collection ",(0,s.kt)("inlineCode",{parentName:"p"},"A"),"."),(0,s.kt)("p",null,"For example, field ",(0,s.kt)("inlineCode",{parentName:"p"},"drives")," references assets from the ",(0,s.kt)("inlineCode",{parentName:"p"},"car")," asset collection:"),(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre",className:"language-archetype"},"asset car {\n  vin     : string;\n  nbdoors : nat = 0\n}\n\nasset driver {\n  id     : address;\n  drives : aggregate<car>\n}\n")),(0,s.kt)("p",null,"Notes:"),(0,s.kt)("ul",null,(0,s.kt)("li",{parentName:"ul"},"two drivers may reference the same car"),(0,s.kt)("li",{parentName:"ul"},"adding in ",(0,s.kt)("inlineCode",{parentName:"li"},"drives")," fails if car's vin is not present in ",(0,s.kt)("inlineCode",{parentName:"li"},"car")," collection.")))}d.isMDXComponent=!0;var p=["components"],m={toc:[]};function u(e){var t=e.components,n=(0,i.Z)(e,p);return(0,s.kt)("wrapper",(0,r.Z)({},m,n,{components:t,mdxType:"MDXLayout"}),(0,s.kt)("p",null,"Type of asset field to ",(0,s.kt)("em",{parentName:"p"},"reference")," assets from another collection ",(0,s.kt)("inlineCode",{parentName:"p"},"A"),", so that each asset from ",(0,s.kt)("inlineCode",{parentName:"p"},"A")," is referenced by exactly one asset from this collection."),(0,s.kt)("p",null,"For example, field ",(0,s.kt)("inlineCode",{parentName:"p"},"drives")," references assets from the ",(0,s.kt)("inlineCode",{parentName:"p"},"car")," asset collection:"),(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre",className:"language-archetype"},"asset car {\n  vin     : string;\n  nbdoors : nat = 0\n}\n\nasset driver {\n  id     : address;\n  drives : partition<car>\n}\n")),(0,s.kt)("p",null,"Notes:"),(0,s.kt)("ul",null,(0,s.kt)("li",{parentName:"ul"},"a ",(0,s.kt)("inlineCode",{parentName:"li"},"car")," asset may only be added via the ",(0,s.kt)("inlineCode",{parentName:"li"},"drives")," partition with for example:")),(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre",className:"language-archetype"},'driver[a].drives.add({ vin : "1G1AF1F57A7192174" })\n')),(0,s.kt)("ul",null,(0,s.kt)("li",{parentName:"ul"},"straightforwardly adding in ",(0,s.kt)("inlineCode",{parentName:"li"},"car")," collection fails at compilation"),(0,s.kt)("li",{parentName:"ul"},"two drivers cannot reference the same car")))}u.isMDXComponent=!0;var y=["components"],k={toc:[]};function b(e){var t=e.components,n=(0,i.Z)(e,y);return(0,s.kt)("wrapper",(0,r.Z)({},k,n,{components:t,mdxType:"MDXLayout"}),(0,s.kt)("p",null,"Map from ",(0,s.kt)("inlineCode",{parentName:"p"},"K"),"-typed key to ",(0,s.kt)("inlineCode",{parentName:"p"},"V"),"-typed value, that can deal with a high number of keys."),(0,s.kt)("p",null,"The issue with a standard map is that the cost of ",(0,s.kt)("em",{parentName:"p"},"deserialisation")," becomes prohibitive as the number of keys increases. Indeed a map, as well as any storage element, is stored in a serialised format, and gets deserialised each time the contract storage is accessed."),(0,s.kt)("p",null,"A big map is not stored in the contract storage, but rather has its own dedicated storage; it is ",(0,s.kt)("em",{parentName:"p"},"referenced")," from the contract storage by an integer value, hence the deserialisation cost of the contract storage is not impacted by the number of keys in the big map."),(0,s.kt)("div",{className:"admonition admonition-info alert alert--info"},(0,s.kt)("div",{parentName:"div",className:"admonition-heading"},(0,s.kt)("h5",{parentName:"div"},(0,s.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,s.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,s.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"}))),"info")),(0,s.kt)("div",{parentName:"div",className:"admonition-content"},(0,s.kt)("p",{parentName:"div"},"The constraint is that a big map is ",(0,s.kt)("strong",{parentName:"p"},"not")," iterable (because only a ",(0,s.kt)("em",{parentName:"p"},"hash")," of the key is stored, not the key itself). It means that ",(0,s.kt)("a",{parentName:"p",href:"/docs/reference/instructions/control#for"},(0,s.kt)("inlineCode",{parentName:"a"},"for")),", ",(0,s.kt)("a",{parentName:"p",href:"/docs/reference/instructions/control#while"},(0,s.kt)("inlineCode",{parentName:"a"},"while"))," and ",(0,s.kt)("a",{parentName:"p",href:"/docs/reference/instructions/control#iter"},(0,s.kt)("inlineCode",{parentName:"a"},"iter"))," instructions and ",(0,s.kt)("a",{parentName:"p",href:"/docs/reference/expressions/builtins#length(o%20:%20T)"},(0,s.kt)("inlineCode",{parentName:"a"},"length"))," expression are not available for big maps. See the ",(0,s.kt)("a",{parentName:"p",href:"/docs/reference/types#iterable_big_map"},(0,s.kt)("inlineCode",{parentName:"a"},"iterable_big_map"))," type for an iterable big map."))))}b.isMDXComponent=!0;var f=["components"],h={toc:[]};function g(e){var t=e.components,n=(0,i.Z)(e,f);return(0,s.kt)("wrapper",(0,r.Z)({},h,n,{components:t,mdxType:"MDXLayout"}),(0,s.kt)("p",null,"Type of an asset value generated from asset declaration. An asset value is a record that provides all asset fields but the asset identifier field(s)."),(0,s.kt)("p",null,"Consider for example the following asset declaration:"),(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre",className:"language-archetype"},"asset result {\n  id    : string;\n  score : nat;\n  time  : duration;\n}\n")),(0,s.kt)("p",null,"The asset value for ",(0,s.kt)("inlineCode",{parentName:"p"},"result")," is the record with ",(0,s.kt)("inlineCode",{parentName:"p"},"score")," and ",(0,s.kt)("inlineCode",{parentName:"p"},"time")," fields. Hence ",(0,s.kt)("inlineCode",{parentName:"p"},"asset_value<result>")," is equivalent to the following declaration:"),(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre",className:"language-archetype"},"record ledger_asset_value {\n  score : nat;\n  time  : duration;\n}\n")),(0,s.kt)("p",null,"An asset record value is returned by the ",(0,s.kt)("a",{parentName:"p",href:"/docs/reference/expressions/asset#ak--asset_keya"},(0,s.kt)("inlineCode",{parentName:"a"},"[]"))," asset method (and ",(0,s.kt)("a",{parentName:"p",href:"/docs/reference/expressions/asset#agetk--asset_keya"},(0,s.kt)("inlineCode",{parentName:"a"},"get")),"). As for any record, fields are accessed normally with ",(0,s.kt)("inlineCode",{parentName:"p"},".")," operator:"),(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre",className:"language-archetype"},'const v : asset_value<result> = result["#sub001"];\nconst s = v.score;\nconst t = v.time;\n')))}g.isMDXComponent=!0;var E=["components"],v={toc:[]};function _(e){var t=e.components,n=(0,i.Z)(e,E);return(0,s.kt)("wrapper",(0,r.Z)({},v,n,{components:t,mdxType:"MDXLayout"}),(0,s.kt)("p",null,"An iterable big map has the scalability property of a ",(0,s.kt)("a",{parentName:"p",href:"/docs/reference/types#big_map%3CK,%20V%3E"},(0,s.kt)("inlineCode",{parentName:"a"},"big_map"))," and can be iterated."),(0,s.kt)("p",null,"Consider the following declaration:"),(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre",className:"language-archetype"},"variable m : iterable_big_map<nat, string> = []\n")),(0,s.kt)("p",null,"It is then possible to iterate over ",(0,s.kt)("inlineCode",{parentName:"p"},"m"),":"),(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre",className:"language-archetype"},"for (k,v) in m do\n  /* k is the key */\n  /* v is the value associated to k */\ndone\n")),(0,s.kt)("p",null,"An iterable big map is compiled in Michelson as a triplet:"),(0,s.kt)("ul",null,(0,s.kt)("li",{parentName:"ul"},"a big map for the keys"),(0,s.kt)("li",{parentName:"ul"},"a big map for the values"),(0,s.kt)("li",{parentName:"ul"},"a counter")),(0,s.kt)("p",null,"The detailed mechanism is presented in this ",(0,s.kt)("a",{parentName:"p",href:"/blog/iterable-big-map"},"blog entry"),"."),(0,s.kt)("div",{className:"admonition admonition-info alert alert--info"},(0,s.kt)("div",{parentName:"div",className:"admonition-heading"},(0,s.kt)("h5",{parentName:"div"},(0,s.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,s.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,s.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"}))),"info")),(0,s.kt)("div",{parentName:"div",className:"admonition-content"},(0,s.kt)("p",{parentName:"div"},"The order in which keys are iterated is ",(0,s.kt)("em",{parentName:"p"},"not")," the natural order."))),(0,s.kt)("div",{className:"admonition admonition-caution alert alert--warning"},(0,s.kt)("div",{parentName:"div",className:"admonition-heading"},(0,s.kt)("h5",{parentName:"div"},(0,s.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,s.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"},(0,s.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"}))),"caution")),(0,s.kt)("div",{parentName:"div",className:"admonition-content"},(0,s.kt)("p",{parentName:"div"},"The possiblity to iterate comes with an increased cost of ",(0,s.kt)("a",{parentName:"p",href:"/docs/reference/instructions/containers#mputk-v"},(0,s.kt)("inlineCode",{parentName:"a"},"put"))," ",(0,s.kt)("a",{parentName:"p",href:"/docs/reference/instructions/containers#mremovek"},(0,s.kt)("inlineCode",{parentName:"a"},"remove"))," and ",(0,s.kt)("a",{parentName:"p",href:"/docs/reference/instructions/containers#mupdatek--k-o--optiont"},(0,s.kt)("inlineCode",{parentName:"a"},"update"))," operations."))))}_.isMDXComponent=!0;var w="https://tezos.gitlab.io/michelson-reference",T="/docs/reference/declarations/entrypoint#",x="/docs/reference/instructions",N="/docs/reference/expressions/constants#",C="/docs/reference/expressions/builtins#",Z="/docs/reference/expressions/asset#",A={address:{desc:l.createElement("div",null,"Account or contract address on the Tezos blockchain. ",l.createElement("p",null),"An address is formed of a prefix (",l.createElement("code",null,"tz1")," ",l.createElement("code",null,"tz2")," ",l.createElement("code",null,"tz3")," and ",l.createElement("code",null,"KT1")," for contracts) followed by a Base58 encoded hash and terminated by a 4-byte checksum."),link:"#address",examples:["tz1Lc2qBKEWCBeDU8npG6zCeCqpmaegRi6Jg","tz2BFTyPeYRzxd5aiBchbXN3WCZhx7BqbMBq","tz3hFR7NZtjT2QtzgMQnWb4xMuD6yt2YzXUt","KT1VMCj69PwwKK7aRLRPnWoYh4X1xQqk2Vm2"],tags:[0,1,2,3],michelson:"address",michelson_ref_url:w+"/#type-address",related:[{keyword:"Basic types",link:"/docs/language-basics/types",code:!1},{keyword:"sourced by",link:T+"sourced-by"},{keyword:"called by",link:T+"called-by"},{keyword:"transfer",link:x+"/operation#transfer"},{keyword:"caller",link:N+"caller"},{keyword:"source",link:N+"source"},{keyword:"=",link:"/docs/reference/expressions/operators/arithmetic#a--b-7"},{keyword:"call_view",link:C+"call_view<T>(a%20:%20address,%20id%20:%20string,%20arg%20:%20X)"},{keyword:"set_delegate",link:C+"set_delegate(opkh%20:%20option<key_hash>)"},{keyword:"contract_to_address",link:C+"contract_to_address(c%20:%20contract<T>)"},{keyword:"address_to_contract",link:C+"address_to_contract(a%20:%20address)"},{keyword:"key_to_address",link:C+"key_to_address(k%20:%20key)"},{keyword:"read_ticket",link:C+"read_ticket(t%20:%20ticket<T>)"}]},aggregate:{desc:l.createElement(d,null),link:"#aggregate<A>",examples:['[ "1G1AF1F57A7192174" ]'],tags:[1,2,3],related:[{keyword:"Asset",link:"/docs/asset",code:!1},{keyword:"add",link:x+"/asset#aadda"},{keyword:"remove",link:x+"/asset#aremovek"},{keyword:"remove_if",link:x+"/asset#aremove_ifp"},{keyword:"remove_all",link:x+"/asset#aremove_all"},{keyword:"clear",link:x+"/asset#aclear"},{keyword:"[]",link:Z+"ak--asset_keyaf"},{keyword:"contains",link:Z+"acontainsk--asset_keya"},{keyword:"count",link:Z+"acount"},{keyword:"nth",link:Z+"anthi--nat"},{keyword:"sort",link:Z+"asortf"},{keyword:"sum",link:Z+"asumf"},{keyword:"select",link:Z+"aselectp"},{keyword:"head",link:Z+"aheadi--nat"},{keyword:"tail",link:Z+"ataili--nat"}]},asset_key:{desc:l.createElement("div",null,"Type of the key of asset ",l.createElement("code",null,"A"),"."),link:"#asset_key<A>",examples:[],parameters:[{keyword:"A",type:"asset",desc:"Any declared asset."}],tags:[0,1,2,3],related:[{keyword:"Asset",link:"/docs/asset"}]},asset_value:{desc:l.createElement(g,null),link:"#asset_value<A>",examples:[],parameters:[{keyword:"A",type:"asset",desc:"Any declared asset."}],tags:[0,1,2,3],related:[{keyword:"Asset",link:"/docs/asset"},{keyword:"[]",link:Z+"ak--asset_keya"},{keyword:"get",link:Z+"agetk--asset_keya"}]},asset_view:{desc:l.createElement("div",null,"Read-only view on asset collection returned by asset methods. It is possible to iterate on an ",l.createElement("code",null,"asset_view")," with the ",l.createElement(a.Z,{to:"/docs/reference/instructions/control#for"},l.createElement("code",null,"for"))," instruction. They are internally represented as list of asset keys."),link:"#asset_view<A>",examples:["[]"],tags:[1,3],related:[{keyword:"Asset",link:"/docs/asset",code:!1},{keyword:"contains",link:Z+"acontainsk--asset_keya"},{keyword:"count",link:Z+"acount"},{keyword:"nth",link:Z+"anthi--nat"},{keyword:"sort",link:Z+"asortf"},{keyword:"sum",link:Z+"asumf"},{keyword:"select",link:Z+"aselectp"},{keyword:"head",link:Z+"aheadi--nat"},{keyword:"tail",link:Z+"ataili--nat"}]},big_map:{desc:l.createElement(b,null),link:"#big_map<K,%20V>",examples:["[]",'[ ("#1G1AF1F57A7192174", 5); ("#2F4AH1J77O7132095", 10) ]'],tags:[1,2],michelson:"big_map",michelson_ref_url:w+"/#type-big_map",related:[{keyword:"Basic containers",link:"/docs/language-basics/container#map",code:!1},{keyword:"put",link:x+"/containers#mputk-v"},{keyword:"remove",link:x+"/containers#mremovek"},{keyword:"update",link:x+"/containers#mupdatek--k-o--optiont"},{keyword:"iterable_big_map",link:"/docs/reference/types#iterable_big_map"}]},bls12_381_fr:{desc:l.createElement("div",null,"Multplicative scalar for the BLS12_381 curves ",l.createElement(a.Z,{to:"/docs/reference/types#bls12_381_g1"},"g1")," and ",l.createElement(a.Z,{to:"/docs/reference/types#bls12_381_g2"},"g2"),".",l.createElement("br",null),"Literals can either be a raw bytes representation or a natural."),link:"#bls12_381_fr",examples:["0x02","2"],tags:[1,2,3],michelson:"bls12_381_fr",michelson_ref_url:w+"/#type-bls12_381_fr",related:[{keyword:"Elliptic curves",link:"/docs/language-basics/crypto#elliptic-curves"},{keyword:"bls12_381_g1",link:"/docs/reference/types#bls12_381_g1"},{keyword:"bls12_381_g2",link:"/docs/reference/types#bls12_381_g2"},{keyword:"pairing_check",link:"/docs/reference/expressions/builtins#pairing_check(l%20:%20list<bls12_381_g1%20*%20bls12_381_g2>)"}]},bls12_381_g1:{desc:l.createElement("div",null,"Point on the elliptic curve ",l.createElement(a.Z,{to:"/docs/reference/types#bls12_381_g1"},"g1"),"."),link:"#bls12_381_g1",examples:["0x063bd6e11e2fcaac1dd8cf68c6b1925a73c3c583e298ed37c41c3715115cf96358a42dbe85a0228cbfd8a6c8a8c54cd015b5ae2860d1cc47f84698d951f14d9448d03f04df2ca0ffe609a2067d6f1a892163a5e05e541279134cae52b1f23c6b"],tags:[1,2,3],michelson:"bls12_381_g1",michelson_ref_url:w+"/#type-bls12_381_g1",related:[{keyword:"Elliptic curves",link:"/docs/language-basics/crypto#elliptic-curves"},{keyword:"bls12_381_fr",link:"/docs/reference/types#bls12_381_fr"},{keyword:"bls12_381_g2",link:"/docs/reference/types#bls12_381_g2"},{keyword:"pairing_check",link:"/docs/reference/expressions/builtins#pairing_check(l%20:%20list<bls12_381_g1%20*%20bls12_381_g2>)"}]},bls12_381_g2:{desc:l.createElement("div",null,"Point on the elliptic curve ",l.createElement(a.Z,{to:"/docs/reference/types#bls12_381_g2"},"g2"),"."),link:"#bls12_381_g2",examples:["0x10c6d5cdca84fc3c7f33061add256f48e0ab03a697832b338901898b650419eb6f334b28153fb73ad2ecd1cd2ac67053161e9f46cfbdaf7b1132a4654a55162850249650f9b873ac3113fa8c02ef1cd1df481480a4457f351d28f4da89d19fa405c3d77f686dc9a24d2681c9184bf2b091f62e6b24df651a3da8bd7067e14e7908fb02f8955b84af5081614cb5bc49b416d9edf914fc608c441b3f2eb8b6043736ddb9d4e4d62334a23b5625c14ef3e1a7e99258386310221b22d83a5eac035c"],tags:[1,2,3],michelson:"bls12_381_g2",michelson_ref_url:w+"/#type-bls12_381_g2",related:[{keyword:"Elliptic curves",link:"/docs/language-basics/crypto#elliptic-curves"},{keyword:"bls12_381_fr",link:"/docs/reference/types#bls12_381_fr"},{keyword:"bls12_381_g1",link:"/docs/reference/types#bls12_381_g1"},{keyword:"pairing_check",link:"/docs/reference/expressions/builtins#pairing_check(l%20:%20list<bls12_381_g1%20*%20bls12_381_g2>)"}]},bool:{desc:l.createElement("div",null,"Boolean value ",l.createElement("code",null,"true")," or ",l.createElement("code",null,"false")," for logical tests."),link:"#bool",examples:["true","false"],tags:[0,1,2,3],michelson:"bool",michelson_ref_url:w+"/#type-bool",related:[{keyword:"if",link:"/docs/reference/instructions/control#if"},{keyword:"while",link:"/docs/reference/instructions/control#while"},{keyword:"do_require",link:"/docs/reference/instructions/divergent#do_requiret--bool-e--t"},{keyword:"do_fail_if",link:"/docs/reference/instructions/divergent#do_fail_ift--bool-e--t"},{keyword:"remove_if",link:"/docs/reference/instructions/asset#aremove_ifp"},{keyword:"&=",link:"/docs/reference/instructions/assignment#a--b-4"},{keyword:"|=",link:"/docs/reference/instructions/assignment#a--b-5"},{keyword:"and",link:"/docs/reference/expressions/operators/arithmetic#a-and-b"},{keyword:"or",link:"/docs/reference/expressions/operators/arithmetic#a-or-b"},{keyword:"xor",link:"/docs/reference/expressions/operators/arithmetic#a-xor-b"},{keyword:"not",link:"/docs/reference/expressions/operators/arithmetic#not-a"},{keyword:"=",link:"/docs/reference/expressions/operators/arithmetic#a--b-7"},{keyword:"<>",link:"/docs/reference/expressions/operators/arithmetic#a--b-8"},{keyword:"<=>",link:"/docs/reference/expressions/operators/arithmetic#a--b-13"},{keyword:"if",link:"/docs/reference/expressions/controls#if-then-else"},{keyword:"?:",link:"/docs/reference/expressions/controls#a--b--c"},{keyword:"check_signature",link:"/docs/reference/expressions/builtins#check_signature(k%20:%20key,%20s%20:%20signature,%20b%20:%20bytes)"},{keyword:"contains",link:"/docs/reference/expressions/builtins#contains(c%20:%20C,%20e%20:%20T)"},{keyword:"greedy_and",link:"/docs/reference/expressions/builtins#greedy_and(a%20:%20bool,%20b%20:%20bool)"},{keyword:"greedy_or",link:"/docs/reference/expressions/builtins#greedy_or(a%20:%20bool,%20b%20:%20bool)"},{keyword:"is_none",link:"/docs/reference/expressions/builtins#is_none(o%20:%20option<T>)"},{keyword:"is_some",link:"/docs/reference/expressions/builtins#is_some(o%20:%20option<T>)"},{keyword:"open_chest",link:"/docs/reference/expressions/builtins#open_chest(k%20:%20chest_key,%20c%20:%20chest,%20t%20:%20nat)"},{keyword:"pairing_check",link:"/docs/reference/expressions/builtins#pairing_check(l%20:%20list<bls12_381_g1%20*%20bls12_381_g2>)"},{keyword:"select",link:"/docs/reference/expressions/asset#aselectp"}]},bytes:{desc:l.createElement("div",null,"Array of byte values to represent any serialised data. It is used for signatures and hash values."),link:"#bytes",examples:["0x00","0x050002","0x"],tags:[0,1,2,3],michelson:"bytes",michelson_ref_url:w+"/#type-bytes",related:[{keyword:"concat",link:"/docs/reference/expressions/builtins#bytes"},{keyword:"length",link:"/docs/reference/expressions/builtins#length(o%20:%20T)"},{keyword:"slice",link:"/docs/reference/expressions/builtins#slice(s%20:%20T,%20o%20:%20nat,%20l%20:%20nat)"},{keyword:"pack",link:"/docs/reference/expressions/builtins#pack(o%20:%20T)"},{keyword:"unpack",link:"/docs/reference/expressions/builtins#unpack<T>(b%20:%20bytes)"},{keyword:"sha256",link:"/docs/reference/expressions/builtins#sha256(b%20:%20bytes)"},{keyword:"sha3",link:"/docs/reference/expressions/builtins#sha3(b%20:%20bytes)"},{keyword:"sha512",link:"/docs/reference/expressions/builtins#sha512(b%20:%20bytes)"},{keyword:"blake2b",link:"/docs/reference/expressions/builtins#blake2b(b%20:%20bytes)"},{keyword:"keccak",link:"/docs/reference/expressions/builtins#keccak(b%20:%20bytes)"},{keyword:"check_signature",link:"/docs/reference/expressions/builtins#check_signature(k%20:%20key,%20s%20:%20signature,%20b%20:%20bytes)"},{keyword:"open_chest",link:"/docs/reference/expressions/builtins#open_chest(k%20:%20chest_key,%20c%20:%20chest,%20t%20:%20nat)"}]},chain_id:{desc:l.createElement("div",null,"Type of the chain network identifier."),link:"#chain_id",examples:['"NetXdQprcVkpaWU"',"chain_id"],tags:[0,1,2,3],michelson:"chain_id",michelson_ref_url:w+"/#type-chain_id",related:[{keyword:"chain_id",link:"/docs/reference/expressions/constants#chain_id"}]},chest:{desc:"TODO",link:"#chest",examples:["0xc5ecdde89eb8c1e7aaeb85abb8f5e5cef3b4fa80c4aee2fccbf0a78ce0debaa5e9ddede3ddfbd9abdea28cc7dc99e6d3a9baf3cbae9adaaabc89cbc39e97e2c7a6cba99197d19ba09ddfd181afc997ffbcc5acb2d29ecbb698c2cacbdd83d1b4ced0bffe9cd78295b3fba4d9f9d5f4d4ec9ad3c7e1a8eeb9dba5cbd8a2dbf29af8e4a4c1e4b1edacf98fccefaef9fea4f0bacdd38ecbfe81c3f9839b9e9ab8fbf5f1eabac48a9f8ca7c588eefe94d1f18bd9bcee9aecde8dd285cf9098f4e1a7eec787f3a0e0ff9cd0ce8ec5a2a4e5ecb08fce899eb5baa397fabf90de9397cebc81bbdfb386e6b4da9fd8fdd19ed9f8d684c782b0aacfeebae4f6e7d1c5c1e6a093c68081cf83b991b4ecd7b38aee92deddcad79eb9abe0a0a0c6b5909dc58495f69445fff5ae9cefe8b8beb2fb86ccf5c9ad91989bdad8a3cfbedaffa2de8bf19dc6ac8cbc8a9584fa9f85f9ba958fc6bbc09ac8e7d5f0fdb98b86c1c7d59ad7c6dfc2d2cefaf5d9db909bf0e3acd3ccc792bc9bccbab4a4febda9b685dbc39ea2a4a7b69990d3abd8b9b3d7dbc581b984f3e08a98f7f7f0e697cc8dfd88edc8c3ca8dc3b2a9ccf6cdd6d0efcc848bc8ead5858bbabfcfc1c8ecea84fd9b96a5e4eabb8c918dafe6f78d83e8e1c2e5f8ee88a4ee8dcaeeafffebfcbbfda1e9eb86c582f2eedd9299cbc0a7fce083ced8c8ddb0e7eaacb696c1fccdadcdc8e3c6f7b9de84eece9bb7919094fef4fdf6efd8b1ba8bbecb9380add4f59ddbf9a19f95facc84e9d0a99bfa93f1fcc3a0fbde9b9ce0c7e8dec6e8d1dfa7dda6f490bb9580abfdbcc0e202e5ff731c3c17d080ee430edd30979a47aa653656e11e593800000015c2ca2a23b732a72932611618ad9ea324986377591e"],tags:[1,2,3],michelson:"chest",michelson_ref_url:w+"/#type-chest",related:[{keyword:"Presentation",link:"/docs/language-basics/crypto"}]},chest_key:{desc:"TODO",link:"#chest_key",examples:["0xa0aceddfb3c9fbe1b8c382c7d5a7dedbe2e5adf9edcfc3e9d084caa6aeb9818ff1e985cb9efe8fa089ceeaa0f5d0bcb583e2f29196f2d3908fffffdcda868faffcb78fb697e7eaf3e7dca9d4b5dda2c3e4f8adf8abf484ecae85f7d6e0f2d28cb69af1d7b19082e8d8d7ba96e7e1e0bb8ac9b9fcf0a9e5b7c1a499c4faf4c8a3a9c8e4d09aa780eac6cee1b78a97a3e983abf9a5f1e8d2a2a2b5e3bcb8c4effeb7a3a68a85a497cd91c9a2c096c3f596deb8d1aca3a5aff28effb8cfc9c7ced892e3a7c09deeb8c8ec9387a3b384b5c8bccaafc7a9a2c1cfd8c7becfd7d6828a9af8f4988fe4ead3b59ecfb8ff8cabf8be90d4c8bdbddfce9cd7c2bb81edc4b7ad80a59a978f8c9debe7aaf08cf0c588f3eaade6b9f4e4e6edf1ed9c9988e48d9ba0aa8f01d18bac92b886db9dd798b5f6fdc891a28da2c4c48da1918897a2b7c2dfa0b78ab8e291b68fb1a2bfa5e8b88e9cabb0b5b0feabcffc9cfeee888ac4afeed9dc8bf5a4eaa9ae89a3838cf6cfd4f8acff8fa7aef7a9889fbbc7d8f6dde4edf3e58096e580e299e5b082b9cf85f3fe8ac6c0998eb1bcbab9bfb8fba39faea7bce0f6fed9ea86dfdad58cf7cbc7fcc4ecf7e2e898d3b19582e38c8092b7e4a0cddc83eb8bc38d91fefed6be869496b8e4fc99d5fae5c6a2b2dcabe2a4ea85b68b87b182d7e8cac29fe0b9efd6d0eb999ffa98aaaf9bf09fe7c4b39d81db97e4e7bbaef0e3bfedd69d9089bc8d91b292afa6c8b389fc9fb7aaa8decab6d9b493a6eafaa5baffe8fb85f2d483ecd1f2d1e58f938df9d8d5e385fe96c5f58ae1e0b09bf2b3c2931f"],tags:[1,2,3],michelson:"chest_key",michelson_ref_url:w+"/#type-chest_key",related:[{keyword:"Presentation",link:"/docs/language-basics/crypto"}]},contract:{desc:"TODO",link:"#contract<T>",examples:[],tags:[1,3],michelson:"contract",michelson_ref_url:w+"/#type-contract",related:[{keyword:"Operation",link:"/docs/reference/instructions/operation"}]},date:{desc:"TODO",link:"#date",examples:["2019-01-01","2019-01-01T01:02:03","2019-01-01T01:02:03Z","2019-01-01T00:00:00+01:00","2019-01-01T00:00:00-05:30"],tags:[0,1,2,3],michelson:"timestamp",michelson_ref_url:w+"/#type-timestamp",related:[]},duration:{desc:"TODO",link:"#duration",examples:["1m","5d","3w8d4h34m18s"],tags:[0,1,2,3],michelson:"int",related:[]},enum:{desc:"Union of several types: its value is one of the possible declared values; values can be parameterized.",link:"#enum",examples:["enum color = | Red | Green | Blue","Red","Green","Blue"],tags:[0,1,2,3],michelson:["int","or"],related:[{keyword:"Enum",link:"/docs/language-basics/composite#enum"}]},event:{desc:"TODO",link:"#event",examples:[],tags:[],related:[]},int:{desc:"TODO",link:"#int",examples:["0i","2i","123i","-1","100_000i"],tags:[0,1,2,3],michelson:"int",michelson_ref_url:w+"/#type-int",related:[{keyword:"Types",link:"/docs/language-basics/types"},{keyword:"nat",link:"/docs/reference/types#nat"}]},iterable_big_map:{desc:l.createElement(_,null),link:"#iterable_big_map<K,%20V>",examples:["[]",'[ ("#1G1AF1F57A7192174", 5); ("#2F4AH1J77O7132095", 10) ]'],tags:[0,1,2,3],related:[{keyword:"big_map",link:"/docs/reference/types#big_map<K,%20V>"},{keyword:"put",link:x+"/containers#mputk-v"},{keyword:"remove",link:x+"/containers#mremovek"},{keyword:"update",link:x+"/containers#mupdatek--k-o--optiont"}]},key:{desc:"TODO",link:"#key",examples:['"edpkurLzuFFL1XyP3fed4u7MsgeywQoQmHM45Bz91PBzDvUjQ9bvdn"'],tags:[0,1,2,3],michelson:"key",michelson_ref_url:w+"/#type-key",related:[{keyword:"Presentation",link:"/docs/language-basics/crypto#key"}]},key_hash:{desc:"TODO",link:"#key_hash",examples:['"tz1Lc2qBKEWCBeDU8npG6zCeCqpmaegRi6Jg"'],tags:[0,1,2,3],michelson:"key_hash",michelson_ref_url:w+"/#type-key_hash",related:[{keyword:"Presentation",link:"/docs/language-basics/crypto#key_hash"}]},lambda:{desc:"TODO",link:"#lambda<T,%20R>",examples:[],tags:[1,2,3],michelson:"lambda",michelson_ref_url:w+"/#type-lambda",related:[{keyword:"Presentation",link:"/docs/language-basics/lambda"}]},list:{desc:"Immutable (read-only) list of elements.",link:"#list<T>",parameters:[{keyword:"T",type:"any type",desc:"type of the elements of the list"}],examples:["[]","[ 1 ]",'[ "abc", "def" ]'],tags:[1,2,3],michelson:"list",michelson_ref_url:w+"/#type-list",related:[{keyword:"List",link:"/docs/language-basics/container#list"},{keyword:"Iter",link:"/docs/reference/instructions/control#iter"}]},map:{desc:"Imutable (read only) maps from key to value; keys are sorted.",link:"#map<K,%20V>",parameters:[{keyword:"K",type:"any comparable type",desc:"type of the key"},{keyword:"V",type:"any type",desc:"type of the associated value"}],examples:['variable m : map<nat, string> = [ (0, "a string"); (1, "another string") ]'],tags:[1,2,3],michelson:"map",michelson_ref_url:w+"/#type-map",related:[{keyword:"Map",link:"/docs/language-basics/container#map"}]},nat:{desc:"TODO",link:"#nat",examples:["0","2","123","100_000"],tags:[0,1,2,3],michelson:"nat",michelson_ref_url:w+"/#type-nat",related:[{keyword:"int",link:"/docs/reference/types#int"}]},never:{desc:"TODO",link:"#never",examples:[],tags:[0,1,2,3],michelson:"never",michelson_ref_url:w+"/#type-never",related:[]},operation:{desc:"TODO",link:"#operation",examples:[],tags:[],michelson:"operation",michelson_ref_url:w+"/#type-operation",related:[{keyword:"Operation",link:"/docs/reference/instructions/operation"}]},option:{desc:"Type for optional value, that is either some value of some type, or none.",link:"#option<T>",parameters:[{keyword:"T",type:"any type",desc:"type of the value when the option is some value"}],examples:["none",'some("abcd")'],tags:[0,1,2,3],michelson:"option",michelson_ref_url:w+"/#type-option",related:[{keyword:"Option",link:"/docs/language-basics/composite#option"}]},or:{desc:"Union of two types: its value can either be of the one or the other type (left or right).",link:"#or<T1,%20T2>",parameters:[{keyword:"T1",type:"any type",desc:"left type"},{keyword:"T2",type:"any type",desc:"right type"}],examples:["variable o : or<nat, string> = left<string>(2)","variable o : or<nat, string> = left<nat, string>(2)",'variable o : or<nat, string> = right<nat>("#a56fG")','variable o : or<nat, string> = right<nat, string>("#a56fG")'],tags:[0,1,2,3],michelson:"or T1 T2",michelson_ref_url:w+"/#type-or",related:[{keyword:"Or",link:"/docs/language-basics/composite#or"}]},partition:{desc:l.createElement(u,null),link:"#partition<A>",examples:[],tags:[1,2,3],related:[{keyword:"Asset",link:"/docs/asset"},{keyword:"aggregate",link:"/docs/reference/types#aggregate<A>"},{keyword:"asset_view",link:"/docs/reference/types#asset_view<A>"}]},rational:{desc:"TODO",link:"#rational",examples:["1.1","-1.1","1 / 3","-1 / 3","80%","4.2%"],tags:[0,1,2,3],michelson:"pair int nat",related:[]},record:{desc:"TODO",link:"#record",examples:[],tags:[],related:[{keyword:"Presentation",link:"/docs/language-basics/composite#record"}]},sapling_state:{desc:"TODO",link:"#sapling_state(n)",examples:[],parameters:[{keyword:"n",type:"natural number",desc:"Memo size"}],tags:[1,2],michelson:"sapling_state",michelson_ref_url:w+"/#type-sapling_state",related:[{keyword:"Presentation",link:"/docs/language-basics/crypto#sapling_state"}]},sapling_transaction:{desc:"TODO",link:"#sapling_transaction(n)",examples:[],parameters:[{keyword:"n",type:"natural number",desc:"Memo size"}],tags:[1,2,3],michelson:"sapling_transaction",michelson_ref_url:w+"/#type-sapling_transaction",related:[{keyword:"Presentation",link:"/docs/language-basics/crypto#sapling_transaction"}]},set:{desc:"TODO",link:"#set<T>",examples:[],tags:[1,2,3],michelson:"set",michelson_ref_url:w+"/#type-set",related:[{keyword:"Presentation",link:"/docs/language-basics/container#set"}]},signature:{desc:"TODO",link:"#signature",examples:['"edsigtvwtJaiM7phNNkZjazqKtthDxc3WswYNL961GKgz7VxvPJmWJ8WEkmEZd9oFM1RvwABYW3uYgwGRP7nuBns5WrqyfYsUaB"'],tags:[0,1,2,3],michelson:"signature",michelson_ref_url:w+"/#type-signature",related:[{keyword:"Presentation",link:"/docs/language-basics/crypto#signature"}]},string:{desc:"Basic string type to store and manipulate array of non-extended ASCII characters.",link:"#string",examples:['"This is a string"','"12345"'],tags:[0,1,2,3],michelson:"string",michelson_ref_url:w+"/#type-string",related:[]},tez:{desc:l.createElement("div",null,"Tezos currency in mutez (millionth of XTZ); several literal units are provided:",l.createElement("ul",null,l.createElement("li",null,l.createElement("code",null,"1tz")," is 1000000 mutez"),l.createElement("li",null,l.createElement("code",null,"1mtz")," is 1000 mutez"),l.createElement("li",null,l.createElement("code",null,"1utz")," is 1 mutez")),"For ",l.createElement("code",null,"tz")," and ",l.createElement("code",null,"mtz")," it is possible to use floating point literals with a maximum of respectively 6 and 3 decimal places; hence ",l.createElement("code",null,"1.5324235tz")," and ",l.createElement("code",null,"1.5324mtz")," are not valid."),link:"#tez",examples:["1tz","1mtz","1utz","1.23tz","1.2mtz"],tags:[0,1,2,3],michelson:"mutez",michelson_ref_url:w+"/#type-mutez",related:[{keyword:"Operation",link:"/docs/reference/instructions/operation"}]},ticket:{desc:"TODO",link:"#ticket<T>",examples:[],parameters:[{keyword:"T",type:"any type",desc:"type of the value held by the ticket"}],tags:[1,2],michelson:"ticket",michelson_ref_url:w+"/#type-ticket",related:[{keyword:"Presentation",link:"/docs/language-basics/ticket"}]},tuple:{desc:"TODO",link:"#tuple",examples:[],tags:[0,1,2,3],michelson:"pair",michelson_ref_url:w+"/#type-pair",related:[{keyword:"Presentation",link:"/docs/language-basics/composite#tuple"}]},unit:{desc:"TODO",link:"#unit",examples:["Unit","()"],tags:[0,1,2,3],michelson:"unit",michelson_ref_url:w+"/#type-unit",related:[]}}},2156:function(e,t,n){n.d(t,{Z:function(){return s}});var a=n(7294),l=n(1519),r=n(4810),i=n(2321);function s(){return a.createElement(r.Z,{injectFirst:!0},a.createElement(l.Z,{className:i.Z.divider}))}},4591:function(e,t,n){n.r(t),n.d(t,{assets:function(){return Z},contentTitle:function(){return N},default:function(){return z},frontMatter:function(){return x},metadata:function(){return C},toc:function(){return A}});var a=n(7462),l=n(3366),r=n(7294),i=n(3905),s=n(6886),o=n(5861),c=n(1519),d=n(9960),p=n(4810),m=n(2321);function u(e){return r.createElement(p.Z,{injectFirst:!0},r.createElement(s.ZP,{container:!0,style:{marginBottom:"12px"}},void 0!==e.title?r.createElement(s.ZP,{item:!0,xs:12},r.createElement(o.Z,{style:{fontFamily:"IBM Plex Sans",color:"grey"}},e.title)):r.createElement("div",null),void 0!==e.title?r.createElement(s.ZP,{item:!0,xs:12},r.createElement(c.Z,{className:m.Z.divider,style:{marginBottom:"8px",marginTop:"4px"}})):r.createElement("div",null),r.createElement(s.ZP,{item:!0,xs:12},r.createElement(s.ZP,{container:!0},e.data.map((function(t,n){return r.createElement(s.ZP,{key:"eevi"+n,item:!0,md:e.xs,xs:6,sm:6,style:{marginBottom:"12px"}},r.createElement(d.Z,{to:t.link},r.createElement("code",null,t.label)))}))))))}var y="/docs/reference/declarations",k={storage:[{label:"parameter",link:y+"/storage#parameter"},{label:"variable",link:y+"/storage#variable"},{label:"asset",link:y+"/storage#asset"}],types:[{label:"record",link:y+"/compositetypes#record"},{label:"enum",link:y+"/compositetypes#enum"},{label:"states",link:y+"/compositetypes#states"},{label:"event",link:y+"/compositetypes#event"}],inlined:[{label:"constant",link:y+"/inlined#constant"}],entrypoints:[{label:"entry",link:y+"/entrypoint#entry"},{label:"transition",link:y+"/entrypoint#transition"},{label:"getter",link:y+"/entrypoint#getter"}],sections:[{label:"no transfer",link:y+"/entrypoint#no-transfer"},{label:"sourced by",link:y+"/entrypoint#sourced-by"},{label:"called by",link:y+"/entrypoint#called-by"},{label:"state is",link:y+"/entrypoint#state-is"},{label:"require",link:y+"/entrypoint#require"},{label:"fail if",link:y+"/entrypoint#fail-if"},{label:"effect",link:y+"/entrypoint#effect"}],functions:[{label:"function",link:y+"/function"}],views:[{label:"view",link:y+"/view"}]},b=n(8441),f=n(7753),h=n(6912),g=n(9110),E={bracket:{label:"a[b]",link:"tuple"},dot:{label:"a.b",link:"record"}},v={with:{label:"{ with }",link:"-with-"}},_=n(9406),w=n(8864),T=["components"],x={},N="Reference",C={unversionedId:"reference/index",id:"reference/index",title:"Reference",description:"This is the Archetype language reference.",source:"@site/docs/reference/index.md",sourceDirName:"reference",slug:"/reference/",permalink:"/archetype-docs/docs/reference/",editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/reference/index.md",tags:[],version:"current",frontMatter:{},sidebar:"docsSidebar",previous:{title:"State Machine",permalink:"/archetype-docs/docs/statemachine"},next:{title:"Identifier",permalink:"/archetype-docs/docs/reference/declarations/identifier"}},Z={},A=[{value:"Declarations",id:"declarations",level:2},{value:"Types",id:"types",level:2},{value:"Instructions",id:"instructions",level:2},{value:"Expressions",id:"expressions",level:2}],L={toc:A};function z(e){var t=e.components,n=(0,l.Z)(e,T);return(0,i.kt)("wrapper",(0,a.Z)({},L,n,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("h1",{id:"reference"},"Reference"),(0,i.kt)("p",null,"This is the Archetype language reference."),(0,i.kt)("h2",{id:"declarations"},"Declarations"),(0,i.kt)(s.ZP,{container:!0,mdxType:"Grid"},(0,i.kt)(s.ZP,{item:!0,md:4,xs:12,sm:12,mdxType:"Grid"},(0,i.kt)(u,{title:"Storage",data:k.storage,xs:4,mdxType:"EagleEyeView"})),(0,i.kt)(s.ZP,{item:!0,md:8,xs:12,sm:12,mdxType:"Grid"},(0,i.kt)(u,{title:"Composite types",data:k.types,xs:3,mdxType:"EagleEyeView"})),(0,i.kt)(s.ZP,{item:!0,md:4,xs:12,sm:12,mdxType:"Grid"},(0,i.kt)(u,{title:"Inlined",data:k.inlined,xs:4,mdxType:"EagleEyeView"})),(0,i.kt)(s.ZP,{item:!0,md:8,xs:12,sm:12,mdxType:"Grid"},(0,i.kt)(u,{title:"Entrypoints",data:k.entrypoints,xs:3,mdxType:"EagleEyeView"}))),(0,i.kt)(u,{title:"Sections",data:k.sections,xs:4,mdxType:"EagleEyeView"}),(0,i.kt)(s.ZP,{container:!0,mdxType:"Grid"},(0,i.kt)(s.ZP,{item:!0,md:4,xs:12,sm:12,mdxType:"Grid"},(0,i.kt)(u,{title:"Functions",data:k.functions,xs:4,mdxType:"EagleEyeView"})),(0,i.kt)(s.ZP,{item:!0,md:8,xs:12,sm:12,mdxType:"Grid"},(0,i.kt)(u,{title:"Views",data:k.views,xs:3,mdxType:"EagleEyeView"}))),(0,i.kt)("h2",{id:"types"},"Types"),(0,i.kt)(u,{data:Object.entries(f.V5).map((function(e){var t=e[0];e[1];return{label:t,link:"/docs/reference/types"+f.V5[t].link}})),xs:4,mdxType:"EagleEyeView"}),(0,i.kt)("h2",{id:"instructions"},"Instructions"),(0,i.kt)(s.ZP,{container:!0,mdxType:"Grid"},(0,i.kt)(s.ZP,{item:!0,md:4,xs:12,sm:12,mdxType:"Grid"},(0,i.kt)(u,{title:"Sequence",data:b.N.sequence,xs:6,mdxType:"EagleEyeView"})),(0,i.kt)(s.ZP,{item:!0,md:8,xs:12,sm:12,mdxType:"Grid"},(0,i.kt)(u,{title:"Local variable",data:b.N.localvar,xs:6,mdxType:"EagleEyeView"}))),(0,i.kt)(u,{title:"Assignment",data:b.N.assignments,xs:1,mdxType:"EagleEyeView"}),(0,i.kt)(u,{title:"Control",data:b.N.controls,xs:2,mdxType:"EagleEyeView"}),(0,i.kt)(u,{title:"Divergent",data:b.N.divergent,xs:2,mdxType:"EagleEyeView"}),(0,i.kt)(s.ZP,{container:!0,mdxType:"Grid"},(0,i.kt)(s.ZP,{item:!0,md:4,xs:12,sm:12,mdxType:"Grid"},(0,i.kt)(u,{title:"Set",data:b.N.sets,xs:6,mdxType:"EagleEyeView"})),(0,i.kt)(s.ZP,{item:!0,md:8,xs:12,sm:12,mdxType:"Grid"},(0,i.kt)(u,{title:"List",data:b.N.lists,xs:3,mdxType:"EagleEyeView"}))),(0,i.kt)(u,{title:"Map",data:b.N.maps,xs:2,mdxType:"EagleEyeView"}),(0,i.kt)(u,{title:"Asset",data:b.N.assets,xs:2,mdxType:"EagleEyeView"}),(0,i.kt)(u,{title:"Operation",data:b.N.blockchain,xs:4,mdxType:"EagleEyeView"}),(0,i.kt)("h2",{id:"expressions"},"Expressions"),(0,i.kt)(u,{title:"Constants",data:Object.entries(h._).map((function(e){var t=e[0];e[1];return{label:t,link:"/docs/reference/expressions/constants#"+t}})),xs:4,mdxType:"EagleEyeView"}),(0,i.kt)(u,{title:"Access operators",data:Object.entries(E).map((function(e){var t=e[0];e[1];return{label:E[t].label,link:"/docs/reference/expressions/operators/access#"+E[t].link}})),xs:4,mdxType:"EagleEyeView"}),(0,i.kt)(u,{title:"Copy operators",data:Object.entries(v).map((function(e){var t=e[0];e[1];return{label:v[t].label,link:"/docs/reference/expressions/operators/copy#"+v[t].link}})),xs:4,mdxType:"EagleEyeView"}),(0,i.kt)(u,{title:"Arithmetic operators",data:Object.entries(g.G).map((function(e){var t=e[0];e[1];return{label:g.G[t].label,link:"/docs/reference/expressions/operators/arithmetic#"+g.G[t].link}})),xs:4,mdxType:"EagleEyeView"}),(0,i.kt)(u,{title:"Builtins",data:Object.entries(_.Q).sort().map((function(e){var t=e[0],n=e[1];return{label:t,link:"/docs/reference/expressions/builtins#"+(0,_.H)(n.sig)}})),xs:4,mdxType:"EagleEyeView"}),(0,i.kt)(u,{title:"Control",data:w.m.controls,xs:4,mdxType:"EagleEyeView"}),(0,i.kt)(u,{title:"Declaration",data:w.m.declaration,xs:4,mdxType:"EagleEyeView"}),(0,i.kt)(u,{title:"Asset",data:w.m.asset,xs:4,mdxType:"EagleEyeView"}))}z.isMDXComponent=!0},2321:function(e,t){t.Z={divider:"divider_LuCZ"}}}]);